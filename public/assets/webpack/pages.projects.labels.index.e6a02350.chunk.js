(this.webpackJsonp=this.webpackJsonp||[]).push([[135],{869:function(t,e,o){"use strict";o.r(e);var l=o(8),a=o(72),r=o(505),n=new l.default,i=o(3),s=o.n(i),d=o(5),u=o(7),c=o(95),m=o(1),b=o(21),p={components:{GlModal:c.a},props:{url:{type:String,required:!0},labelTitle:{type:String,required:!0},labelColor:{type:String,required:!0},labelTextColor:{type:String,required:!0},groupName:{type:String,required:!0}},computed:{text:function(){return Object(m.f)(Object(m.e)("Labels|Promoting %{labelTitle} will make it available for all projects inside %{groupName}. \n      Existing project labels with the same title will be merged. This action cannot be reversed."),{labelTitle:this.labelTitle,groupName:this.groupName})},title:function(){var t='<span\n        class="label color-label"\n        style="background-color: '+this.labelColor+"; color: "+this.labelTextColor+';"\n      >'+s.a.escape(this.labelTitle)+"</span>";return Object(m.f)(Object(m.e)("Labels|<span>Promote label</span> %{labelTitle} <span>to Group Label?</span>"),{labelTitle:t},!1)}},methods:{onSubmit:function(){var t=this;return n.$emit("promoteLabelModal.requestStarted",this.url),d.a.post(this.url,{params:{format:"json"}}).then(function(e){n.$emit("promoteLabelModal.requestFinished",{labelUrl:t.url,successful:!0}),Object(b.g)(e.data.url)}).catch(function(e){n.$emit("promoteLabelModal.requestFinished",{labelUrl:t.url,successful:!1}),Object(u.a)(e)})}}},f=o(2),h=Object(f.a)(p,function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("gl-modal",{attrs:{id:"promote-label-modal","footer-primary-button-text":t.s__("Labels|Promote Label"),"footer-primary-button-variant":"warning"},on:{submit:t.onSubmit}},[o("div",{staticClass:"modal-title-with-label",attrs:{slot:"title"},domProps:{innerHTML:t._s(t.title)},slot:"title"},[t._v("\n    "+t._s(t.title)+"\n  ")]),t._v("\n\n  "+t._s(t.text)+"\n")])},[],!1,null,null,null).exports;l.default.use(a.a);document.addEventListener("DOMContentLoaded",function(){Object(r.a)();var t=function(t){var e=t.labelUrl,o=t.successful,l=document.querySelector('.js-promote-project-label-button[data-url="'+e+'"]');o||l.removeAttribute("disabled")},e=function(e){document.querySelector('.js-promote-project-label-button[data-url="'+e+'"]').setAttribute("disabled",""),n.$once("promoteLabelModal.requestFinished",t)},o=function(t){var o=t.currentTarget,l={labelTitle:o.dataset.labelTitle,labelColor:o.dataset.labelColor,labelTextColor:o.dataset.labelTextColor,url:o.dataset.url,groupName:o.dataset.groupName};n.$once("promoteLabelModal.requestStarted",e),n.$emit("promoteLabelModal.props",l)},a=document.querySelectorAll(".js-promote-project-label-button");a.forEach(function(t){t.addEventListener("click",o)}),n.$once("promoteLabelModal.mounted",function(){a.forEach(function(t){t.removeAttribute("disabled")})});var i=document.getElementById("promote-label-modal"),s=void 0;return i&&(s=new l.default({el:i,components:{PromoteLabelModal:h},data:function(){return{modalProps:{labelTitle:"",labelColor:"",labelTextColor:"",url:"",groupName:""}}},mounted:function(){n.$on("promoteLabelModal.props",this.setModalProps),n.$emit("promoteLabelModal.mounted")},beforeDestroy:function(){n.$off("promoteLabelModal.props",this.setModalProps)},methods:{setModalProps:function(t){this.modalProps=t}},render:function(t){return t("promote-label-modal",{props:this.modalProps})}})),s})},95:function(t,e,o){"use strict";var l=o(0),a=o.n(l),r=["danger","primary","success","warning"],n=["sm","md","lg","xl"],i={name:"GlModal",props:{id:{type:String,required:!1,default:null},modalSize:{type:String,required:!1,default:"md",validator:function(t){return n.includes(t)}},headerTitleText:{type:String,required:!1,default:""},footerPrimaryButtonVariant:{type:String,required:!1,default:"primary",validator:function(t){return r.includes(t)}},footerPrimaryButtonText:{type:String,required:!1,default:""}},computed:{modalSizeClass:function(){return"md"===this.modalSize?"":"modal-"+this.modalSize}},mounted:function(){a()(this.$el).on("shown.bs.modal",this.opened).on("hidden.bs.modal",this.closed)},beforeDestroy:function(){a()(this.$el).off("shown.bs.modal",this.opened).off("hidden.bs.modal",this.closed)},methods:{emitCancel:function(t){this.$emit("cancel",t)},emitSubmit:function(t){this.$emit("submit",t)},opened:function(){this.$emit("open")},closed:function(){this.$emit("closed")}}},s=o(2),d=Object(s.a)(i,function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"modal fade",attrs:{id:t.id,tabindex:"-1",role:"dialog"}},[o("div",{staticClass:"modal-dialog",class:t.modalSizeClass,attrs:{role:"document"}},[o("div",{staticClass:"modal-content"},[o("div",{staticClass:"modal-header"},[t._t("header",[o("h4",{staticClass:"modal-title"},[t._t("title",[t._v("\n              "+t._s(t.headerTitleText)+"\n            ")])],2),t._v(" "),o("button",{staticClass:"close js-modal-close-action",attrs:{"aria-label":t.s__("Modal|Close"),type:"button","data-dismiss":"modal"},on:{click:function(e){t.emitCancel(e)}}},[o("span",{attrs:{"aria-hidden":"true"}},[t._v("Ã—")])])])],2),t._v(" "),o("div",{staticClass:"modal-body"},[t._t("default")],2),t._v(" "),o("div",{staticClass:"modal-footer"},[t._t("footer",[o("button",{staticClass:"btn js-modal-cancel-action",attrs:{type:"button","data-dismiss":"modal"},on:{click:function(e){t.emitCancel(e)}}},[t._v("\n            "+t._s(t.s__("Modal|Cancel"))+"\n          ")]),t._v(" "),o("button",{staticClass:"btn js-modal-primary-action",class:"btn-"+t.footerPrimaryButtonVariant,attrs:{type:"button","data-dismiss":"modal"},on:{click:function(e){t.emitSubmit(e)}}},[t._v("\n            "+t._s(t.footerPrimaryButtonText)+"\n          ")])])],2)])])])},[],!1,null,null,null);e.a=d.exports},963:function(t,e,o){o(31),o(57),t.exports=o(869)}},[[963,0,1,2,19]]]);
//# sourceMappingURL=pages.projects.labels.index.e6a02350.chunk.js.map