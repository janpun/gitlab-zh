{"version":3,"sources":["webpack:///./pages/admin/admin.js","webpack:///./pages/admin/index.js","webpack:///./pages/admin/abuse_reports/abuse_reports.js","webpack:///./pages/admin/abuse_reports/index.js"],"names":["showBlacklistType","jquery_default","val","show","hide","document","addEventListener","modal","on","$elems","this","attr","prop","e","preventDefault","toggleClass","tab","$visibleLog","animate","scrollTop","find","height","url_utility","MESSAGE_CELL_SELECTOR","AbuseReports","_classCallCheck","each","truncateLongMessage","off","toggleMessageTruncation","$messageCellElement","reportMessage","text","length","data","Object","text_utility","originalMessage","substr","MAX_MESSAGE_LENGTH","abuse_reports"],"mappings":"+KAGA,SAASA,IACiD,SAApDC,IAAE,wCAAwCC,OAC5CD,IAAE,mBAAmBE,OACrBF,IAAE,kBAAkBG,SAEpBH,IAAE,mBAAmBG,OACrBH,IAAE,kBAAkBE,QCPxBE,SAASC,iBAAiB,mBDWX,WACb,IAAMC,EAAQN,IAAE,wBAEhBA,IAAE,oCAAoCO,GAAG,SAAU,WACjD,IAAMC,EAASR,IAAE,+CACbA,IAAES,MAAMC,KAAK,WACfF,EAAOP,IAAI,IAAIU,KAAK,YAAY,GAEhCH,EAAOG,KAAK,YAAY,KAI5BX,IAAE,QAAQO,GAAG,QAAS,yBAA0B,SAACK,GAC/CA,EAAEC,iBACFb,IAAE,+BAA+Bc,YAAY,UAG/Cd,IAAE,eAAeO,GAAG,QAAS,SAAsBK,GACjDA,EAAEC,iBACFb,IAAES,MAAMM,IAAI,UAGdf,IAAE,eAAeO,GAAG,QAAS,SAACK,GAC5BA,EAAEC,iBACF,IAAMG,EAAchB,IAAE,yBACtBgB,EAAYC,SACVC,UAAWF,EAAYG,KAAK,MAAMC,UACjC,UAGLpB,IAAE,sBAAsBO,GAAG,QAAS,SAA8BK,GAChEA,EAAEC,iBACFb,IAAES,MAAMN,OACRG,EAAMJ,SAGRF,IAAE,6BAA6BO,GAAG,QAAS,SAACK,GAC1CA,EAAEC,iBACFP,EAAMH,OACNH,IAAE,sBAAsBE,SAG1BF,IAAE,sCAAsCO,GAAG,eAAgBc,EAAA,GAE3DrB,IAAE,gCAAgCO,GAAG,QAASR,GAC9CA,gUEvDF,IACMuB,EAAwB,uCAG5B,SAAAC,iGAAcC,CAAAf,KAAAc,GACZvB,IAAEsB,GAAuBG,KAAKhB,KAAKiB,qBACnC1B,IAAEI,UACCuB,IAAI,QAASL,GACbf,GAAG,QAASe,EAAuBb,KAAKmB,iFAI3C,IAAMC,EAAsB7B,IAAES,MACxBqB,EAAgBD,EAAoBE,OACtCD,EAAcE,OAdK,MAerBH,EAAoBI,KAAK,kBAAmBH,GAC5CD,EAAoBI,KAAK,mBAAoB,QAC7CJ,EAAoBE,KAAKG,OAAAC,EAAA,EAAAD,CAASJ,EAjBb,yDAsBvB,IAAMD,EAAsB7B,IAAES,MACxB2B,EAAkBP,EAAoBI,KAAK,mBAC5CG,IACgD,SAAjDP,EAAoBI,KAAK,qBAC3BJ,EAAoBI,KAAK,mBAAoB,SAC7CJ,EAAoBE,KAAKK,KAEzBP,EAAoBI,KAAK,mBAAoB,QAC7CJ,EAAoBE,KAAQK,EAAgBC,OAAO,EAAIC,KAAvD,kBC/BNlC,SAASC,iBAAiB,mBAAoB,kBAAM,IAAIkC","file":"pages.admin.abuse_reports.d9ad789a.chunk.js","sourcesContent":["import $ from 'jquery';\nimport { refreshCurrentPage } from '../../lib/utils/url_utility';\n\nfunction showBlacklistType() {\n  if ($('input[name=\"blacklist_type\"]:checked').val() === 'file') {\n    $('.blacklist-file').show();\n    $('.blacklist-raw').hide();\n  } else {\n    $('.blacklist-file').hide();\n    $('.blacklist-raw').show();\n  }\n}\n\nexport default function adminInit() {\n  const modal = $('.change-owner-holder');\n\n  $('input#user_force_random_password').on('change', function randomPasswordClick() {\n    const $elems = $('#user_password, #user_password_confirmation');\n    if ($(this).attr('checked')) {\n      $elems.val('').prop('disabled', true);\n    } else {\n      $elems.prop('disabled', false);\n    }\n  });\n\n  $('body').on('click', '.js-toggle-colors-link', (e) => {\n    e.preventDefault();\n    $('.js-toggle-colors-container').toggleClass('hide');\n  });\n\n  $('.log-tabs a').on('click', function logTabsClick(e) {\n    e.preventDefault();\n    $(this).tab('show');\n  });\n\n  $('.log-bottom').on('click', (e) => {\n    e.preventDefault();\n    const $visibleLog = $('.file-content:visible');\n    $visibleLog.animate({\n      scrollTop: $visibleLog.find('ol').height(),\n    }, 'fast');\n  });\n\n  $('.change-owner-link').on('click', function changeOwnerLinkClick(e) {\n    e.preventDefault();\n    $(this).hide();\n    modal.show();\n  });\n\n  $('.change-owner-cancel-link').on('click', (e) => {\n    e.preventDefault();\n    modal.hide();\n    $('.change-owner-link').show();\n  });\n\n  $('li.project_member, li.group_member').on('ajax:success', refreshCurrentPage);\n\n  $(\"input[name='blacklist_type']\").on('click', showBlacklistType);\n  showBlacklistType();\n}\n","import initAdmin from './admin';\n\ndocument.addEventListener('DOMContentLoaded', initAdmin);\n","import $ from 'jquery';\nimport { truncate } from '../../../lib/utils/text_utility';\n\nconst MAX_MESSAGE_LENGTH = 500;\nconst MESSAGE_CELL_SELECTOR = '.abuse-reports .message';\n\nexport default class AbuseReports {\n  constructor() {\n    $(MESSAGE_CELL_SELECTOR).each(this.truncateLongMessage);\n    $(document)\n      .off('click', MESSAGE_CELL_SELECTOR)\n      .on('click', MESSAGE_CELL_SELECTOR, this.toggleMessageTruncation);\n  }\n\n  truncateLongMessage() {\n    const $messageCellElement = $(this);\n    const reportMessage = $messageCellElement.text();\n    if (reportMessage.length > MAX_MESSAGE_LENGTH) {\n      $messageCellElement.data('originalMessage', reportMessage);\n      $messageCellElement.data('messageTruncated', 'true');\n      $messageCellElement.text(truncate(reportMessage, MAX_MESSAGE_LENGTH));\n    }\n  }\n\n  toggleMessageTruncation() {\n    const $messageCellElement = $(this);\n    const originalMessage = $messageCellElement.data('originalMessage');\n    if (!originalMessage) return;\n    if ($messageCellElement.data('messageTruncated') === 'true') {\n      $messageCellElement.data('messageTruncated', 'false');\n      $messageCellElement.text(originalMessage);\n    } else {\n      $messageCellElement.data('messageTruncated', 'true');\n      $messageCellElement.text(`${originalMessage.substr(0, (MAX_MESSAGE_LENGTH - 3))}...`);\n    }\n  }\n}\n","import AbuseReports from './abuse_reports';\n\ndocument.addEventListener('DOMContentLoaded', () => new AbuseReports());\n"],"sourceRoot":""}