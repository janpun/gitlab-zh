(this.webpackJsonp=this.webpackJsonp||[]).push([[174],{1057:function(e,t,i){"use strict";i.r(t);var r=i(198),n=i(87);document.addEventListener("DOMContentLoaded",function(){new n.a,new r.a})},1058:function(e,t,i){i(31),i(57),e.exports=i(1057)},198:function(e,t,i){"use strict";var r=i(0),n=i.n(r),o=i(7),a=i(11),c=i(5),s=function(){function e(e,t){for(var i=0;i<t.length;i++){var r=t[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,i,r){return i&&e(t.prototype,i),r&&e(t,r),t}}();var l=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),e.initAuxiliaryViewer(),e.initRichViewer(),this.initMainViewers()}return s(e,[{key:"initMainViewers",value:function(){this.$fileHolder=n()(".file-holder"),this.$fileHolder.length&&(this.switcher=document.querySelector(".js-blob-viewer-switcher"),this.switcherBtns=document.querySelectorAll(".js-blob-viewer-switch-btn"),this.copySourceBtn=document.querySelector(".js-copy-blob-source-btn"),this.simpleViewer=this.$fileHolder[0].querySelector('.blob-viewer[data-type="simple"]'),this.richViewer=this.$fileHolder[0].querySelector('.blob-viewer[data-type="rich"]'),this.initBindings(),this.switchToInitialViewer())}},{key:"switchToInitialViewer",value:function(){var e=this.$fileHolder[0].querySelector(".blob-viewer:not(.hidden)").getAttribute("data-type");this.switcher&&0===window.location.hash.indexOf("#L")&&(e="simple"),this.switchToViewer(e)}},{key:"initBindings",value:function(){var e=this;this.switcherBtns.length&&Array.from(this.switcherBtns).forEach(function(t){t.addEventListener("click",e.switchViewHandler.bind(e))}),this.copySourceBtn&&this.copySourceBtn.addEventListener("click",function(){return e.copySourceBtn.classList.contains("disabled")?e.copySourceBtn.blur():e.switchToViewer("simple")})}},{key:"switchViewHandler",value:function(e){var t=e.currentTarget;e.preventDefault(),this.switchToViewer(t.getAttribute("data-viewer"))}},{key:"toggleCopyButtonState",value:function(){this.copySourceBtn&&(this.simpleViewer.getAttribute("data-loaded")?(this.copySourceBtn.setAttribute("title","Copy source to clipboard"),this.copySourceBtn.classList.remove("disabled")):this.activeViewer===this.simpleViewer?(this.copySourceBtn.setAttribute("title","Wait for the source to load to copy it to the clipboard"),this.copySourceBtn.classList.add("disabled")):(this.copySourceBtn.setAttribute("title","Switch to the source to copy it to the clipboard"),this.copySourceBtn.classList.add("disabled")),n()(this.copySourceBtn).tooltip("_fixTitle"))}},{key:"switchToViewer",value:function(t){var i=this,r=this.$fileHolder[0].querySelector(".blob-viewer[data-type='"+t+"']");if(this.activeViewer!==r){var c=document.querySelector(".js-blob-viewer-switch-btn.active"),s=document.querySelector(".js-blob-viewer-switch-btn[data-viewer='"+t+"']"),l=this.$fileHolder[0].querySelector(".blob-viewer:not([data-type='"+t+"'])");c&&c.classList.remove("active"),s&&(s.classList.add("active"),s.blur()),l&&l.classList.add("hidden"),r.classList.remove("hidden"),this.activeViewer=r,this.toggleCopyButtonState(),e.loadViewer(r).then(function(e){n()(e).renderGFM(),i.$fileHolder.trigger("highlight:line"),Object(a.n)(),i.toggleCopyButtonState()}).catch(function(){return new o.a("Error loading viewer")})}}}],[{key:"initAuxiliaryViewer",value:function(){var t=document.querySelector('.blob-viewer[data-type="auxiliary"]');t&&e.loadViewer(t)}},{key:"initRichViewer",value:function(){var e=document.querySelector('.blob-viewer[data-type="rich"]');if(e&&e.dataset.richType){var t=function(t){return t.then(function(t){return t.default(e)}).catch(function(e){throw Object(o.a)("Error loading file viewer."),e})};switch(e.dataset.richType){case"balsamiq":t(Promise.all([i.e(14),i.e(36),i.e(43)]).then(i.bind(null,418)));break;case"notebook":t(Promise.all([i.e(14),i.e(35),i.e(42)]).then(i.bind(null,422)));break;case"pdf":t(Promise.all([i.e(32),i.e(41)]).then(i.bind(null,421)));break;case"sketch":t(Promise.all([i.e(14),i.e(34),i.e(40)]).then(i.bind(null,419)));break;case"stl":t(Promise.all([i.e(29),i.e(39)]).then(i.bind(null,420)))}}}},{key:"loadViewer",value:function(e){var t=e,i=t.getAttribute("data-url");return!i||t.getAttribute("data-loaded")||t.getAttribute("data-loading")?Promise.resolve(t):(t.setAttribute("data-loading","true"),c.a.get(i).then(function(e){var i=e.data;return t.innerHTML=i.html,t.setAttribute("data-loaded","true"),t}))}}]),e}();t.a=l}},[[1058,0,1,2]]]);
//# sourceMappingURL=pages.projects.artifacts.file.2606e5e1.chunk.js.map