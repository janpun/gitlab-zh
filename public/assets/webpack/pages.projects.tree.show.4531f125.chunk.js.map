{"version":3,"sources":["webpack:///./vue_shared/directives/tooltip.js","webpack:///./new_commit_form.js","webpack:///./vue_shared/components/icon.vue?df42","webpack:///vue_shared/components/icon.vue","webpack:///./vue_shared/components/icon.vue?3b39","webpack:///./vue_shared/components/icon.vue","webpack:////var/cache/omnibus/src/gitlab-rails/node_modules/visibilityjs/lib/visibility.core.js","webpack:////var/cache/omnibus/src/gitlab-rails/node_modules/visibilityjs/lib/visibility.timers.js","webpack:///./blob/file_template_selector.js","webpack:///./blob/template_selectors/type_selector.js","webpack:///./blob/template_selectors/ci_yaml_selector.js","webpack:///./blob/template_selectors/dockerfile_selector.js","webpack:///./blob/template_selectors/gitignore_selector.js","webpack:///./blob/template_selectors/license_selector.js","webpack:///./blob/file_template_mediator.js","webpack:///./blob_edit/edit_blob.js","webpack:///./blob/blob_file_dropzone.js","webpack:///./blob_edit/blob_bundle.js","webpack:///./blob/viewer/index.js","webpack:///./gpg_badges.js","webpack:///./projects/tree/components/commit_pipeline_status_component.vue?5cd4","webpack:///./projects/tree/services/commit_pipeline_service.js","webpack:///./projects/tree/components/commit_pipeline_status_component.vue?2ed4","webpack:///projects/tree/components/commit_pipeline_status_component.vue","webpack:///./projects/tree/components/commit_pipeline_status_component.vue","webpack:///./tree.js","webpack:///./lib/utils/constants.js","webpack:////var/cache/omnibus/src/gitlab-rails/node_modules/visibilityjs/index.js","webpack:///./lib/utils/http_status.js","webpack:///./pages/projects/tree/show/index.js","webpack:///./vue_shared/components/ci_icon.vue?d824","webpack:///vue_shared/components/ci_icon.vue","webpack:///./vue_shared/components/ci_icon.vue?53ce","webpack:///./vue_shared/components/ci_icon.vue","webpack:///./lib/utils/poll.js"],"names":["__webpack_exports__","bind","el","jquery__WEBPACK_IMPORTED_MODULE_0___default","tooltip","trigger","componentUpdated","unbind","NewCommitForm","form","_classCallCheck","this","renderDestination","branchName","find","originalBranch","createMergeRequest","createMergeRequestContainer","keyup","different","val","show","wasDifferent","prop","hide","validSizes","components_iconvue_type_script_lang_js","props","name","type","String","required","validator","size","Number","default","value","includes","cssClasses","width","height","y","x","tabIndex","computed","spriteHref","gon","sprite_icons","iconTestClass","iconSizeClass","component","Object","componentNormalizer","_vm","_h","$createElement","_c","_self","class","attrs","tabindex","_b","xlink:href","global","lastId","self","onVisible","callback","support","isSupported","hidden","listener","change","e","state","number","_callbacks","_listen","id","afterPrerendering","_doc","webkitHidden","visibilityState","webkitVisibilityState","document","_change","event","i","call","_init","apply","arguments","addEventListener","attachEvent","module","exports","Visibility","window","lastTimer","install","every","interval","hiddenInterval","_time","_timers","visible","_run","stop","_stop","_timed","_wasHidden","_stopRun","runNow","timer","runner","last","Date","delay","setTimeout","setInterval","clearInterval","clearTimeout","isHidden","wasHidden","__webpack_require__","FileTemplateSelector","mediator","$dropdown","$wrapper","cfg","config","jquery_default","dropdown","wrapper","$loadingIcon","$dropdownToggleText","initDropdown","init","removeClass","addClass","hasClass","text","options","query","data","preventDefault","selectTemplateFile","opts","selectedObj","reportSelection","FileTemplateTypeSelector","_ref","dropdownData","type_selector_classCallCheck","_this","_possibleConstructorReturn","__proto__","getPrototypeOf","file_template_selector","_this2","glDropdown","filterable","selectable","toggleLabel","item","clicked","selectTemplateTypeOptions","BlobCiYamlSelector","ci_yaml_selector_classCallCheck","ci_yaml_selector_possibleConstructorReturn","key","pattern","endpoint","api","gitlabCiYml","search","fields","reportSelectionName","DockerfileSelector","dockerfile_selector_classCallCheck","dockerfile_selector_possibleConstructorReturn","dockerfileYml","BlobGitignoreSelector","gitignore_selector_classCallCheck","gitignore_selector_possibleConstructorReturn","gitignoreText","BlobLicenseSelector","license_selector_classCallCheck","license_selector_possibleConstructorReturn","licenseText","$el","project","fullname","FileTemplateMediator","editor","currentAction","file_template_mediator_classCallCheck","initTemplateSelectors","initTemplateTypeSelector","initDomElements","initDropdowns","initPageEvents","templateSelectors","gitignore_selector","ci_yaml_selector","dockerfile_selector","license_selector","map","TemplateSelectorClass","typeSelector","type_selector","templateSelector","$templatesMenu","$undoMenu","$fileEditor","$undoBtn","$templateSelectors","$filenameInput","$fileContent","$commitForm","$navLinks","hideTemplateSelectorMenu","displayMatchedTemplateSelector","listenForFilenameInput","prepFileContentForSubmit","listenForPreviewMode","on","_this3","submit","getValue","_this4","hash","target","href","split","showTemplateSelectorMenu","forEach","selector","setToggleText","cacheToggleText","selectTemplateType","_this5","renderLoading","destroyUndoMenu","fetchFileTemplate","then","file","showUndoMenu","setEditorContent","setFilename","renderLoaded","catch","err","flash","_this6","currentInput","getFilename","test","apiCall","Promise","resolve","resolveFile","newValue","content","setValue","focus","navigateFileStart","_this7","restoreFromCache","cacheFileContents","off","cachedToggleText","getTemplateSelectorToggleText","cachedContent","cachedFilename","setTemplateSelectorToggleText","getToggleText","selected","EditBlob","assetsPath","aceMode","edit_blob_classCallCheck","configureAceEditor","initModePanesAndLinks","initSoftWrap","initFileSelectors","ace","set","loadModule","edit","$blockScrolling","Infinity","getSession","setMode","fileTemplateMediator","file_template_mediator","$editModePanes","$editModeLinks","editModeLinkClickHandler","currentLink","paneId","attr","currentPane","filter","parent","fadeIn","$toggleButton","axios_utils","post","empty","append","renderGFM","locale","isSoftWrapped","toggleSoftWrap","toggleClass","setUseWrapMode","toggleLoading","$icon","loading","disable","constants","enable","dropzone_default","a","autoDiscover","BlobFileDropzone","method","blob_file_dropzone_classCallCheck","formDropzone","submitButton","submitButtonLoadingIcon","dropzoneMessage","dropzone","autoProcessQueue","url","clickable","uploadMultiple","paramName","maxFilesize","max_file_size","parallelUploads","maxFiles","addRemoveLinks","previewsContainer","headers","csrf","html","header","response","modal","url_utility","filePath","removeFile","xhr","formData","error","errorMessage","stripped","stopPropagation","getQueuedFiles","length","alert","processQueue","editBlobForm","uploadBlobForm","deleteBlobForm","urlRoot","blobLanguage","edit_blob","new_commit_form","blob_file_dropzone","gl","utils","disableButtonIfEmptyField","BlobViewer","initAuxiliaryViewer","initRichViewer","initMainViewers","$fileHolder","switcher","querySelector","switcherBtns","querySelectorAll","copySourceBtn","simpleViewer","richViewer","initBindings","switchToInitialViewer","initialViewerName","getAttribute","location","indexOf","switchToViewer","Array","from","switchViewHandler","classList","contains","blur","currentTarget","setAttribute","remove","activeViewer","add","newViewer","oldButton","newButton","oldViewer","toggleCopyButtonState","loadViewer","viewer","_lib_utils_common_utils__WEBPACK_IMPORTED_MODULE_2__","_flash__WEBPACK_IMPORTED_MODULE_1__","auxiliaryViewer","dataset","richType","initViewer","promise","all","viewerParam","_lib_utils_axios_utils__WEBPACK_IMPORTED_MODULE_3__","get","innerHTML","GpgBadges","tag","badges","displayError","_flash__WEBPACK_IMPORTED_MODULE_3__","_locale__WEBPACK_IMPORTED_MODULE_4__","reject","Error","params","_lib_utils_common_utils__WEBPACK_IMPORTED_MODULE_1__","serialize","_lib_utils_axios_utils__WEBPACK_IMPORTED_MODULE_2__","signatures","signature","commit_sha","replaceWith","CommitPipelineService","components_commit_pipeline_status_componentvue_type_script_lang_js","directives","components","ciIcon","ci_icon","loadingIcon","loading_icon","ciStatus","isLoading","statusTitle","commitText","mounted","service","commit_pipeline_service","initPolling","methods","successCallback","res","pipelines","details","status","errorCallback","icon","group","poll","resource","visibilityjs_default","fetchPipelineCommitData","makeRequest","restart","fetchData","destroy","staticClass","label","details_path","rawName","title","aria-label","data-container","TreeView","initKeyNav","$clickedEl","path","is","metaKey","which","open","_lib_utils_url_utility__WEBPACK_IMPORTED_MODULE_1__","li","liSelected","keydown","next","eq","prev","BYTES_IN_KIB","HIDDEN_CLASS","d","successCodes","httpStatusCodes","ABORTED","OK","CREATED","ACCEPTED","NON_AUTHORITATIVE_INFORMATION","NO_CONTENT","RESET_CONTENT","PARTIAL_CONTENT","MULTI_STATUS","ALREADY_REPORTED","IM_USED","MULTIPLE_CHOICES","BAD_REQUEST","NOT_FOUND","_shortcuts_navigation__WEBPACK_IMPORTED_MODULE_6__","_tree__WEBPACK_IMPORTED_MODULE_5__","_blob_viewer__WEBPACK_IMPORTED_MODULE_7__","_new_commit_form__WEBPACK_IMPORTED_MODULE_8__","waitForImages","_lib_utils_common_utils__WEBPACK_IMPORTED_MODULE_9__","logsPath","_blob_edit_blob_bundle__WEBPACK_IMPORTED_MODULE_2__","commitPipelineStatusEl","statusLink","vue__WEBPACK_IMPORTED_MODULE_1__","commitPipelineStatus","_projects_tree_components_commit_pipeline_status_component_vue__WEBPACK_IMPORTED_MODULE_3__","render","createElement","_gpg_badges__WEBPACK_IMPORTED_MODULE_4__","fetch","components_ci_iconvue_type_script_lang_js","Icon","borderless","Boolean","cssClass","Poll","undefined","notificationCallback","intervalHeader","timeoutID","canPoll","_common_utils__WEBPACK_IMPORTED_MODULE_1__","pollInterval","parseInt","_http_status__WEBPACK_IMPORTED_MODULE_0__","_options","checkConditions"],"mappings":"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","file":"pages.projects.tree.show.4531f125.chunk.js","sourcesContent":["import $ from 'jquery';\n\nexport default {\n  bind(el) {\n    $(el).tooltip({\n      trigger: 'hover',\n    });\n  },\n\n  componentUpdated(el) {\n    $(el).tooltip('_fixTitle');\n  },\n\n  unbind(el) {\n    $(el).tooltip('dispose');\n  },\n};\n","/* eslint-disable no-var, no-return-assign */\nexport default class NewCommitForm {\n  constructor(form) {\n    this.form = form;\n    this.renderDestination = this.renderDestination.bind(this);\n    this.branchName = form.find('.js-branch-name');\n    this.originalBranch = form.find('.js-original-branch');\n    this.createMergeRequest = form.find('.js-create-merge-request');\n    this.createMergeRequestContainer = form.find(\n      '.js-create-merge-request-container',\n    );\n    this.branchName.keyup(this.renderDestination);\n    this.renderDestination();\n  }\n  renderDestination() {\n    var different;\n    different = this.branchName.val() !== this.originalBranch.val();\n    if (different) {\n      this.createMergeRequestContainer.show();\n      if (!this.wasDifferent) {\n        this.createMergeRequest.prop('checked', true);\n      }\n    } else {\n      this.createMergeRequestContainer.hide();\n      this.createMergeRequest.prop('checked', false);\n    }\n    return (this.wasDifferent = different);\n  }\n}\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('svg',{class:[_vm.iconSizeClass, _vm.iconTestClass, _vm.cssClasses],attrs:{\"width\":_vm.width,\"height\":_vm.height,\"x\":_vm.x,\"y\":_vm.y,\"tabindex\":_vm.tabIndex}},[_c('use',_vm._b({},'use',{ 'xlink:href':_vm.spriteHref },false))])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<script>\n\n// only allow classes in images.scss e.g. s12\nconst validSizes = [8, 10, 12, 16, 18, 24, 32, 48, 72];\nlet iconValidator = () => true;\n\n/*\n During development/tests we want to validate that we are just using icons that are actually defined\n*/\nif (process.env.NODE_ENV !== 'production') {\n  // eslint-disable-next-line global-require\n  const data = require('@gitlab-org/gitlab-svgs/dist/icons.json');\n  const { icons } = data;\n  iconValidator = value => {\n    if (icons.includes(value)) {\n      return true;\n    }\n    // eslint-disable-next-line no-console\n    console.warn(`Icon '${value}' is not a known icon of @gitlab/gitlab-svg`);\n    return false;\n  };\n}\n\n/** This is a re-usable vue component for rendering a svg sprite icon\n *  @example\n *  <icon\n *    name=\"retry\"\n *    :size=\"32\"\n *    css-classes=\"top\"\n *  />\n */\nexport default {\n  props: {\n    name: {\n      type: String,\n      required: true,\n      validator: iconValidator,\n    },\n\n    size: {\n      type: Number,\n      required: false,\n      default: 16,\n      validator(value) {\n        return validSizes.includes(value);\n      },\n    },\n\n    cssClasses: {\n      type: String,\n      required: false,\n      default: '',\n    },\n\n    width: {\n      type: Number,\n      required: false,\n      default: null,\n    },\n\n    height: {\n      type: Number,\n      required: false,\n      default: null,\n    },\n\n    y: {\n      type: Number,\n      required: false,\n      default: null,\n    },\n\n    x: {\n      type: Number,\n      required: false,\n      default: null,\n    },\n\n    tabIndex: {\n      type: String,\n      required: false,\n      default: null,\n    },\n  },\n\n  computed: {\n    spriteHref() {\n      return `${gon.sprite_icons}#${this.name}`;\n    },\n    iconTestClass() {\n      return `ic-${this.name}`;\n    },\n    iconSizeClass() {\n      return this.size ? `s${this.size}` : '';\n    },\n  },\n};\n</script>\n\n<template>\n  <svg\n    :class=\"[iconSizeClass, iconTestClass, cssClasses]\"\n    :width=\"width\"\n    :height=\"height\"\n    :x=\"x\"\n    :y=\"y\"\n    :tabindex=\"tabIndex\"\n  >\n    <use v-bind=\"{ 'xlink:href':spriteHref }\"/>\n  </svg>\n</template>\n","import mod from \"-!../../../../../node_modules/babel-loader/lib/index.js??ref--0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./icon.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../../../node_modules/babel-loader/lib/index.js??ref--0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./icon.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./icon.vue?vue&type=template&id=ce78a0ae\"\nimport script from \"./icon.vue?vue&type=script&lang=js\"\nexport * from \"./icon.vue?vue&type=script&lang=js\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports",";(function (global) {\n    \"use strict\";\n\n    var lastId = -1;\n\n    // Visibility.js allow you to know, that your web page is in the background\n    // tab and thus not visible to the user. This library is wrap under\n    // Page Visibility API. It fix problems with different vendor prefixes and\n    // add high-level useful functions.\n    var self = {\n\n        // Call callback only when page become to visible for user or\n        // call it now if page is visible now or Page Visibility API\n        // doesn’t supported.\n        //\n        // Return false if API isn’t supported, true if page is already visible\n        // or listener ID (you can use it in `unbind` method) if page isn’t\n        // visible now.\n        //\n        //   Visibility.onVisible(function () {\n        //       startIntroAnimation();\n        //   });\n        onVisible: function (callback) {\n            var support = self.isSupported();\n            if ( !support || !self.hidden() ) {\n                callback();\n                return support;\n            }\n\n            var listener = self.change(function (e, state) {\n                if ( !self.hidden() ) {\n                    self.unbind(listener);\n                    callback();\n                }\n            });\n            return listener;\n        },\n\n        // Call callback when visibility will be changed. First argument for\n        // callback will be original event object, second will be visibility\n        // state name.\n        //\n        // Return listener ID to unbind listener by `unbind` method.\n        //\n        // If Page Visibility API doesn’t supported method will be return false\n        // and callback never will be called.\n        //\n        //   Visibility.change(function(e, state) {\n        //       Statistics.visibilityChange(state);\n        //   });\n        //\n        // It is just proxy to `visibilitychange` event, but use vendor prefix.\n        change: function (callback) {\n            if ( !self.isSupported() ) {\n                return false;\n            }\n            lastId += 1;\n            var number = lastId;\n            self._callbacks[number] = callback;\n            self._listen();\n            return number;\n        },\n\n        // Remove `change` listener by it ID.\n        //\n        //   var id = Visibility.change(function(e, state) {\n        //       firstChangeCallback();\n        //       Visibility.unbind(id);\n        //   });\n        unbind: function (id) {\n            delete self._callbacks[id];\n        },\n\n        // Call `callback` in any state, expect “prerender”. If current state\n        // is “prerender” it will wait until state will be changed.\n        // If Page Visibility API doesn’t supported, it will call `callback`\n        // immediately.\n        //\n        // Return false if API isn’t supported, true if page is already after\n        // prerendering or listener ID (you can use it in `unbind` method)\n        // if page is prerended now.\n        //\n        //   Visibility.afterPrerendering(function () {\n        //       Statistics.countVisitor();\n        //   });\n        afterPrerendering: function (callback) {\n            var support   = self.isSupported();\n            var prerender = 'prerender';\n\n            if ( !support || prerender != self.state() ) {\n                callback();\n                return support;\n            }\n\n            var listener = self.change(function (e, state) {\n                if ( prerender != state ) {\n                    self.unbind(listener);\n                    callback();\n                }\n            });\n            return listener;\n        },\n\n        // Return true if page now isn’t visible to user.\n        //\n        //   if ( !Visibility.hidden() ) {\n        //       VideoPlayer.play();\n        //   }\n        //\n        // It is just proxy to `document.hidden`, but use vendor prefix.\n        hidden: function () {\n            return !!(self._doc.hidden || self._doc.webkitHidden);\n        },\n\n        // Return visibility state: 'visible', 'hidden' or 'prerender'.\n        //\n        //   if ( 'prerender' == Visibility.state() ) {\n        //       Statistics.pageIsPrerendering();\n        //   }\n        //\n        // Don’t use `Visibility.state()` to detect, is page visible, because\n        // visibility states can extend in next API versions.\n        // Use more simpler and general `Visibility.hidden()` for this cases.\n        //\n        // It is just proxy to `document.visibilityState`, but use\n        // vendor prefix.\n        state: function () {\n            return self._doc.visibilityState       ||\n                   self._doc.webkitVisibilityState ||\n                   'visible';\n        },\n\n        // Return true if browser support Page Visibility API.\n        //\n        //   if ( Visibility.isSupported() ) {\n        //       Statistics.startTrackingVisibility();\n        //       Visibility.change(function(e, state)) {\n        //           Statistics.trackVisibility(state);\n        //       });\n        //   }\n        isSupported: function () {\n            return !!(self._doc.visibilityState ||\n                      self._doc.webkitVisibilityState);\n        },\n\n        // Link to document object to change it in tests.\n        _doc: document || {},\n\n        // Callbacks from `change` method, that wait visibility changes.\n        _callbacks: { },\n\n        // Listener for `visibilitychange` event.\n        _change: function(event) {\n            var state = self.state();\n\n            for ( var i in self._callbacks ) {\n                self._callbacks[i].call(self._doc, event, state);\n            }\n        },\n\n        // Set listener for `visibilitychange` event.\n        _listen: function () {\n            if ( self._init ) {\n                return;\n            }\n\n            var event = 'visibilitychange';\n            if ( self._doc.webkitVisibilityState ) {\n                event = 'webkit' + event;\n            }\n\n            var listener = function () {\n                self._change.apply(self, arguments);\n            };\n            if ( self._doc.addEventListener ) {\n                self._doc.addEventListener(event, listener);\n            } else {\n                self._doc.attachEvent(event, listener);\n            }\n            self._init = true;\n        }\n\n    };\n\n    if ( typeof(module) != 'undefined' && module.exports ) {\n        module.exports = self;\n    } else {\n        global.Visibility = self;\n    }\n\n})(this);\n",";(function (window) {\n    \"use strict\";\n\n    var lastTimer = -1;\n\n    var install = function (Visibility) {\n\n        // Run callback every `interval` milliseconds if page is visible and\n        // every `hiddenInterval` milliseconds if page is hidden.\n        //\n        //   Visibility.every(60 * 1000, 5 * 60 * 1000, function () {\n        //       checkNewMails();\n        //   });\n        //\n        // You can skip `hiddenInterval` and callback will be called only if\n        // page is visible.\n        //\n        //   Visibility.every(1000, function () {\n        //       updateCountdown();\n        //   });\n        //\n        // It is analog of `setInterval(callback, interval)` but use visibility\n        // state.\n        //\n        // It return timer ID, that you can use in `Visibility.stop(id)` to stop\n        // timer (`clearInterval` analog).\n        // Warning: timer ID is different from interval ID from `setInterval`,\n        // so don’t use it in `clearInterval`.\n        //\n        // On change state from hidden to visible timers will be execute.\n        Visibility.every = function (interval, hiddenInterval, callback) {\n            Visibility._time();\n\n            if ( !callback ) {\n                callback = hiddenInterval;\n                hiddenInterval = null;\n            }\n\n            lastTimer += 1;\n            var number = lastTimer;\n\n            Visibility._timers[number] = {\n                visible:  interval,\n                hidden:   hiddenInterval,\n                callback: callback\n            };\n            Visibility._run(number, false);\n\n            if ( Visibility.isSupported() ) {\n                Visibility._listen();\n            }\n            return number;\n        };\n\n        // Stop timer from `every` method by it ID (`every` method return it).\n        //\n        //   slideshow = Visibility.every(5 * 1000, function () {\n        //       changeSlide();\n        //   });\n        //   $('.stopSlideshow').click(function () {\n        //       Visibility.stop(slideshow);\n        //   });\n        Visibility.stop = function(id) {\n            if ( !Visibility._timers[id] ) {\n                return false;\n            }\n            Visibility._stop(id);\n            delete Visibility._timers[id];\n            return true;\n        };\n\n        // Callbacks and intervals added by `every` method.\n        Visibility._timers = { };\n\n        // Initialize variables on page loading.\n        Visibility._time = function () {\n            if ( Visibility._timed ) {\n                return;\n            }\n            Visibility._timed     = true;\n            Visibility._wasHidden = Visibility.hidden();\n\n            Visibility.change(function () {\n                Visibility._stopRun();\n                Visibility._wasHidden = Visibility.hidden();\n            });\n        };\n\n        // Try to run timer from every method by it’s ID. It will be use\n        // `interval` or `hiddenInterval` depending on visibility state.\n        // If page is hidden and `hiddenInterval` is null,\n        // it will not run timer.\n        //\n        // Argument `runNow` say, that timers must be execute now too.\n        Visibility._run = function (id, runNow) {\n            var interval,\n                timer = Visibility._timers[id];\n\n            if ( Visibility.hidden() ) {\n                if ( null === timer.hidden ) {\n                    return;\n                }\n                interval = timer.hidden;\n            } else {\n                interval = timer.visible;\n            }\n\n            var runner = function () {\n                timer.last = new Date();\n                timer.callback.call(window);\n            }\n\n            if ( runNow ) {\n                var now  = new Date();\n                var last = now - timer.last ;\n\n                if ( interval > last ) {\n                    timer.delay = setTimeout(function () {\n                        timer.id = setInterval(runner, interval);\n                        runner();\n                    }, interval - last);\n                } else {\n                    timer.id = setInterval(runner, interval);\n                    runner();\n                }\n\n            } else {\n              timer.id = setInterval(runner, interval);\n            }\n        };\n\n        // Stop timer from `every` method by it’s ID.\n        Visibility._stop = function (id) {\n            var timer = Visibility._timers[id];\n            clearInterval(timer.id);\n            clearTimeout(timer.delay);\n            delete timer.id;\n            delete timer.delay;\n        };\n\n        // Listener for `visibilitychange` event.\n        Visibility._stopRun = function (event) {\n            var isHidden  = Visibility.hidden(),\n                wasHidden = Visibility._wasHidden;\n\n            if ( (isHidden && !wasHidden) || (!isHidden && wasHidden) ) {\n                for ( var i in Visibility._timers ) {\n                    Visibility._stop(i);\n                    Visibility._run(i, !isHidden);\n                }\n            }\n        };\n\n        return Visibility;\n    }\n\n    if ( typeof(module) != 'undefined' && module.exports ) {\n        module.exports = install(require('./visibility.core'));\n    } else {\n        install(window.Visibility)\n    }\n\n})(window);\n","import $ from 'jquery';\n\nexport default class FileTemplateSelector {\n  constructor(mediator) {\n    this.mediator = mediator;\n    this.$dropdown = null;\n    this.$wrapper = null;\n  }\n\n  init() {\n    const cfg = this.config;\n\n    this.$dropdown = $(cfg.dropdown);\n    this.$wrapper = $(cfg.wrapper);\n    this.$loadingIcon = this.$wrapper.find('.fa-chevron-down');\n    this.$dropdownToggleText = this.$wrapper.find('.dropdown-toggle-text');\n\n    this.initDropdown();\n  }\n\n  show() {\n    if (this.$dropdown === null) {\n      this.init();\n    }\n\n    this.$wrapper.removeClass('hidden');\n  }\n\n  hide() {\n    if (this.$dropdown !== null) {\n      this.$wrapper.addClass('hidden');\n    }\n  }\n\n  isHidden() {\n    return this.$wrapper.hasClass('hidden');\n  }\n\n  getToggleText() {\n    return this.$dropdownToggleText.text();\n  }\n\n  setToggleText(text) {\n    this.$dropdownToggleText.text(text);\n  }\n\n  renderLoading() {\n    this.$loadingIcon\n      .addClass('fa-spinner fa-spin')\n      .removeClass('fa-chevron-down');\n  }\n\n  renderLoaded() {\n    this.$loadingIcon\n      .addClass('fa-chevron-down')\n      .removeClass('fa-spinner fa-spin');\n  }\n\n  reportSelection(options) {\n    const { query, e, data } = options;\n    e.preventDefault();\n    return this.mediator.selectTemplateFile(this, query, data);\n  }\n\n  reportSelectionName(options) {\n    const opts = options;\n    opts.query = options.selectedObj.name;\n\n    this.reportSelection(opts);\n  }\n}\n","import FileTemplateSelector from '../file_template_selector';\n\nexport default class FileTemplateTypeSelector extends FileTemplateSelector {\n  constructor({ mediator, dropdownData }) {\n    super(mediator);\n    this.mediator = mediator;\n    this.config = {\n      dropdown: '.js-template-type-selector',\n      wrapper: '.js-template-type-selector-wrap',\n      dropdownData,\n    };\n  }\n\n  initDropdown() {\n    this.$dropdown.glDropdown({\n      data: this.config.dropdownData,\n      filterable: false,\n      selectable: true,\n      toggleLabel: item => item.name,\n      clicked: options => this.mediator.selectTemplateTypeOptions(options),\n      text: item => item.name,\n    });\n  }\n\n}\n","import Api from '../../api';\n\nimport FileTemplateSelector from '../file_template_selector';\n\nexport default class BlobCiYamlSelector extends FileTemplateSelector {\n  constructor({ mediator }) {\n    super(mediator);\n    this.config = {\n      key: 'gitlab-ci-yaml',\n      name: '.gitlab-ci.yml',\n      pattern: /(.gitlab-ci.yml)/,\n      endpoint: Api.gitlabCiYml,\n      dropdown: '.js-gitlab-ci-yml-selector',\n      wrapper: '.js-gitlab-ci-yml-selector-wrap',\n    };\n  }\n\n  initDropdown() {\n    // maybe move to super class as well\n    this.$dropdown.glDropdown({\n      data: this.$dropdown.data('data'),\n      filterable: true,\n      selectable: true,\n      toggleLabel: item => item.name,\n      search: {\n        fields: ['name'],\n      },\n      clicked: options => this.reportSelectionName(options),\n      text: item => item.name,\n    });\n  }\n}\n","import Api from '../../api';\n\nimport FileTemplateSelector from '../file_template_selector';\n\nexport default class DockerfileSelector extends FileTemplateSelector {\n  constructor({ mediator }) {\n    super(mediator);\n    this.config = {\n      key: 'dockerfile',\n      name: 'Dockerfile',\n      pattern: /(Dockerfile)/,\n      endpoint: Api.dockerfileYml,\n      dropdown: '.js-dockerfile-selector',\n      wrapper: '.js-dockerfile-selector-wrap',\n    };\n  }\n\n  initDropdown() {\n    // maybe move to super class as well\n    this.$dropdown.glDropdown({\n      data: this.$dropdown.data('data'),\n      filterable: true,\n      selectable: true,\n      toggleLabel: item => item.name,\n      search: {\n        fields: ['name'],\n      },\n      clicked: options => this.reportSelectionName(options),\n      text: item => item.name,\n    });\n  }\n}\n","import Api from '../../api';\n\nimport FileTemplateSelector from '../file_template_selector';\n\nexport default class BlobGitignoreSelector extends FileTemplateSelector {\n  constructor({ mediator }) {\n    super(mediator);\n    this.config = {\n      key: 'gitignore',\n      name: '.gitignore',\n      pattern: /(.gitignore)/,\n      endpoint: Api.gitignoreText,\n      dropdown: '.js-gitignore-selector',\n      wrapper: '.js-gitignore-selector-wrap',\n    };\n  }\n\n  initDropdown() {\n    this.$dropdown.glDropdown({\n      data: this.$dropdown.data('data'),\n      filterable: true,\n      selectable: true,\n      toggleLabel: item => item.name,\n      search: {\n        fields: ['name'],\n      },\n      clicked: options => this.reportSelectionName(options),\n      text: item => item.name,\n    });\n  }\n}\n","import Api from '../../api';\n\nimport FileTemplateSelector from '../file_template_selector';\n\nexport default class BlobLicenseSelector extends FileTemplateSelector {\n  constructor({ mediator }) {\n    super(mediator);\n    this.config = {\n      key: 'license',\n      name: 'LICENSE',\n      pattern: /^(.+\\/)?(licen[sc]e|copying)($|\\.)/i,\n      endpoint: Api.licenseText,\n      dropdown: '.js-license-selector',\n      wrapper: '.js-license-selector-wrap',\n    };\n  }\n\n  initDropdown() {\n    this.$dropdown.glDropdown({\n      data: this.$dropdown.data('data'),\n      filterable: true,\n      selectable: true,\n      toggleLabel: item => item.name,\n      search: {\n        fields: ['name'],\n      },\n      clicked: (options) => {\n        const { e } = options;\n        const el = options.$el;\n        const query = options.selectedObj;\n\n        const data = {\n          project: this.$dropdown.data('project'),\n          fullname: this.$dropdown.data('fullname'),\n        };\n\n        this.reportSelection({\n          query: query.id,\n          el,\n          e,\n          data,\n        });\n      },\n      text: item => item.name,\n    });\n  }\n}\n","/* eslint-disable class-methods-use-this */\n\nimport $ from 'jquery';\nimport Flash from '../flash';\nimport FileTemplateTypeSelector from './template_selectors/type_selector';\nimport BlobCiYamlSelector from './template_selectors/ci_yaml_selector';\nimport DockerfileSelector from './template_selectors/dockerfile_selector';\nimport GitignoreSelector from './template_selectors/gitignore_selector';\nimport LicenseSelector from './template_selectors/license_selector';\n\nexport default class FileTemplateMediator {\n  constructor({ editor, currentAction }) {\n    this.editor = editor;\n    this.currentAction = currentAction;\n\n    this.initTemplateSelectors();\n    this.initTemplateTypeSelector();\n    this.initDomElements();\n    this.initDropdowns();\n    this.initPageEvents();\n  }\n\n  initTemplateSelectors() {\n    // Order dictates template type dropdown item order\n    this.templateSelectors = [\n      GitignoreSelector,\n      BlobCiYamlSelector,\n      DockerfileSelector,\n      LicenseSelector,\n    ].map(TemplateSelectorClass => new TemplateSelectorClass({ mediator: this }));\n  }\n\n  initTemplateTypeSelector() {\n    this.typeSelector = new FileTemplateTypeSelector({\n      mediator: this,\n      dropdownData: this.templateSelectors\n        .map((templateSelector) => {\n          const cfg = templateSelector.config;\n\n          return {\n            name: cfg.name,\n            key: cfg.key,\n          };\n        }),\n    });\n  }\n\n  initDomElements() {\n    const $templatesMenu = $('.template-selectors-menu');\n    const $undoMenu = $templatesMenu.find('.template-selectors-undo-menu');\n    const $fileEditor = $('.file-editor');\n\n    this.$templatesMenu = $templatesMenu;\n    this.$undoMenu = $undoMenu;\n    this.$undoBtn = $undoMenu.find('button');\n    this.$templateSelectors = $templatesMenu.find('.template-selector-dropdowns-wrap');\n    this.$filenameInput = $fileEditor.find('.js-file-path-name-input');\n    this.$fileContent = $fileEditor.find('#file-content');\n    this.$commitForm = $fileEditor.find('form');\n    this.$navLinks = $fileEditor.find('.nav-links');\n  }\n\n  initDropdowns() {\n    if (this.currentAction === 'create') {\n      this.typeSelector.show();\n    } else {\n      this.hideTemplateSelectorMenu();\n    }\n\n    this.displayMatchedTemplateSelector();\n  }\n\n  initPageEvents() {\n    this.listenForFilenameInput();\n    this.prepFileContentForSubmit();\n    this.listenForPreviewMode();\n  }\n\n  listenForFilenameInput() {\n    this.$filenameInput.on('keyup blur', () => {\n      this.displayMatchedTemplateSelector();\n    });\n  }\n\n  prepFileContentForSubmit() {\n    this.$commitForm.submit(() => {\n      this.$fileContent.val(this.editor.getValue());\n    });\n  }\n\n  listenForPreviewMode() {\n    this.$navLinks.on('click', 'a', (e) => {\n      const urlPieces = e.target.href.split('#');\n      const hash = urlPieces[1];\n      if (hash === 'preview') {\n        this.hideTemplateSelectorMenu();\n      } else if (hash === 'editor' && !this.typeSelector.isHidden()) {\n        this.showTemplateSelectorMenu();\n      }\n    });\n  }\n\n  selectTemplateType(item, e) {\n    if (e) {\n      e.preventDefault();\n    }\n\n    this.templateSelectors.forEach((selector) => {\n      if (selector.config.key === item.key) {\n        selector.show();\n      } else {\n        selector.hide();\n      }\n    });\n\n    this.typeSelector.setToggleText(item.name);\n\n    this.cacheToggleText();\n  }\n\n  selectTemplateTypeOptions(options) {\n    this.selectTemplateType(options.selectedObj, options.e);\n  }\n\n  selectTemplateFile(selector, query, data) {\n    selector.renderLoading();\n    // in case undo menu is already already there\n    this.destroyUndoMenu();\n    this.fetchFileTemplate(selector.config.endpoint, query, data)\n      .then((file) => {\n        this.showUndoMenu();\n        this.setEditorContent(file);\n        this.setFilename(selector.config.name);\n        selector.renderLoaded();\n      })\n      .catch(err => new Flash(`An error occurred while fetching the template: ${err}`));\n  }\n\n  displayMatchedTemplateSelector() {\n    const currentInput = this.getFilename();\n    this.templateSelectors.forEach((selector) => {\n      const match = selector.config.pattern.test(currentInput);\n\n      if (match) {\n        this.typeSelector.show();\n        this.selectTemplateType(selector.config);\n        this.showTemplateSelectorMenu();\n      }\n    });\n  }\n\n  fetchFileTemplate(apiCall, query, data) {\n    return new Promise((resolve) => {\n      const resolveFile = file => resolve(file);\n\n      if (!data) {\n        apiCall(query, resolveFile);\n      } else {\n        apiCall(query, data, resolveFile);\n      }\n    });\n  }\n\n  setEditorContent(file) {\n    if (!file && file !== '') return;\n\n    const newValue = file.content || file;\n\n    this.editor.setValue(newValue, 1);\n\n    this.editor.focus();\n\n    this.editor.navigateFileStart();\n  }\n\n  findTemplateSelectorByKey(key) {\n    return this.templateSelectors.find(selector => selector.config.key === key);\n  }\n\n  showUndoMenu() {\n    this.$undoMenu.removeClass('hidden');\n\n    this.$undoBtn.on('click', () => {\n      this.restoreFromCache();\n      this.destroyUndoMenu();\n    });\n  }\n\n  destroyUndoMenu() {\n    this.cacheFileContents();\n    this.cacheToggleText();\n    this.$undoMenu.addClass('hidden');\n    this.$undoBtn.off('click');\n  }\n\n  hideTemplateSelectorMenu() {\n    this.$templatesMenu.hide();\n  }\n\n  showTemplateSelectorMenu() {\n    this.$templatesMenu.show();\n  }\n\n  cacheToggleText() {\n    this.cachedToggleText = this.getTemplateSelectorToggleText();\n  }\n\n  cacheFileContents() {\n    this.cachedContent = this.editor.getValue();\n    this.cachedFilename = this.getFilename();\n  }\n\n  restoreFromCache() {\n    this.setEditorContent(this.cachedContent);\n    this.setFilename(this.cachedFilename);\n    this.setTemplateSelectorToggleText();\n  }\n\n  getTemplateSelectorToggleText() {\n    return this.$templateSelectors\n      .find('.js-template-selector-wrap:visible .dropdown-toggle-text')\n      .text();\n  }\n\n  setTemplateSelectorToggleText() {\n    return this.$templateSelectors\n      .find('.js-template-selector-wrap:visible .dropdown-toggle-text')\n      .text(this.cachedToggleText);\n  }\n\n  getTypeSelectorToggleText() {\n    return this.typeSelector.getToggleText();\n  }\n\n  getFilename() {\n    return this.$filenameInput.val();\n  }\n\n  setFilename(name) {\n    this.$filenameInput.val(name).trigger('change');\n  }\n\n  getSelected() {\n    return this.templateSelectors.find(selector => selector.selected);\n  }\n}\n","/* global ace */\n\nimport $ from 'jquery';\nimport axios from '~/lib/utils/axios_utils';\nimport createFlash from '~/flash';\nimport { __ } from '~/locale';\nimport TemplateSelectorMediator from '../blob/file_template_mediator';\n\nexport default class EditBlob {\n  constructor(assetsPath, aceMode, currentAction) {\n    this.configureAceEditor(aceMode, assetsPath);\n    this.initModePanesAndLinks();\n    this.initSoftWrap();\n    this.initFileSelectors(currentAction);\n  }\n\n  configureAceEditor(aceMode, assetsPath) {\n    ace.config.set('modePath', `${assetsPath}/ace`);\n    ace.config.loadModule('ace/ext/searchbox');\n\n    this.editor = ace.edit('editor');\n\n    // This prevents warnings re: automatic scrolling being logged\n    this.editor.$blockScrolling = Infinity;\n\n    this.editor.focus();\n\n    if (aceMode) {\n      this.editor.getSession().setMode(`ace/mode/${aceMode}`);\n    }\n  }\n\n  initFileSelectors(currentAction) {\n    this.fileTemplateMediator = new TemplateSelectorMediator({\n      currentAction,\n      editor: this.editor,\n    });\n  }\n\n  initModePanesAndLinks() {\n    this.$editModePanes = $('.js-edit-mode-pane');\n    this.$editModeLinks = $('.js-edit-mode a');\n    this.$editModeLinks.on('click', e => this.editModeLinkClickHandler(e));\n  }\n\n  editModeLinkClickHandler(e) {\n    e.preventDefault();\n\n    const currentLink = $(e.target);\n    const paneId = currentLink.attr('href');\n    const currentPane = this.$editModePanes.filter(paneId);\n\n    this.$editModeLinks.parent().removeClass('active hover');\n\n    currentLink.parent().addClass('active hover');\n\n    this.$editModePanes.hide();\n\n    currentPane.fadeIn(200);\n\n    if (paneId === '#preview') {\n      this.$toggleButton.hide();\n      axios.post(currentLink.data('previewUrl'), {\n        content: this.editor.getValue(),\n      })\n      .then(({ data }) => {\n        currentPane.empty().append(data);\n        currentPane.renderGFM();\n      })\n      .catch(() => createFlash(__('An error occurred previewing the blob')));\n    }\n\n    this.$toggleButton.show();\n\n    return this.editor.focus();\n  }\n\n  initSoftWrap() {\n    this.isSoftWrapped = false;\n    this.$toggleButton = $('.soft-wrap-toggle');\n    this.$toggleButton.on('click', () => this.toggleSoftWrap());\n  }\n\n  toggleSoftWrap() {\n    this.isSoftWrapped = !this.isSoftWrapped;\n    this.$toggleButton.toggleClass('soft-wrap-active', this.isSoftWrapped);\n    this.editor.getSession().setUseWrapMode(this.isSoftWrapped);\n  }\n}\n","/* eslint-disable func-names, object-shorthand, prefer-arrow-callback */\n\nimport $ from 'jquery';\nimport Dropzone from 'dropzone';\nimport { visitUrl } from '../lib/utils/url_utility';\nimport { HIDDEN_CLASS } from '../lib/utils/constants';\nimport csrf from '../lib/utils/csrf';\n\nDropzone.autoDiscover = false;\n\nfunction toggleLoading($el, $icon, loading) {\n  if (loading) {\n    $el.disable();\n    $icon.removeClass(HIDDEN_CLASS);\n  } else {\n    $el.enable();\n    $icon.addClass(HIDDEN_CLASS);\n  }\n}\nexport default class BlobFileDropzone {\n  constructor(form, method) {\n    const formDropzone = form.find('.dropzone');\n    const submitButton = form.find('#submit-all');\n    const submitButtonLoadingIcon = submitButton.find('.js-loading-icon');\n    const dropzoneMessage = form.find('.dz-message');\n    Dropzone.autoDiscover = false;\n\n    const dropzone = formDropzone.dropzone({\n      autoDiscover: false,\n      autoProcessQueue: false,\n      url: form.attr('action'),\n      // Rails uses a hidden input field for PUT\n      // http://stackoverflow.com/questions/21056482/how-to-set-method-put-in-form-tag-in-rails\n      method: method,\n      clickable: true,\n      uploadMultiple: false,\n      paramName: 'file',\n      maxFilesize: gon.max_file_size || 10,\n      parallelUploads: 1,\n      maxFiles: 1,\n      addRemoveLinks: true,\n      previewsContainer: '.dropzone-previews',\n      headers: csrf.headers,\n      init: function () {\n        this.on('addedfile', function () {\n          toggleLoading(submitButton, submitButtonLoadingIcon, false);\n          dropzoneMessage.addClass(HIDDEN_CLASS);\n          $('.dropzone-alerts').html('').hide();\n        });\n        this.on('removedfile', function () {\n          toggleLoading(submitButton, submitButtonLoadingIcon, false);\n          dropzoneMessage.removeClass(HIDDEN_CLASS);\n        });\n        this.on('success', function (header, response) {\n          $('#modal-upload-blob').modal('hide');\n          visitUrl(response.filePath);\n        });\n        this.on('maxfilesexceeded', function (file) {\n          dropzoneMessage.addClass(HIDDEN_CLASS);\n          this.removeFile(file);\n        });\n        this.on('sending', function (file, xhr, formData) {\n          formData.append('branch_name', form.find('.js-branch-name').val());\n          formData.append('create_merge_request', form.find('.js-create-merge-request').val());\n          formData.append('commit_message', form.find('.js-commit-message').val());\n        });\n      },\n      // Override behavior of adding error underneath preview\n      error: function (file, errorMessage) {\n        const stripped = $('<div/>').html(errorMessage).text();\n        $('.dropzone-alerts').html(`Error uploading file: \"${stripped}\"`).show();\n        this.removeFile(file);\n      },\n    });\n\n    submitButton.on('click', (e) => {\n      e.preventDefault();\n      e.stopPropagation();\n      if (dropzone[0].dropzone.getQueuedFiles().length === 0) {\n        // eslint-disable-next-line no-alert\n        alert('Please select a file');\n        return false;\n      }\n      toggleLoading(submitButton, submitButtonLoadingIcon, true);\n      dropzone[0].dropzone.processQueue();\n      return false;\n    });\n  }\n}\n","/* eslint-disable no-new */\n\nimport $ from 'jquery';\nimport NewCommitForm from '../new_commit_form';\nimport EditBlob from './edit_blob';\nimport BlobFileDropzone from '../blob/blob_file_dropzone';\n\nexport default () => {\n  const editBlobForm = $('.js-edit-blob-form');\n  const uploadBlobForm = $('.js-upload-blob-form');\n  const deleteBlobForm = $('.js-delete-blob-form');\n\n  if (editBlobForm.length) {\n    const urlRoot = editBlobForm.data('relativeUrlRoot');\n    const assetsPath = editBlobForm.data('assetsPrefix');\n    const blobLanguage = editBlobForm.data('blobLanguage');\n    const currentAction = $('.js-file-title').data('currentAction');\n\n    new EditBlob(`${urlRoot}${assetsPath}`, blobLanguage, currentAction);\n    new NewCommitForm(editBlobForm);\n  }\n\n  if (uploadBlobForm.length) {\n    const method = uploadBlobForm.data('method');\n\n    new BlobFileDropzone(uploadBlobForm, method);\n    new NewCommitForm(uploadBlobForm);\n\n    window.gl.utils.disableButtonIfEmptyField(\n      uploadBlobForm.find('.js-commit-message'),\n      '.btn-upload-file',\n    );\n  }\n\n  if (deleteBlobForm.length) {\n    new NewCommitForm(deleteBlobForm);\n  }\n};\n","import $ from 'jquery';\nimport Flash from '../../flash';\nimport { handleLocationHash } from '../../lib/utils/common_utils';\nimport axios from '../../lib/utils/axios_utils';\n\nexport default class BlobViewer {\n  constructor() {\n    BlobViewer.initAuxiliaryViewer();\n    BlobViewer.initRichViewer();\n\n    this.initMainViewers();\n  }\n\n  static initAuxiliaryViewer() {\n    const auxiliaryViewer = document.querySelector('.blob-viewer[data-type=\"auxiliary\"]');\n    if (!auxiliaryViewer) return;\n\n    BlobViewer.loadViewer(auxiliaryViewer);\n  }\n\n  static initRichViewer() {\n    const viewer = document.querySelector('.blob-viewer[data-type=\"rich\"]');\n    if (!viewer || !viewer.dataset.richType) return;\n\n    const initViewer = promise => promise\n      .then(module => module.default(viewer))\n      .catch((error) => {\n        Flash('Error loading file viewer.');\n        throw error;\n      });\n\n    switch (viewer.dataset.richType) {\n      case 'balsamiq':\n        initViewer(import(/* webpackChunkName: 'balsamiq_viewer' */ '../balsamiq_viewer'));\n        break;\n      case 'notebook':\n        initViewer(import(/* webpackChunkName: 'notebook_viewer' */ '../notebook_viewer'));\n        break;\n      case 'pdf':\n        initViewer(import(/* webpackChunkName: 'pdf_viewer' */ '../pdf_viewer'));\n        break;\n      case 'sketch':\n        initViewer(import(/* webpackChunkName: 'sketch_viewer' */ '../sketch_viewer'));\n        break;\n      case 'stl':\n        initViewer(import(/* webpackChunkName: 'stl_viewer' */ '../stl_viewer'));\n        break;\n      default:\n        break;\n    }\n  }\n\n  initMainViewers() {\n    this.$fileHolder = $('.file-holder');\n    if (!this.$fileHolder.length) return;\n\n    this.switcher = document.querySelector('.js-blob-viewer-switcher');\n    this.switcherBtns = document.querySelectorAll('.js-blob-viewer-switch-btn');\n    this.copySourceBtn = document.querySelector('.js-copy-blob-source-btn');\n\n    this.simpleViewer = this.$fileHolder[0].querySelector('.blob-viewer[data-type=\"simple\"]');\n    this.richViewer = this.$fileHolder[0].querySelector('.blob-viewer[data-type=\"rich\"]');\n\n    this.initBindings();\n\n    this.switchToInitialViewer();\n  }\n\n  switchToInitialViewer() {\n    const initialViewer = this.$fileHolder[0].querySelector('.blob-viewer:not(.hidden)');\n    let initialViewerName = initialViewer.getAttribute('data-type');\n\n    if (this.switcher && window.location.hash.indexOf('#L') === 0) {\n      initialViewerName = 'simple';\n    }\n\n    this.switchToViewer(initialViewerName);\n  }\n\n  initBindings() {\n    if (this.switcherBtns.length) {\n      Array.from(this.switcherBtns)\n        .forEach((el) => {\n          el.addEventListener('click', this.switchViewHandler.bind(this));\n        });\n    }\n\n    if (this.copySourceBtn) {\n      this.copySourceBtn.addEventListener('click', () => {\n        if (this.copySourceBtn.classList.contains('disabled')) return this.copySourceBtn.blur();\n\n        return this.switchToViewer('simple');\n      });\n    }\n  }\n\n  switchViewHandler(e) {\n    const target = e.currentTarget;\n\n    e.preventDefault();\n\n    this.switchToViewer(target.getAttribute('data-viewer'));\n  }\n\n  toggleCopyButtonState() {\n    if (!this.copySourceBtn) return;\n\n    if (this.simpleViewer.getAttribute('data-loaded')) {\n      this.copySourceBtn.setAttribute('title', 'Copy source to clipboard');\n      this.copySourceBtn.classList.remove('disabled');\n    } else if (this.activeViewer === this.simpleViewer) {\n      this.copySourceBtn.setAttribute('title', 'Wait for the source to load to copy it to the clipboard');\n      this.copySourceBtn.classList.add('disabled');\n    } else {\n      this.copySourceBtn.setAttribute('title', 'Switch to the source to copy it to the clipboard');\n      this.copySourceBtn.classList.add('disabled');\n    }\n\n    $(this.copySourceBtn).tooltip('_fixTitle');\n  }\n\n  switchToViewer(name) {\n    const newViewer = this.$fileHolder[0].querySelector(`.blob-viewer[data-type='${name}']`);\n    if (this.activeViewer === newViewer) return;\n\n    const oldButton = document.querySelector('.js-blob-viewer-switch-btn.active');\n    const newButton = document.querySelector(`.js-blob-viewer-switch-btn[data-viewer='${name}']`);\n    const oldViewer = this.$fileHolder[0].querySelector(`.blob-viewer:not([data-type='${name}'])`);\n\n    if (oldButton) {\n      oldButton.classList.remove('active');\n    }\n\n    if (newButton) {\n      newButton.classList.add('active');\n      newButton.blur();\n    }\n\n    if (oldViewer) {\n      oldViewer.classList.add('hidden');\n    }\n\n    newViewer.classList.remove('hidden');\n\n    this.activeViewer = newViewer;\n\n    this.toggleCopyButtonState();\n\n    BlobViewer.loadViewer(newViewer)\n    .then((viewer) => {\n      $(viewer).renderGFM();\n\n      this.$fileHolder.trigger('highlight:line');\n      handleLocationHash();\n\n      this.toggleCopyButtonState();\n    })\n    .catch(() => new Flash('Error loading viewer'));\n  }\n\n  static loadViewer(viewerParam) {\n    const viewer = viewerParam;\n    const url = viewer.getAttribute('data-url');\n\n    if (!url || viewer.getAttribute('data-loaded') || viewer.getAttribute('data-loading')) {\n      return Promise.resolve(viewer);\n    }\n\n    viewer.setAttribute('data-loading', 'true');\n\n    return axios.get(url)\n      .then(({ data }) => {\n        viewer.innerHTML = data.html;\n        viewer.setAttribute('data-loaded', 'true');\n\n        return viewer;\n      });\n  }\n}\n","import $ from 'jquery';\nimport { parseQueryStringIntoObject } from '~/lib/utils/common_utils';\nimport axios from '~/lib/utils/axios_utils';\nimport createFlash from '~/flash';\nimport { __ } from '~/locale';\n\nexport default class GpgBadges {\n  static fetch() {\n    const tag = $('.js-signature-container');\n    if (tag.length === 0) {\n      return Promise.resolve();\n    }\n\n    const badges = $('.js-loading-gpg-badge');\n\n    badges.html('<i class=\"fa fa-spinner fa-spin\"></i>');\n\n    const displayError = () => createFlash(__('An error occurred while loading commit signatures'));\n\n    const endpoint = tag.data('signaturesPath');\n    if (!endpoint) {\n      displayError();\n      return Promise.reject(new Error('Missing commit signatures endpoint!'));\n    }\n\n    const params = parseQueryStringIntoObject(tag.serialize());\n    return axios\n      .get(endpoint, { params })\n      .then(({ data }) => {\n        data.signatures.forEach(signature => {\n          badges.filter(`[data-commit-sha=\"${signature.commit_sha}\"]`).replaceWith(signature.html);\n        });\n      })\n      .catch(displayError);\n  }\n}\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"ci-status-link\"},[(_vm.isLoading)?_c('loading-icon',{attrs:{\"label\":\"Loading pipeline status\",\"size\":\"3\"}}):_c('a',{attrs:{\"href\":_vm.ciStatus.details_path}},[_c('ci-icon',{directives:[{name:\"tooltip\",rawName:\"v-tooltip\"}],attrs:{\"title\":_vm.statusTitle,\"aria-label\":_vm.statusTitle,\"status\":_vm.ciStatus,\"size\":24,\"data-container\":\"body\"}})],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import axios from '~/lib/utils/axios_utils';\n\nexport default class CommitPipelineService {\n  constructor(endpoint) {\n    this.endpoint = endpoint;\n  }\n\n  fetchData() {\n    return axios.get(this.endpoint);\n  }\n}\n","import mod from \"-!../../../../../../node_modules/babel-loader/lib/index.js??ref--0!../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./commit_pipeline_status_component.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../../../../node_modules/babel-loader/lib/index.js??ref--0!../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./commit_pipeline_status_component.vue?vue&type=script&lang=js\"","<script>\nimport Visibility from 'visibilityjs';\nimport ciIcon from '~/vue_shared/components/ci_icon.vue';\nimport loadingIcon from '~/vue_shared/components/loading_icon.vue';\nimport Poll from '~/lib/utils/poll';\nimport Flash from '~/flash';\nimport { s__, sprintf } from '~/locale';\nimport tooltip from '~/vue_shared/directives/tooltip';\nimport CommitPipelineService from '../services/commit_pipeline_service';\n\nexport default {\n  directives: {\n    tooltip,\n  },\n  components: {\n    ciIcon,\n    loadingIcon,\n  },\n  props: {\n    endpoint: {\n      type: String,\n      required: true,\n    },\n    /* This prop can be used to replace some of the `render_commit_status`\n      used across GitLab, this way we could use this vue component and add a\n      realtime status where it makes sense\n      realtime: {\n        type: Boolean,\n        required: false,\n        default: true,\n      }, */\n  },\n  data() {\n    return {\n      ciStatus: {},\n      isLoading: true,\n    };\n  },\n  computed: {\n    statusTitle() {\n      return sprintf(s__('Commits|Commit: %{commitText}'), { commitText: this.ciStatus.text });\n    },\n  },\n  mounted() {\n    this.service = new CommitPipelineService(this.endpoint);\n    this.initPolling();\n  },\n  methods: {\n    successCallback(res) {\n      const { pipelines } = res.data;\n      if (pipelines.length > 0) {\n        // The pipeline entity always keeps the latest pipeline info on the `details.status`\n        this.ciStatus = pipelines[0].details.status;\n      }\n      this.isLoading = false;\n    },\n    errorCallback() {\n      this.ciStatus = {\n        text: 'not found',\n        icon: 'status_notfound',\n        group: 'notfound',\n      };\n      this.isLoading = false;\n      Flash(s__('Something went wrong on our end'));\n    },\n    initPolling() {\n      this.poll = new Poll({\n        resource: this.service,\n        method: 'fetchData',\n        successCallback: response => this.successCallback(response),\n        errorCallback: this.errorCallback,\n      });\n\n      if (!Visibility.hidden()) {\n        this.isLoading = true;\n        this.poll.makeRequest();\n      } else {\n        this.fetchPipelineCommitData();\n      }\n\n      Visibility.change(() => {\n        if (!Visibility.hidden()) {\n          this.poll.restart();\n        } else {\n          this.poll.stop();\n        }\n      });\n    },\n    fetchPipelineCommitData() {\n      this.service\n        .fetchData()\n        .then(this.successCallback)\n        .catch(this.errorCallback);\n    },\n  },\n  destroy() {\n    this.poll.stop();\n  },\n};\n</script>\n<template>\n  <div class=\"ci-status-link\">\n    <loading-icon\n      v-if=\"isLoading\"\n      label=\"Loading pipeline status\"\n      size=\"3\"\n    />\n    <a\n      v-else\n      :href=\"ciStatus.details_path\"\n    >\n      <ci-icon\n        v-tooltip\n        :title=\"statusTitle\"\n        :aria-label=\"statusTitle\"\n        :status=\"ciStatus\"\n        :size=\"24\"\n        data-container=\"body\"\n      />\n    </a>\n  </div>\n</template>\n","import { render, staticRenderFns } from \"./commit_pipeline_status_component.vue?vue&type=template&id=3d677434\"\nimport script from \"./commit_pipeline_status_component.vue?vue&type=script&lang=js\"\nexport * from \"./commit_pipeline_status_component.vue?vue&type=script&lang=js\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","/* eslint-disable func-names, max-len, quotes, consistent-return, no-var, one-var, one-var-declaration-per-line, no-else-return, prefer-arrow-callback, class-methods-use-this */\n\nimport $ from 'jquery';\nimport { visitUrl } from './lib/utils/url_utility';\n\nexport default class TreeView {\n  constructor() {\n    this.initKeyNav();\n    // Code browser tree slider\n    // Make the entire tree-item row clickable, but not if clicking another link (like a commit message)\n    $(\".tree-content-holder .tree-item\").on('click', function(e) {\n      var $clickedEl, path;\n      $clickedEl = $(e.target);\n      path = $('.tree-item-file-name a', this).attr('href');\n      if (!$clickedEl.is('a') && !$clickedEl.is('.str-truncated')) {\n        if (e.metaKey || e.which === 2) {\n          e.preventDefault();\n          return window.open(path, '_blank');\n        } else {\n          return visitUrl(path);\n        }\n      }\n    });\n    // Show the \"Loading commit data\" for only the first element\n    $('span.log_loading:first').removeClass('hide');\n  }\n\n  initKeyNav() {\n    var li, liSelected;\n    li = $(\"tr.tree-item\");\n    liSelected = null;\n    return $('body').keydown(function(e) {\n      var next, path;\n      if ($(\"input:focus\").length > 0 && (e.which === 38 || e.which === 40)) {\n        return false;\n      }\n      if (e.which === 40) {\n        if (liSelected) {\n          next = liSelected.next();\n          if (next.length > 0) {\n            liSelected.removeClass(\"selected\");\n            liSelected = next.addClass(\"selected\");\n          }\n        } else {\n          liSelected = li.eq(0).addClass(\"selected\");\n        }\n        return $(liSelected).focus();\n      } else if (e.which === 38) {\n        if (liSelected) {\n          next = liSelected.prev();\n          if (next.length > 0) {\n            liSelected.removeClass(\"selected\");\n            liSelected = next.addClass(\"selected\");\n          }\n        } else {\n          liSelected = li.last().addClass(\"selected\");\n        }\n        return $(liSelected).focus();\n      } else if (e.which === 13) {\n        path = $('.tree-item.selected .tree-item-file-name a').attr('href');\n        if (path) {\n          return visitUrl(path);\n        }\n      }\n    });\n  }\n}\n","export const BYTES_IN_KIB = 1024;\nexport const HIDDEN_CLASS = 'hidden';\n","module.exports = require('./lib/visibility.timers.js')\n","/**\n * exports HTTP status codes\n */\n\nconst httpStatusCodes = {\n  ABORTED: 0,\n  OK: 200,\n  CREATED: 201,\n  ACCEPTED: 202,\n  NON_AUTHORITATIVE_INFORMATION: 203,\n  NO_CONTENT: 204,\n  RESET_CONTENT: 205,\n  PARTIAL_CONTENT: 206,\n  MULTI_STATUS: 207,\n  ALREADY_REPORTED: 208,\n  IM_USED: 226,\n  MULTIPLE_CHOICES: 300,\n  BAD_REQUEST: 400,\n  NOT_FOUND: 404,\n};\n\nexport const successCodes = [\n  httpStatusCodes.OK,\n  httpStatusCodes.CREATED,\n  httpStatusCodes.ACCEPTED,\n  httpStatusCodes.NON_AUTHORITATIVE_INFORMATION,\n  httpStatusCodes.NO_CONTENT,\n  httpStatusCodes.RESET_CONTENT,\n  httpStatusCodes.PARTIAL_CONTENT,\n  httpStatusCodes.MULTI_STATUS,\n  httpStatusCodes.ALREADY_REPORTED,\n  httpStatusCodes.IM_USED,\n];\n\nexport default httpStatusCodes;\n","import $ from 'jquery';\nimport Vue from 'vue';\nimport initBlob from '~/blob_edit/blob_bundle';\nimport commitPipelineStatus from '~/projects/tree/components/commit_pipeline_status_component.vue';\nimport GpgBadges from '~/gpg_badges';\nimport TreeView from '../../../../tree';\nimport ShortcutsNavigation from '../../../../shortcuts_navigation';\nimport BlobViewer from '../../../../blob/viewer';\nimport NewCommitForm from '../../../../new_commit_form';\nimport { ajaxGet } from '../../../../lib/utils/common_utils';\n\ndocument.addEventListener('DOMContentLoaded', () => {\n  new ShortcutsNavigation(); // eslint-disable-line no-new\n  new TreeView(); // eslint-disable-line no-new\n  new BlobViewer(); // eslint-disable-line no-new\n  new NewCommitForm($('.js-create-dir-form')); // eslint-disable-line no-new\n  $('#tree-slider').waitForImages(() =>\n    ajaxGet(document.querySelector('.js-tree-content').dataset.logsPath),\n  );\n\n  initBlob();\n  const commitPipelineStatusEl = document.querySelector('.js-commit-pipeline-status');\n  const statusLink = document.querySelector('.commit-actions .ci-status-link');\n  if (statusLink != null) {\n    statusLink.remove();\n    // eslint-disable-next-line no-new\n    new Vue({\n      el: commitPipelineStatusEl,\n      components: {\n        commitPipelineStatus,\n      },\n      render(createElement) {\n        return createElement('commit-pipeline-status', {\n          props: {\n            endpoint: commitPipelineStatusEl.dataset.endpoint,\n          },\n        });\n      },\n    });\n  }\n\n  GpgBadges.fetch();\n});\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('span',{class:_vm.cssClass},[_c('icon',{attrs:{\"name\":_vm.icon,\"size\":_vm.size}})],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<script>\nimport Icon from '../../vue_shared/components/icon.vue';\n\n/**\n * Renders CI icon based on API response shared between all places where it is used.\n *\n * Receives status object containing:\n * status: {\n *   details_path: \"/gitlab-org/gitlab-ce/pipelines/8150156\" // url\n *   group:\"running\" // used for CSS class\n *   icon: \"icon_status_running\" // used to render the icon\n *   label:\"running\" // used for potential tooltip\n *   text:\"running\" // text rendered\n * }\n *\n * Used in:\n * - Pipelines table Badge\n * - Pipelines table mini graph\n * - Pipeline graph\n * - Pipeline show view badge\n * - Jobs table\n * - Jobs show view header\n * - Jobs show view sidebar\n */\nconst validSizes = [8, 12, 16, 18, 24, 32, 48, 72];\n\nexport default {\n  components: {\n    Icon,\n  },\n  props: {\n    status: {\n      type: Object,\n      required: true,\n    },\n    size: {\n      type: Number,\n      required: false,\n      default: 16,\n      validator(value) {\n        return validSizes.includes(value);\n      },\n    },\n    borderless: {\n      type: Boolean,\n      required: false,\n      default: false,\n    },\n  },\n  computed: {\n    cssClass() {\n      const status = this.status.group;\n      return `ci-status-icon ci-status-icon-${status} js-ci-status-icon-${status}`;\n    },\n    icon() {\n      return this.borderless ? `${this.status.icon}_borderless` : this.status.icon;\n    },\n  },\n};\n</script>\n<template>\n  <span :class=\"cssClass\">\n    <icon\n      :name=\"icon\"\n      :size=\"size\"\n    />\n  </span>\n</template>\n","import mod from \"-!../../../../../node_modules/babel-loader/lib/index.js??ref--0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ci_icon.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../../../node_modules/babel-loader/lib/index.js??ref--0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ci_icon.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./ci_icon.vue?vue&type=template&id=69ea14c1\"\nimport script from \"./ci_icon.vue?vue&type=script&lang=js\"\nexport * from \"./ci_icon.vue?vue&type=script&lang=js\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","import httpStatusCodes, { successCodes } from './http_status';\nimport { normalizeHeaders } from './common_utils';\n\n/**\n * Polling utility for handling realtime updates.\n * Requirements: Promise based HTTP client\n *\n * Service for promise based http client and method need to be provided as props\n *\n * @example\n * new Poll({\n *   resource: resource,\n *   method: 'name',\n *   data: {page: 1, scope: 'all'}, // optional\n *   successCallback: () => {},\n *   errorCallback: () => {},\n *   notificationCallback: () => {}, // optional\n * }).makeRequest();\n *\n * Usage in pipelines table with visibility lib:\n *\n * const poll = new Poll({\n *  resource: this.service,\n *  method: 'getPipelines',\n *  data: { page: pageNumber, scope },\n *  successCallback: this.successCallback,\n *  errorCallback: this.errorCallback,\n *  notificationCallback: this.updateLoading,\n * });\n *\n * if (!Visibility.hidden()) {\n *  poll.makeRequest();\n *  }\n *\n * Visibility.change(() => {\n *  if (!Visibility.hidden()) {\n *   poll.restart();\n *  } else {\n *   poll.stop();\n *  }\n * });\n *\n * 1. Checks for response and headers before start polling\n * 2. Interval is provided by `Poll-Interval` header.\n * 3. If `Poll-Interval` is -1, we stop polling\n * 4. If HTTP response is 200, we poll.\n * 5. If HTTP response is different from 200, we stop polling.\n *\n */\nexport default class Poll {\n  constructor(options = {}) {\n    this.options = options;\n    this.options.data = options.data || {};\n    this.options.notificationCallback =\n      options.notificationCallback || function notificationCallback() {};\n\n    this.intervalHeader = 'POLL-INTERVAL';\n    this.timeoutID = null;\n    this.canPoll = true;\n  }\n\n  checkConditions(response) {\n    const headers = normalizeHeaders(response.headers);\n    const pollInterval = parseInt(headers[this.intervalHeader], 10);\n    if (pollInterval > 0 && successCodes.indexOf(response.status) !== -1 && this.canPoll) {\n      this.timeoutID = setTimeout(() => {\n        this.makeRequest();\n      }, pollInterval);\n    }\n    this.options.successCallback(response);\n  }\n\n  makeRequest() {\n    const { resource, method, data, errorCallback, notificationCallback } = this.options;\n\n    // It's called everytime a new request is made. Useful to update the status.\n    notificationCallback(true);\n\n    return resource[method](data)\n      .then(response => {\n        this.checkConditions(response);\n        notificationCallback(false);\n      })\n      .catch(error => {\n        notificationCallback(false);\n        if (error.status === httpStatusCodes.ABORTED) {\n          return;\n        }\n        errorCallback(error);\n      });\n  }\n\n  /**\n   * Stops the polling recursive chain\n   * and guarantees if the timeout is already running it won't make another request by\n   * cancelling the previously established timeout.\n   */\n  stop() {\n    this.canPoll = false;\n    clearTimeout(this.timeoutID);\n  }\n\n  /**\n   * Restarts polling after it has been stoped\n   */\n  restart(options) {\n    // update data\n    if (options && options.data) {\n      this.options.data = options.data;\n    }\n\n    this.canPoll = true;\n    this.makeRequest();\n  }\n}\n"],"sourceRoot":""}