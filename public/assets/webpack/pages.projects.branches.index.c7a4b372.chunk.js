(this.webpackJsonp=this.webpackJsonp||[]).push([[168],{1046:function(e,t,n){n(31),n(57),e.exports=n(854)},854:function(e,t,n){"use strict";n.r(t);var a=n(0),i=n.n(a),o=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}();var r=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}return o(e,null,[{key:"init",value:function(){var t=i()(".js-ajax-loading-spinner");t.on("ajax:beforeSend",e.ajaxBeforeSend),t.on("ajax:complete",e.ajaxComplete)}},{key:"ajaxBeforeSend",value:function(t){t.target.setAttribute("disabled","");var n=t.target.querySelector("i"),a=n.className.match(/(fa-)([^\s]+)/g)[0];n.dataset.icon=a,e.toggleLoadingIcon(n),i()(t.target).off("ajax:beforeSend",e.ajaxBeforeSend)}},{key:"ajaxComplete",value:function(t){t.target.removeAttribute("disabled");var n=t.target.querySelector("i");e.toggleLoadingIcon(n),i()(t.target).off("ajax:complete",e.ajaxComplete)}},{key:"toggleLoadingIcon",value:function(e){var t=e.classList;t.toggle(e.dataset.icon),t.toggle("fa-spinner"),t.toggle("fa-spin")}}]),e}(),s=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}();var l="#modal-delete-branch",c=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.$modal=i()(l),this.$toggleBtns=i()('[data-target="'+l+'"]'),this.$branchName=i()(".js-branch-name",this.$modal),this.$confirmInput=i()(".js-delete-branch-input",this.$modal),this.$deleteBtn=i()(".js-delete-branch",this.$modal),this.$notMerged=i()(".js-not-merged",this.$modal),this.bindEvents()}return s(e,[{key:"bindEvents",value:function(){this.$toggleBtns.on("click",this.setModalData.bind(this)),this.$confirmInput.on("input",this.setDeleteDisabled.bind(this)),this.$deleteBtn.on("click",this.setDisableDeleteButton.bind(this))}},{key:"setModalData",value:function(e){var t=e.currentTarget.dataset;this.branchName=t.branchName||"",this.deletePath=t.deletePath||"",this.isMerged=!!t.isMerged,this.updateModal()}},{key:"setDeleteDisabled",value:function(e){this.$deleteBtn.attr("disabled",e.currentTarget.value!==this.branchName)}},{key:"setDisableDeleteButton",value:function(e){return!this.$deleteBtn.is("[disabled]")||(e.preventDefault(),e.stopPropagation(),!1)}},{key:"updateModal",value:function(){this.$branchName.text(this.branchName),this.$confirmInput.val(""),this.$deleteBtn.attr("href",this.deletePath),this.$deleteBtn.attr("disabled",!0),this.$notMerged.toggleClass("hidden",this.isMerged)}}]),e}();document.addEventListener("DOMContentLoaded",function(){r.init(),new c})}},[[1046,0,1,2]]]);
//# sourceMappingURL=pages.projects.branches.index.c7a4b372.chunk.js.map