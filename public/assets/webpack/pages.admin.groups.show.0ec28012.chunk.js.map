{"version":3,"sources":["webpack:///./pages/admin/groups/show/index.js","webpack:///./pages/admin/admin.js","webpack:///./pages/admin/index.js","webpack:///./users_select.js"],"names":["document","addEventListener","_users_select__WEBPACK_IMPORTED_MODULE_0__","showBlacklistType","jquery_default","val","show","hide","modal","on","$elems","this","attr","prop","e","preventDefault","toggleClass","tab","$visibleLog","animate","scrollTop","find","height","url_utility","UsersSelect","currentUser","els","$els","options","arguments","length","undefined","users","bind","user","usersPath","userPath","_typeof","JSON","parse","_this","handleClick","jquery__WEBPACK_IMPORTED_MODULE_0___default","each","i","dropdown","$block","$collapsedSidebar","$dropdown","$loading","$selectbox","$value","abilityName","assignTo","assigneeTemplate","collapsedAssigneeTemplate","defaultLabel","defaultNullUser","firstUser","issueURL","selectedId","selectedIdDefault","showAnyUser","showNullUser","showMenuAbove","projectId","data","groupId","showCurrentUser","todoFilter","todoStateFilter","authorId","closest","fadeOut","assignYourself","unassignedSelected","remove","input","createElement","type","name","currentUserInfo","value","id","dataset","meta","underscore__WEBPACK_IMPORTED_MODULE_1___default","a","escape","parent","before","after","getSelectedUserInputs","getSelected","map","index","parseInt","get","checkMaxSelect","maxSelect","selected","firstSelectedId","emitSidebarEvent","getMultiSelectDropdownTitle","selectedUser","isSelected","selectedUsers","filter","u","otherSelected","s","currentTarget","text","removeClass","$input","$","gon","current_user_id","current_user_fullname","assignee_id","fadeIn","trigger","_lib_utils_axios_utils__WEBPACK_IMPORTED_MODULE_2__","put","then","_ref","tooltipTitle","assignee","username","avatar","avatar_url","Object","_locale__WEBPACK_IMPORTED_MODULE_3__","html","tooltip","template","glDropdown","term","callback","instance","processData","hasClass","selectedInputs","uniq","userId","_input$dataset","avatarUrl","concat","anyUser","len","obj","showDivider","splice","unshift","beforeDivider","header","indexOf","sort","b","forEach","positionMenuAbove","filterable","filterRemote","search","fields","selectable","fieldName","toggleLabel","el","inputValue","filterInput","multiSelect","filteredFullData","parseData","addClass","hidden","css","inputMeta","clicked","isIssueIndex","isMRIndex","page","$el","isMarking","selectedObj","isActive","previouslySelected","toLowerCase","element","addInput","isSelecting","_boards_stores_modal_store__WEBPACK_IMPORTED_MODULE_4__","store","Issuable","filterResults","submit","opened","highlightSelected","updateLabel","renderRow","img","default_avatar_url","select","showEmailUser","skipLdap","skipUsers","select2","placeholder","multiple","minimumInputLength","query","emailUser","nullUser","ref","results","match","trimmed","trim","invite","initSelection","args","slice","call","apply","formatResult","formatSelection","dropdownCssClass","escapeMarkup","m","window","noop","prototype","user_id","test","url","buildUrl","replace","_ref2","params","active","project_id","group_id","skip_ldap","todo_filter","todo_state_filter","current_user","author_id","skip_users","_ref3","relative_url_root","__webpack_exports__"],"mappings":"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","file":"pages.admin.groups.show.0ec28012.chunk.js","sourcesContent":["import UsersSelect from '../../../../users_select';\n\ndocument.addEventListener('DOMContentLoaded', () => new UsersSelect());\n","import $ from 'jquery';\nimport { refreshCurrentPage } from '../../lib/utils/url_utility';\n\nfunction showBlacklistType() {\n  if ($('input[name=\"blacklist_type\"]:checked').val() === 'file') {\n    $('.blacklist-file').show();\n    $('.blacklist-raw').hide();\n  } else {\n    $('.blacklist-file').hide();\n    $('.blacklist-raw').show();\n  }\n}\n\nexport default function adminInit() {\n  const modal = $('.change-owner-holder');\n\n  $('input#user_force_random_password').on('change', function randomPasswordClick() {\n    const $elems = $('#user_password, #user_password_confirmation');\n    if ($(this).attr('checked')) {\n      $elems.val('').prop('disabled', true);\n    } else {\n      $elems.prop('disabled', false);\n    }\n  });\n\n  $('body').on('click', '.js-toggle-colors-link', (e) => {\n    e.preventDefault();\n    $('.js-toggle-colors-container').toggleClass('hide');\n  });\n\n  $('.log-tabs a').on('click', function logTabsClick(e) {\n    e.preventDefault();\n    $(this).tab('show');\n  });\n\n  $('.log-bottom').on('click', (e) => {\n    e.preventDefault();\n    const $visibleLog = $('.file-content:visible');\n    $visibleLog.animate({\n      scrollTop: $visibleLog.find('ol').height(),\n    }, 'fast');\n  });\n\n  $('.change-owner-link').on('click', function changeOwnerLinkClick(e) {\n    e.preventDefault();\n    $(this).hide();\n    modal.show();\n  });\n\n  $('.change-owner-cancel-link').on('click', (e) => {\n    e.preventDefault();\n    modal.hide();\n    $('.change-owner-link').show();\n  });\n\n  $('li.project_member, li.group_member').on('ajax:success', refreshCurrentPage);\n\n  $(\"input[name='blacklist_type']\").on('click', showBlacklistType);\n  showBlacklistType();\n}\n","import initAdmin from './admin';\n\ndocument.addEventListener('DOMContentLoaded', initAdmin);\n","/* eslint-disable func-names, one-var, no-var, prefer-rest-params, quotes, max-len, one-var-declaration-per-line, vars-on-top, prefer-arrow-callback, consistent-return, comma-dangle, object-shorthand, no-shadow, no-unused-vars, no-else-return, no-self-compare, prefer-template, no-unused-expressions, yoda, prefer-spread, no-void, camelcase, no-param-reassign */\n/* global Issuable */\n/* global emitSidebarEvent */\n\nimport $ from 'jquery';\nimport _ from 'underscore';\nimport axios from './lib/utils/axios_utils';\nimport { __ } from './locale';\nimport ModalStore from './boards/stores/modal_store';\n\n// TODO: remove eventHub hack after code splitting refactor\nwindow.emitSidebarEvent = window.emitSidebarEvent || $.noop;\n\nfunction UsersSelect(currentUser, els, options = {}) {\n  var $els;\n  this.users = this.users.bind(this);\n  this.user = this.user.bind(this);\n  this.usersPath = \"/autocomplete/users.json\";\n  this.userPath = \"/autocomplete/users/:id.json\";\n  if (currentUser != null) {\n    if (typeof currentUser === 'object') {\n      this.currentUser = currentUser;\n    } else {\n      this.currentUser = JSON.parse(currentUser);\n    }\n  }\n\n  const { handleClick } = options;\n\n  $els = $(els);\n\n  if (!els) {\n    $els = $('.js-user-search');\n  }\n\n  $els.each((function(_this) {\n    return function(i, dropdown) {\n      var options = {};\n      var $block, $collapsedSidebar, $dropdown, $loading, $selectbox, $value, abilityName, assignTo, assigneeTemplate, collapsedAssigneeTemplate, defaultLabel, defaultNullUser, firstUser, issueURL, selectedId, selectedIdDefault, showAnyUser, showNullUser, showMenuAbove;\n      $dropdown = $(dropdown);\n      options.projectId = $dropdown.data('projectId');\n      options.groupId = $dropdown.data('groupId');\n      options.showCurrentUser = $dropdown.data('currentUser');\n      options.todoFilter = $dropdown.data('todoFilter');\n      options.todoStateFilter = $dropdown.data('todoStateFilter');\n      showNullUser = $dropdown.data('nullUser');\n      defaultNullUser = $dropdown.data('nullUserDefault');\n      showMenuAbove = $dropdown.data('showMenuAbove');\n      showAnyUser = $dropdown.data('anyUser');\n      firstUser = $dropdown.data('firstUser');\n      options.authorId = $dropdown.data('authorId');\n      defaultLabel = $dropdown.data('defaultLabel');\n      issueURL = $dropdown.data('issueUpdate');\n      $selectbox = $dropdown.closest('.selectbox');\n      $block = $selectbox.closest('.block');\n      abilityName = $dropdown.data('abilityName');\n      $value = $block.find('.value');\n      $collapsedSidebar = $block.find('.sidebar-collapsed-user');\n      $loading = $block.find('.block-loading').fadeOut();\n      selectedIdDefault = (defaultNullUser && showNullUser) ? 0 : null;\n      selectedId = $dropdown.data('selected');\n\n      if (selectedId === undefined) {\n        selectedId = selectedIdDefault;\n      }\n\n      const assignYourself = function () {\n        const unassignedSelected = $dropdown.closest('.selectbox')\n          .find(`input[name='${$dropdown.data('fieldName')}'][value=0]`);\n\n        if (unassignedSelected) {\n          unassignedSelected.remove();\n        }\n\n        // Save current selected user to the DOM\n        const input = document.createElement('input');\n        input.type = 'hidden';\n        input.name = $dropdown.data('fieldName');\n\n        const currentUserInfo = $dropdown.data('currentUserInfo');\n\n        if (currentUserInfo) {\n          input.value = currentUserInfo.id;\n          input.dataset.meta = _.escape(currentUserInfo.name);\n        } else if (_this.currentUser) {\n          input.value = _this.currentUser.id;\n        }\n\n        if ($selectbox) {\n          $dropdown.parent().before(input);\n        } else {\n          $dropdown.after(input);\n        }\n      };\n\n      if ($block[0]) {\n        $block[0].addEventListener('assignYourself', assignYourself);\n      }\n\n      const getSelectedUserInputs = function() {\n        return $selectbox\n          .find(`input[name=\"${$dropdown.data('fieldName')}\"]`);\n      };\n\n      const getSelected = function() {\n        return getSelectedUserInputs()\n          .map((index, input) => parseInt(input.value, 10))\n          .get();\n      };\n\n      const checkMaxSelect = function() {\n        const maxSelect = $dropdown.data('maxSelect');\n        if (maxSelect) {\n          const selected = getSelected();\n\n          if (selected.length > maxSelect) {\n            const firstSelectedId = selected[0];\n            const firstSelected = $dropdown.closest('.selectbox')\n              .find(`input[name='${$dropdown.data('fieldName')}'][value=${firstSelectedId}]`);\n\n            firstSelected.remove();\n            emitSidebarEvent('sidebar.removeAssignee', {\n              id: firstSelectedId,\n            });\n          }\n        }\n      };\n\n      const getMultiSelectDropdownTitle = function(selectedUser, isSelected) {\n        const selectedUsers = getSelected()\n          .filter(u => u !== 0);\n\n        const firstUser = getSelectedUserInputs()\n          .map((index, input) => ({\n            name: input.dataset.meta,\n            value: parseInt(input.value, 10),\n          }))\n          .filter(u => u.id !== 0)\n          .get(0);\n\n        if (selectedUsers.length === 0) {\n          return 'Unassigned';\n        } else if (selectedUsers.length === 1) {\n          return firstUser.name;\n        } else if (isSelected) {\n          const otherSelected = selectedUsers.filter(s => s !== selectedUser.id);\n          return `${selectedUser.name} + ${otherSelected.length} more`;\n        } else {\n          return `${firstUser.name} + ${selectedUsers.length - 1} more`;\n        }\n      };\n\n      $('.assign-to-me-link').on('click', (e) => {\n        e.preventDefault();\n        $(e.currentTarget).hide();\n\n        if ($dropdown.data('multiSelect')) {\n          assignYourself();\n          checkMaxSelect();\n\n          const currentUserInfo = $dropdown.data('currentUserInfo');\n          $dropdown.find('.dropdown-toggle-text').text(getMultiSelectDropdownTitle(currentUserInfo)).removeClass('is-default');\n        } else {\n          const $input = $(`input[name=\"${$dropdown.data('fieldName')}\"]`);\n          $input.val(gon.current_user_id);\n          selectedId = $input.val();\n          $dropdown.find('.dropdown-toggle-text').text(gon.current_user_fullname).removeClass('is-default');\n        }\n      });\n\n      $block.on('click', '.js-assign-yourself', (e) => {\n        e.preventDefault();\n        return assignTo(_this.currentUser.id);\n      });\n\n      assignTo = function(selected) {\n        var data;\n        data = {};\n        data[abilityName] = {};\n        data[abilityName].assignee_id = selected != null ? selected : null;\n        $loading.removeClass('hidden').fadeIn();\n        $dropdown.trigger('loading.gl.dropdown');\n\n        return axios.put(issueURL, data)\n          .then(({ data }) => {\n            var user, tooltipTitle;\n            $dropdown.trigger('loaded.gl.dropdown');\n            $loading.fadeOut();\n            if (data.assignee) {\n              user = {\n                name: data.assignee.name,\n                username: data.assignee.username,\n                avatar: data.assignee.avatar_url\n              };\n              tooltipTitle = _.escape(user.name);\n            } else {\n              user = {\n                name: 'Unassigned',\n                username: '',\n                avatar: ''\n              };\n              tooltipTitle = __('Assignee');\n            }\n            $value.html(assigneeTemplate(user));\n            $collapsedSidebar.attr('title', tooltipTitle).tooltip('_fixTitle');\n            return $collapsedSidebar.html(collapsedAssigneeTemplate(user));\n          });\n      };\n      collapsedAssigneeTemplate = _.template('<% if( avatar ) { %> <a class=\"author-link\" href=\"/<%- username %>\"> <img width=\"24\" class=\"avatar avatar-inline s24\" alt=\"\" src=\"<%- avatar %>\"> </a> <% } else { %> <i class=\"fa fa-user\"></i> <% } %>');\n      assigneeTemplate = _.template('<% if (username) { %> <a class=\"author-link bold\" href=\"/<%- username %>\"> <% if( avatar ) { %> <img width=\"32\" class=\"avatar avatar-inline s32\" alt=\"\" src=\"<%- avatar %>\"> <% } %> <span class=\"author\"><%- name %></span> <span class=\"username\"> @<%- username %> </span> </a> <% } else { %> <span class=\"no-value assign-yourself\"> No assignee - <a href=\"#\" class=\"js-assign-yourself\"> assign yourself </a> </span> <% } %>');\n      return $dropdown.glDropdown({\n        showMenuAbove: showMenuAbove,\n        data: function(term, callback) {\n          return _this.users(term, options, function(users) {\n            // GitLabDropdownFilter returns this.instance\n            // GitLabDropdownRemote returns this.options.instance\n            const glDropdown = this.instance || this.options.instance;\n            glDropdown.options.processData(term, users, callback);\n          }.bind(this));\n        },\n        processData: function(term, data, callback) {\n          let users = data;\n\n          // Only show assigned user list when there is no search term\n          if ($dropdown.hasClass('js-multiselect') && term.length === 0) {\n            const selectedInputs = getSelectedUserInputs();\n\n            // Potential duplicate entries when dealing with issue board\n            // because issue board is also managed by vue\n            const selectedUsers = _.uniq(selectedInputs, false, a => a.value)\n              .filter((input) => {\n                const userId = parseInt(input.value, 10);\n                const inUsersArray = users.find(u => u.id === userId);\n\n                return !inUsersArray && userId !== 0;\n              })\n              .map((input) => {\n                const userId = parseInt(input.value, 10);\n                const { avatarUrl, avatar_url, name, username } = input.dataset;\n                return {\n                  avatar_url: avatarUrl || avatar_url,\n                  id: userId,\n                  name,\n                  username,\n                };\n              });\n\n            users = data.concat(selectedUsers);\n          }\n\n          let anyUser;\n          let index;\n          let len;\n          let name;\n          let obj;\n          let showDivider;\n          if (term.length === 0) {\n            showDivider = 0;\n            if (firstUser) {\n              // Move current user to the front of the list\n              for (index = 0, len = users.length; index < len; index += 1) {\n                obj = users[index];\n                if (obj.username === firstUser) {\n                  users.splice(index, 1);\n                  users.unshift(obj);\n                  break;\n                }\n              }\n            }\n            if (showNullUser) {\n              showDivider += 1;\n              users.unshift({\n                beforeDivider: true,\n                name: 'Unassigned',\n                id: 0\n              });\n            }\n            if (showAnyUser) {\n              showDivider += 1;\n              name = showAnyUser;\n              if (name === true) {\n                name = 'Any User';\n              }\n              anyUser = {\n                beforeDivider: true,\n                name: name,\n                id: null\n              };\n              users.unshift(anyUser);\n            }\n\n            if (showDivider) {\n              users.splice(showDivider, 0, 'divider');\n            }\n\n            if ($dropdown.hasClass('js-multiselect')) {\n              const selected = getSelected().filter(i => i !== 0);\n\n              if (selected.length > 0) {\n                if ($dropdown.data('dropdownHeader')) {\n                  showDivider += 1;\n                  users.splice(showDivider, 0, {\n                    header: $dropdown.data('dropdownHeader'),\n                  });\n                }\n\n                const selectedUsers = users\n                  .filter(u => selected.indexOf(u.id) !== -1)\n                  .sort((a, b) => a.name > b.name);\n\n                users = users.filter(u => selected.indexOf(u.id) === -1);\n\n                selectedUsers.forEach((selectedUser) => {\n                  showDivider += 1;\n                  users.splice(showDivider, 0, selectedUser);\n                });\n\n                users.splice(showDivider + 1, 0, 'divider');\n              }\n            }\n          }\n\n          callback(users);\n          if (showMenuAbove) {\n            $dropdown.data('glDropdown').positionMenuAbove();\n          }\n        },\n        filterable: true,\n        filterRemote: true,\n        search: {\n          fields: ['name', 'username']\n        },\n        selectable: true,\n        fieldName: $dropdown.data('fieldName'),\n        toggleLabel: function(selected, el, glDropdown) {\n          const inputValue = glDropdown.filterInput.val();\n\n          if (this.multiSelect && inputValue === '') {\n            // Remove non-users from the fullData array\n            const users = glDropdown.filteredFullData();\n            const callback = glDropdown.parseData.bind(glDropdown);\n\n            // Update the data model\n            this.processData(inputValue, users, callback);\n          }\n\n          if (this.multiSelect) {\n            return getMultiSelectDropdownTitle(selected, $(el).hasClass('is-active'));\n          }\n\n          if (selected && 'id' in selected && $(el).hasClass('is-active')) {\n            $dropdown.find('.dropdown-toggle-text').removeClass('is-default');\n            if (selected.text) {\n              return selected.text;\n            } else {\n              return selected.name;\n            }\n          } else {\n            $dropdown.find('.dropdown-toggle-text').addClass('is-default');\n            return defaultLabel;\n          }\n        },\n        defaultLabel: defaultLabel,\n        hidden: function(e) {\n          if ($dropdown.hasClass('js-multiselect')) {\n            emitSidebarEvent('sidebar.saveAssignees');\n          }\n\n          if (!$dropdown.data('alwaysShowSelectbox')) {\n            $selectbox.hide();\n\n            // Recalculate where .value is because vue might have changed it\n            $block = $selectbox.closest('.block');\n            $value = $block.find('.value');\n            // display:block overrides the hide-collapse rule\n            $value.css('display', '');\n          }\n        },\n        multiSelect: $dropdown.hasClass('js-multiselect'),\n        inputMeta: $dropdown.data('inputMeta'),\n        clicked: function(options) {\n          const { $el, e, isMarking } = options;\n          const user = options.selectedObj;\n\n          if ($dropdown.hasClass('js-multiselect')) {\n            const isActive = $el.hasClass('is-active');\n            const previouslySelected = $dropdown.closest('.selectbox')\n                .find(\"input[name='\" + ($dropdown.data('fieldName')) + \"'][value!=0]\");\n\n            // Enables support for limiting the number of users selected\n            // Automatically removes the first on the list if more users are selected\n            checkMaxSelect();\n\n            if (user.beforeDivider && user.name.toLowerCase() === 'unassigned') {\n              // Unassigned selected\n              previouslySelected.each((index, element) => {\n                const id = parseInt(element.value, 10);\n                element.remove();\n              });\n              emitSidebarEvent('sidebar.removeAllAssignees');\n            } else if (isActive) {\n              // user selected\n              emitSidebarEvent('sidebar.addAssignee', user);\n\n              // Remove unassigned selection (if it was previously selected)\n              const unassignedSelected = $dropdown.closest('.selectbox')\n                .find(\"input[name='\" + ($dropdown.data('fieldName')) + \"'][value=0]\");\n\n              if (unassignedSelected) {\n                unassignedSelected.remove();\n              }\n            } else {\n              if (previouslySelected.length === 0) {\n              // Select unassigned because there is no more selected users\n                this.addInput($dropdown.data('fieldName'), 0, {});\n              }\n\n              // User unselected\n              emitSidebarEvent('sidebar.removeAssignee', user);\n            }\n\n            if (getSelected().find(u => u === gon.current_user_id)) {\n              $('.assign-to-me-link').hide();\n            } else {\n              $('.assign-to-me-link').show();\n            }\n          }\n\n          var isIssueIndex, isMRIndex, page, selected;\n          page = $('body').attr('data-page');\n          isIssueIndex = page === 'projects:issues:index';\n          isMRIndex = (page === page && page === 'projects:merge_requests:index');\n          if ($dropdown.hasClass('js-filter-bulk-update') || $dropdown.hasClass('js-issuable-form-dropdown')) {\n            e.preventDefault();\n\n            const isSelecting = (user.id !== selectedId);\n            selectedId = isSelecting ? user.id : selectedIdDefault;\n\n            if (selectedId === gon.current_user_id) {\n              $('.assign-to-me-link').hide();\n            } else {\n              $('.assign-to-me-link').show();\n            }\n            return;\n          }\n          if ($el.closest('.add-issues-modal').length) {\n            ModalStore.store.filter[$dropdown.data('fieldName')] = user.id;\n          } else if (handleClick) {\n            e.preventDefault();\n            handleClick(user, isMarking);\n          } else if ($dropdown.hasClass('js-filter-submit') && (isIssueIndex || isMRIndex)) {\n            return Issuable.filterResults($dropdown.closest('form'));\n          } else if ($dropdown.hasClass('js-filter-submit')) {\n            return $dropdown.closest('form').submit();\n          } else if (!$dropdown.hasClass('js-multiselect')) {\n            selected = $dropdown.closest('.selectbox').find(\"input[name='\" + ($dropdown.data('fieldName')) + \"']\").val();\n            return assignTo(selected);\n          }\n\n          // Automatically close dropdown after assignee is selected\n          // since CE has no multiple assignees\n          // EE does not have a max-select\n          if ($dropdown.data('maxSelect') &&\n              getSelected().length === $dropdown.data('maxSelect')) {\n            // Close the dropdown\n            $dropdown.dropdown('toggle');\n          }\n        },\n        id: function (user) {\n          return user.id;\n        },\n        opened: function(e) {\n          const $el = $(e.currentTarget);\n          const selected = getSelected();\n          if ($dropdown.hasClass('js-issue-board-sidebar') && selected.length === 0) {\n            this.addInput($dropdown.data('fieldName'), 0, {});\n          }\n          $el.find('.is-active').removeClass('is-active');\n\n          function highlightSelected(id) {\n            $el.find(`li[data-user-id=\"${id}\"] .dropdown-menu-user-link`).addClass('is-active');\n          }\n\n          if (selected.length > 0) {\n            getSelected().forEach(selectedId => highlightSelected(selectedId));\n          } else if ($dropdown.hasClass('js-issue-board-sidebar')) {\n            highlightSelected(0);\n          } else {\n            highlightSelected(selectedId);\n          }\n        },\n        updateLabel: $dropdown.data('dropdownTitle'),\n        renderRow: function(user) {\n          var avatar, img, listClosingTags, listWithName, listWithUserName, username;\n          username = user.username ? \"@\" + user.username : \"\";\n          avatar = user.avatar_url ? user.avatar_url : gon.default_avatar_url;\n\n          let selected = false;\n\n          if (this.multiSelect) {\n            selected = getSelected().find(u => user.id === u);\n\n            const { fieldName } = this;\n            const field = $dropdown.closest('.selectbox').find(\"input[name='\" + fieldName + \"'][value='\" + user.id + \"']\");\n\n            if (field.length) {\n              selected = true;\n            }\n          } else {\n            selected = user.id === selectedId;\n          }\n\n          img = \"\";\n          if (user.beforeDivider != null) {\n            `<li><a href='#' class='${selected === true ? 'is-active' : ''}'>${_.escape(user.name)}</a></li>`;\n          } else {\n            img = \"<img src='\" + avatar + \"' class='avatar avatar-inline' width='32' />\";\n          }\n\n          return `\n            <li data-user-id=${user.id}>\n              <a href='#' class='dropdown-menu-user-link ${selected === true ? 'is-active' : ''}'>\n                ${img}\n                <strong class='dropdown-menu-user-full-name'>\n                  ${_.escape(user.name)}\n                </strong>\n                ${username ? `<span class='dropdown-menu-user-username'>${username}</span>` : ''}\n              </a>\n            </li>\n          `;\n        }\n      });\n    };\n  })(this));\n  $('.ajax-users-select').each((function(_this) {\n    return function(i, select) {\n      var firstUser, showAnyUser, showEmailUser, showNullUser;\n      var options = {};\n      options.skipLdap = $(select).hasClass('skip_ldap');\n      options.projectId = $(select).data('projectId');\n      options.groupId = $(select).data('groupId');\n      options.showCurrentUser = $(select).data('currentUser');\n      options.authorId = $(select).data('authorId');\n      options.skipUsers = $(select).data('skipUsers');\n      showNullUser = $(select).data('nullUser');\n      showAnyUser = $(select).data('anyUser');\n      showEmailUser = $(select).data('emailUser');\n      firstUser = $(select).data('firstUser');\n      return $(select).select2({\n        placeholder: \"Search for a user\",\n        multiple: $(select).hasClass('multiselect'),\n        minimumInputLength: 0,\n        query: function(query) {\n          return _this.users(query.term, options, function(users) {\n            var anyUser, data, emailUser, index, len, name, nullUser, obj, ref;\n            data = {\n              results: users\n            };\n            if (query.term.length === 0) {\n              if (firstUser) {\n                // Move current user to the front of the list\n                ref = data.results;\n\n                for (index = 0, len = ref.length; index < len; index += 1) {\n                  obj = ref[index];\n                  if (obj.username === firstUser) {\n                    data.results.splice(index, 1);\n                    data.results.unshift(obj);\n                    break;\n                  }\n                }\n              }\n              if (showNullUser) {\n                nullUser = {\n                  name: 'Unassigned',\n                  id: 0\n                };\n                data.results.unshift(nullUser);\n              }\n              if (showAnyUser) {\n                name = showAnyUser;\n                if (name === true) {\n                  name = 'Any User';\n                }\n                anyUser = {\n                  name: name,\n                  id: null\n                };\n                data.results.unshift(anyUser);\n              }\n            }\n            if (showEmailUser && data.results.length === 0 && query.term.match(/^[^@]+@[^@]+$/)) {\n              var trimmed = query.term.trim();\n              emailUser = {\n                name: \"Invite \\\"\" + query.term + \"\\\" by email\",\n                username: trimmed,\n                id: trimmed,\n                invite: true\n              };\n              data.results.unshift(emailUser);\n            }\n            return query.callback(data);\n          });\n        },\n        initSelection: function() {\n          var args;\n          args = 1 <= arguments.length ? [].slice.call(arguments, 0) : [];\n          return _this.initSelection.apply(_this, args);\n        },\n        formatResult: function() {\n          var args;\n          args = 1 <= arguments.length ? [].slice.call(arguments, 0) : [];\n          return _this.formatResult.apply(_this, args);\n        },\n        formatSelection: function() {\n          var args;\n          args = 1 <= arguments.length ? [].slice.call(arguments, 0) : [];\n          return _this.formatSelection.apply(_this, args);\n        },\n        dropdownCssClass: \"ajax-users-dropdown\",\n        // we do not want to escape markup since we are displaying html in results\n        escapeMarkup: function(m) {\n          return m;\n        }\n      });\n    };\n  })(this));\n}\n\nUsersSelect.prototype.initSelection = function(element, callback) {\n  var id, nullUser;\n  id = $(element).val();\n  if (id === \"0\") {\n    nullUser = {\n      name: 'Unassigned'\n    };\n    return callback(nullUser);\n  } else if (id !== \"\") {\n    return this.user(id, callback);\n  }\n};\n\nUsersSelect.prototype.formatResult = function(user) {\n  var avatar;\n  if (user.avatar_url) {\n    avatar = user.avatar_url;\n  } else {\n    avatar = gon.default_avatar_url;\n  }\n  return \"<div class='user-result \" + (!user.username ? 'no-username' : void 0) + \"'> <div class='user-image'><img class='avatar avatar-inline s32' src='\" + avatar + \"'></div> <div class='user-name dropdown-menu-user-full-name'>\" + _.escape(user.name) + \"</div> <div class='user-username dropdown-menu-user-username'>\" + (!user.invite ? \"@\" + _.escape(user.username) : \"\") + \"</div> </div>\";\n};\n\nUsersSelect.prototype.formatSelection = function(user) {\n  return _.escape(user.name);\n};\n\nUsersSelect.prototype.user = function(user_id, callback) {\n  if (!/^\\d+$/.test(user_id)) {\n    return false;\n  }\n\n  var url;\n  url = this.buildUrl(this.userPath);\n  url = url.replace(':id', user_id);\n  return axios.get(url)\n    .then(({ data }) => {\n      callback(data);\n    });\n};\n\n// Return users list. Filtered by query\n// Only active users retrieved\nUsersSelect.prototype.users = function(query, options, callback) {\n  const url = this.buildUrl(this.usersPath);\n  const params = {\n    search: query,\n    active: true,\n    project_id: options.projectId || null,\n    group_id: options.groupId || null,\n    skip_ldap: options.skipLdap || null,\n    todo_filter: options.todoFilter || null,\n    todo_state_filter: options.todoStateFilter || null,\n    current_user: options.showCurrentUser || null,\n    author_id: options.authorId || null,\n    skip_users: options.skipUsers || null\n  };\n  return axios.get(url, { params })\n    .then(({ data }) => {\n      callback(data);\n    });\n};\n\nUsersSelect.prototype.buildUrl = function(url) {\n  if (gon.relative_url_root != null) {\n    url = gon.relative_url_root.replace(/\\/$/, '') + url;\n  }\n  return url;\n};\n\nexport default UsersSelect;\n"],"sourceRoot":""}