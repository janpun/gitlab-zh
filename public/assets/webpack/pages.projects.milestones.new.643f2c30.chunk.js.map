{"version":3,"sources":["webpack:///./due_date_select.js","webpack:///./shared/milestones/form.js","webpack:///./lib/utils/datefix.js","webpack:///./dropzone_input.js","webpack:///./lib/utils/text_markdown.js","webpack:///./gl_form.js","webpack:///./zen_mode.js","webpack:////var/cache/omnibus/src/gitlab-rails/node_modules/pikaday/pikaday.js","webpack:///./pages/projects/milestones/new/index.js","webpack:////var/cache/omnibus/src/gitlab-rails/node_modules/mousetrap/plugins/pause/mousetrap-pause.js"],"names":["DueDateSelect","_ref","arguments","length","undefined","$dropdown","$loading","_classCallCheck","this","$dropdownParent","closest","$block","$datePicker","find","$sidebarCollapsedValue","$selectbox","$value","$valueContent","$sidebarValue","jquery__WEBPACK_IMPORTED_MODULE_0___default","fieldName","data","abilityName","issueUpdateURL","rawSelectedDate","displayedDate","datePayload","initGlDropdown","initRemoveDueDate","initDatePicker","_this","glDropdown","opened","show","hidden","hide","css","_this2","$dueDateInput","$","calendar","pikaday__WEBPACK_IMPORTED_MODULE_1___default","a","field","get","theme","format","parse","dateString","Object","_lib_utils_datefix__WEBPACK_IMPORTED_MODULE_6__","toString","date","onSelect","dateText","val","hasClass","gl","issueBoards","BoardsStore","detail","issue","dueDate","updateIssueBoardIssue","saveDueDate","setDate","append","el","_this3","on","e","preventDefault","isDropdown","parseSelectedDate","prepSelectedDate","submitSelectedDate","dateArray","split","map","v","parseInt","dateObj","Date","dateformat__WEBPACK_IMPORTED_MODULE_2___default","due_date","_this4","fadeIn","trigger","fadeOutLoader","fadeOut","update","attr","then","catch","_this5","selectedDateValue","hasDueDate","displayedDateStyle","removeClass","html","toggleClass","_lib_utils_axios_utils__WEBPACK_IMPORTED_MODULE_4__","put","tooltipText","_locale__WEBPACK_IMPORTED_MODULE_3__","_lib_utils_datetime_utility__WEBPACK_IMPORTED_MODULE_5__","dropdown","DueDateSelectors","initMilestoneDatePicker","initIssuableSelect","each","datePickerVal","container","parent","target","siblings","i","__webpack_exports__","initGFM","_zen_mode__WEBPACK_IMPORTED_MODULE_1__","_due_date_select__WEBPACK_IMPORTED_MODULE_2__","_gl_form__WEBPACK_IMPORTED_MODULE_3__","emojis","members","issues","mergeRequests","epics","milestones","labels","pad","len","slice","parsePikadayDate","parts","year","month","day","pikadayToString","getDate","getMonth","getFullYear","dropzoneInput","form","$attachButton","$attachingFileMessage","$cancelButton","$retryLink","$uploadProgress","$uploadingErrorContainer","$uploadingErrorMessage","$uploadingProgressContainer","uploadsPath","window","uploads_path","maxFileSize","gon","max_file_size","formTextarea","handlePaste","pasteText","addFileToForm","updateAttachingMessage","isImage","getFilename","uploadFile","wrap","event","$mdArea","setupMarkdownPreview","$formDropzone","addClass","dropzone","url","dictDefaultMessage","clickable","paramName","maxFilesize","uploadMultiple","headers","csrf","previewContainer","processing","jquery_default","alert","dragover","dragleave","drop","focus","success","header","response","processingFileCount","getQueuedFiles","getUploadingFiles","shouldPad","link","markdown","error","file","errorMessage","xhr","message","responseText","totaluploadprogress","totalUploadProgress","files","text","Math","round","sending","removedfile","queuecomplete","remove","child","children","stopPropagation","dropzone_default","forElement","removeAllFiles","dropzoneInstance","querySelector","failedFiles","failedFile","status","ERROR","accepted","addFile","pasteEvent","originalEvent","clipboardData","items","image","filename","getAsFile","item","type","indexOf","formattedText","textarea","caretStart","selectionStart","caretEnd","selectionEnd","textEnd","beforeSelection","substring","afterSelection","setSelectionRange","style","height","scrollHeight","dispatchEvent","Event","path","underscore_default","escape","value","getData","closeSpinner","formData","FormData","axios_utils","post","md","$child","index","replace","insertToTextArea","messageContainer","attachingMessage","filesCount","filter","click","autoDiscover","updateText","textArea","tag","blockTag","$textArea","selected","selectedText","textToInsert","selectedSplit","startChar","removedLastNewLine","removedFirstNewLine","currentLineEmpty","lastNewLine","substr","lastIndexOf","test","before","trim","lineBefore","after","lineAfter","blockTagText","join","common_utils","wrapped","pos","moveCursor","insertMarkdownText","gl_form_GLForm","GLForm","enableGFM","assign","gfm_auto_complete","dataSources","GfmAutoComplete","keys","forEach","destroy","setupForm","clearEventListeners","autoComplete","isNewForm","is","utils","disableButtonIfEmptyField","setup","autosize_default","addEventListeners","off","$this","isAutosizeable","setupAutosize","setHeightData","bind","destroyAutosize","setTimeout","outerHeight","dropzone__WEBPACK_IMPORTED_MODULE_2___default","ZenMode","active_backdrop","active_textarea","document","currentTarget","enter","exit","keyCode","backdrop","mousetrap__WEBPACK_IMPORTED_MODULE_3___default","pause","removeAttr","unpause","scrollTo","$dropzone","enable","zen_area","offset","root","factory","moment","__webpack_require__","Error","code","module","exports","hasMoment","hasEventListeners","addEventListener","sto","addEvent","callback","capture","attachEvent","removeEvent","removeEventListener","detachEvent","cn","className","isArray","obj","prototype","call","isDate","isNaN","getTime","isWeekend","getDay","getDaysInMonth","isLeapYear","setToStartOfDay","setHours","compareDates","b","extend","to","from","overwrite","prop","hasProp","nodeName","fireEvent","eventName","ev","createEvent","initEvent","createEventObject","adjustCalendar","ceil","abs","floor","defaults","bound","position","reposition","defaultDate","setDefaultDate","firstDay","formatStrict","minDate","maxDate","yearRange","showWeekNumber","pickWholeWeek","minYear","maxYear","minMonth","maxMonth","startRange","endRange","isRTL","yearSuffix","showMonthAfterYear","showDaysInNextAndPreviousMonths","enableSelectionDaysInNextAndPreviousMonths","numberOfMonths","mainCalendar","blurFieldOnSelect","i18n","previousMonth","nextMonth","months","weekdays","weekdaysShort","events","onOpen","onClose","onDraw","renderDayName","opts","abbr","renderDay","arr","ariaSelected","isEmpty","push","isDisabled","isToday","isSelected","hasEvent","isInRange","isStartRange","isEndRange","renderRow","days","isRowSelected","reverse","renderTitle","instance","c","refYear","randId","j","monthHtml","yearHtml","_o","isMinYear","isMaxYear","prev","next","Pikaday","options","self","config","_onMouseDown","_v","srcElement","parentNode","prevMonth","getAttribute","blur","_c","returnValue","_onChange","gotoMonth","gotoYear","_onKeyChange","isVisible","adjustDate","_onInputChange","firedBy","isValid","toDate","_onInputFocus","_onInputClick","_onInputBlur","pEl","activeElement","_b","_onClick","onchange","setAttribute","createElement","appendChild","body","insertBefore","nextSibling","defDate","gotoDate","disableWeekends","disableDayFn","nom","setMinDate","setMaxDate","fallback","_d","toDateString","getMoment","setMoment","preventOnSelect","isMoment","draw","min","max","newCalendar","calendars","firstVisibleDate","lastVisibleDate","visibleDate","setMonth","adjustCalendars","sign","newDay","difference","valueOf","gotoToday","setStartRange","setEndRange","force","_y","_m","random","render","innerHTML","adjustPosition","width","viewportWidth","viewportHeight","scrollTop","left","top","clientRect","offsetWidth","offsetHeight","innerWidth","documentElement","clientWidth","innerHeight","clientHeight","pageYOffset","getBoundingClientRect","pageXOffset","bottom","offsetLeft","offsetTop","offsetParent","now","row","yearOfPreviousMonth","yearOfNextMonth","daysInPreviousMonth","cells","d","m","y","onejan","isWeekSelected","r","dayNumber","monthNumber","yearNumber","dayConfig","unshift","renderHead","renderTable","str","removeChild","_shared_milestones_form__WEBPACK_IMPORTED_MODULE_0__","Mousetrap","_originalStopCallback","stopCallback","enabled","element","combo"],"mappings":"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","file":"pages.projects.milestones.new.643f2c30.chunk.js","sourcesContent":["import $ from 'jquery';\nimport Pikaday from 'pikaday';\nimport dateFormat from 'dateformat';\nimport { __ } from '~/locale';\nimport axios from './lib/utils/axios_utils';\nimport { timeFor } from './lib/utils/datetime_utility';\nimport { parsePikadayDate, pikadayToString } from './lib/utils/datefix';\n\nclass DueDateSelect {\n  constructor({ $dropdown, $loading } = {}) {\n    const $dropdownParent = $dropdown.closest('.dropdown');\n    const $block = $dropdown.closest('.block');\n    this.$loading = $loading;\n    this.$dropdown = $dropdown;\n    this.$dropdownParent = $dropdownParent;\n    this.$datePicker = $dropdownParent.find('.js-due-date-calendar');\n    this.$block = $block;\n    this.$sidebarCollapsedValue = $block.find('.sidebar-collapsed-icon');\n    this.$selectbox = $dropdown.closest('.selectbox');\n    this.$value = $block.find('.value');\n    this.$valueContent = $block.find('.value-content');\n    this.$sidebarValue = $('.js-due-date-sidebar-value', $block);\n    this.fieldName = $dropdown.data('fieldName');\n    this.abilityName = $dropdown.data('abilityName');\n    this.issueUpdateURL = $dropdown.data('issueUpdate');\n\n    this.rawSelectedDate = null;\n    this.displayedDate = null;\n    this.datePayload = null;\n\n    this.initGlDropdown();\n    this.initRemoveDueDate();\n    this.initDatePicker();\n  }\n\n  initGlDropdown() {\n    this.$dropdown.glDropdown({\n      opened: () => {\n        const calendar = this.$datePicker.data('pikaday');\n        calendar.show();\n      },\n      hidden: () => {\n        this.$selectbox.hide();\n        this.$value.css('display', '');\n      },\n    });\n  }\n\n  initDatePicker() {\n    const $dueDateInput = $(`input[name='${this.fieldName}']`);\n    const calendar = new Pikaday({\n      field: $dueDateInput.get(0),\n      theme: 'gitlab-theme',\n      format: 'yyyy-mm-dd',\n      parse: dateString => parsePikadayDate(dateString),\n      toString: date => pikadayToString(date),\n      onSelect: dateText => {\n        $dueDateInput.val(calendar.toString(dateText));\n\n        if (this.$dropdown.hasClass('js-issue-boards-due-date')) {\n          gl.issueBoards.BoardsStore.detail.issue.dueDate = $dueDateInput.val();\n          this.updateIssueBoardIssue();\n        } else {\n          this.saveDueDate(true);\n        }\n      },\n    });\n\n    calendar.setDate(parsePikadayDate($dueDateInput.val()));\n    this.$datePicker.append(calendar.el);\n    this.$datePicker.data('pikaday', calendar);\n  }\n\n  initRemoveDueDate() {\n    this.$block.on('click', '.js-remove-due-date', e => {\n      const calendar = this.$datePicker.data('pikaday');\n      e.preventDefault();\n\n      calendar.setDate(null);\n\n      if (this.$dropdown.hasClass('js-issue-boards-due-date')) {\n        gl.issueBoards.BoardsStore.detail.issue.dueDate = '';\n        this.updateIssueBoardIssue();\n      } else {\n        $(`input[name='${this.fieldName}']`).val('');\n        this.saveDueDate(false);\n      }\n    });\n  }\n\n  saveDueDate(isDropdown) {\n    this.parseSelectedDate();\n    this.prepSelectedDate();\n    this.submitSelectedDate(isDropdown);\n  }\n\n  parseSelectedDate() {\n    this.rawSelectedDate = $(`input[name='${this.fieldName}']`).val();\n\n    if (this.rawSelectedDate.length) {\n      // Construct Date object manually to avoid buggy dateString support within Date constructor\n      const dateArray = this.rawSelectedDate.split('-').map(v => parseInt(v, 10));\n      const dateObj = new Date(dateArray[0], dateArray[1] - 1, dateArray[2]);\n      this.displayedDate = dateFormat(dateObj, 'mmm d, yyyy');\n    } else {\n      this.displayedDate = 'No due date';\n    }\n  }\n\n  prepSelectedDate() {\n    const datePayload = {};\n    datePayload[this.abilityName] = {};\n    datePayload[this.abilityName].due_date = this.rawSelectedDate;\n    this.datePayload = datePayload;\n  }\n\n  updateIssueBoardIssue() {\n    this.$loading.fadeIn();\n    this.$dropdown.trigger('loading.gl.dropdown');\n    this.$selectbox.hide();\n    this.$value.css('display', '');\n    const fadeOutLoader = () => {\n      this.$loading.fadeOut();\n    };\n\n    gl.issueBoards.BoardsStore.detail.issue\n      .update(this.$dropdown.attr('data-issue-update'))\n      .then(fadeOutLoader)\n      .catch(fadeOutLoader);\n  }\n\n  submitSelectedDate(isDropdown) {\n    const selectedDateValue = this.datePayload[this.abilityName].due_date;\n    const hasDueDate = this.displayedDate !== 'No due date';\n    const displayedDateStyle = hasDueDate ? 'bold' : 'no-value';\n\n    this.$loading.removeClass('hidden').fadeIn();\n\n    if (isDropdown) {\n      this.$dropdown.trigger('loading.gl.dropdown');\n      this.$selectbox.hide();\n    }\n\n    this.$value.css('display', '');\n    this.$valueContent.html(`<span class='${displayedDateStyle}'>${this.displayedDate}</span>`);\n    this.$sidebarValue.html(this.displayedDate);\n\n    $('.js-remove-due-date-holder').toggleClass('hidden', selectedDateValue.length);\n\n    return axios.put(this.issueUpdateURL, this.datePayload).then(() => {\n      const tooltipText = hasDueDate\n        ? `${__('Due date')}<br />${selectedDateValue} (${timeFor(selectedDateValue)})`\n        : __('Due date');\n      if (isDropdown) {\n        this.$dropdown.trigger('loaded.gl.dropdown');\n        this.$dropdown.dropdown('toggle');\n      }\n      this.$sidebarCollapsedValue.attr('data-original-title', tooltipText);\n\n      return this.$loading.fadeOut();\n    });\n  }\n}\n\nexport default class DueDateSelectors {\n  constructor() {\n    this.initMilestoneDatePicker();\n    this.initIssuableSelect();\n  }\n  // eslint-disable-next-line class-methods-use-this\n  initMilestoneDatePicker() {\n    $('.datepicker').each(function initPikadayMilestone() {\n      const $datePicker = $(this);\n      const datePickerVal = $datePicker.val();\n\n      const calendar = new Pikaday({\n        field: $datePicker.get(0),\n        theme: 'gitlab-theme animate-picker',\n        format: 'yyyy-mm-dd',\n        container: $datePicker.parent().get(0),\n        parse: dateString => parsePikadayDate(dateString),\n        toString: date => pikadayToString(date),\n        onSelect(dateText) {\n          $datePicker.val(calendar.toString(dateText));\n        },\n      });\n\n      calendar.setDate(parsePikadayDate(datePickerVal));\n\n      $datePicker.data('pikaday', calendar);\n    });\n\n    $('.js-clear-due-date,.js-clear-start-date').on('click', e => {\n      e.preventDefault();\n      const calendar = $(e.target)\n        .siblings('.datepicker')\n        .data('pikaday');\n      calendar.setDate(null);\n    });\n  }\n  // eslint-disable-next-line class-methods-use-this\n  initIssuableSelect() {\n    const $loading = $('.js-issuable-update .due_date')\n      .find('.block-loading')\n      .hide();\n\n    $('.js-due-date-select').each((i, dropdown) => {\n      const $dropdown = $(dropdown);\n      // eslint-disable-next-line no-new\n      new DueDateSelect({\n        $dropdown,\n        $loading,\n      });\n    });\n  }\n}\n","import $ from 'jquery';\nimport ZenMode from '../../zen_mode';\nimport DueDateSelectors from '../../due_date_select';\nimport GLForm from '../../gl_form';\n\nexport default (initGFM = true) => {\n  new ZenMode(); // eslint-disable-line no-new\n  new DueDateSelectors(); // eslint-disable-line no-new\n  // eslint-disable-next-line no-new\n  new GLForm($('.milestone-form'), {\n    emojis: true,\n    members: initGFM,\n    issues: initGFM,\n    mergeRequests: initGFM,\n    epics: initGFM,\n    milestones: initGFM,\n    labels: initGFM,\n  });\n};\n","\nexport const pad = (val, len = 2) => (`0${val}`).slice(-len);\n\n/**\n * Formats dates in Pickaday\n * @param {String} dateString Date in yyyy-mm-dd format\n * @return {Date} UTC format\n */\nexport const parsePikadayDate = (dateString) => {\n  const parts = dateString.split('-');\n  const year = parseInt(parts[0], 10);\n  const month = parseInt(parts[1] - 1, 10);\n  const day = parseInt(parts[2], 10);\n\n  return new Date(year, month, day);\n};\n\n/**\n * Used `onSelect` method in pickaday\n * @param {Date} date UTC format\n * @return {String} Date formated in yyyy-mm-dd\n */\nexport const pikadayToString = (date) => {\n  const day = pad(date.getDate());\n  const month = pad(date.getMonth() + 1);\n  const year = date.getFullYear();\n\n  return `${year}-${month}-${day}`;\n};\n","import $ from 'jquery';\nimport Dropzone from 'dropzone';\nimport _ from 'underscore';\nimport './preview_markdown';\nimport csrf from './lib/utils/csrf';\nimport axios from './lib/utils/axios_utils';\n\nDropzone.autoDiscover = false;\n\nexport default function dropzoneInput(form) {\n  const divHover = '<div class=\"div-dropzone-hover\"></div>';\n  const iconPaperclip = '<i class=\"fa fa-paperclip div-dropzone-icon\"></i>';\n  const $attachButton = form.find('.button-attach-file');\n  const $attachingFileMessage = form.find('.attaching-file-message');\n  const $cancelButton = form.find('.button-cancel-uploading-files');\n  const $retryLink = form.find('.retry-uploading-link');\n  const $uploadProgress = form.find('.uploading-progress');\n  const $uploadingErrorContainer = form.find('.uploading-error-container');\n  const $uploadingErrorMessage = form.find('.uploading-error-message');\n  const $uploadingProgressContainer = form.find('.uploading-progress-container');\n  const uploadsPath = window.uploads_path || null;\n  const maxFileSize = gon.max_file_size || 10;\n  const formTextarea = form.find('.js-gfm-input');\n  let handlePaste;\n  let pasteText;\n  let addFileToForm;\n  let updateAttachingMessage;\n  let isImage;\n  let getFilename;\n  let uploadFile;\n\n  formTextarea.wrap('<div class=\"div-dropzone\"></div>');\n  formTextarea.on('paste', event => handlePaste(event));\n\n  // Add dropzone area to the form.\n  const $mdArea = formTextarea.closest('.md-area');\n  form.setupMarkdownPreview();\n  const $formDropzone = form.find('.div-dropzone');\n  $formDropzone.parent().addClass('div-dropzone-wrapper');\n  $formDropzone.append(divHover);\n  $formDropzone.find('.div-dropzone-hover').append(iconPaperclip);\n\n  if (!uploadsPath) {\n    $formDropzone.addClass('js-invalid-dropzone');\n    return;\n  }\n\n  const dropzone = $formDropzone.dropzone({\n    url: uploadsPath,\n    dictDefaultMessage: '',\n    clickable: true,\n    paramName: 'file',\n    maxFilesize: maxFileSize,\n    uploadMultiple: false,\n    headers: csrf.headers,\n    previewContainer: false,\n    processing: () => $('.div-dropzone-alert').alert('close'),\n    dragover: () => {\n      $mdArea.addClass('is-dropzone-hover');\n      form.find('.div-dropzone-hover').css('opacity', 0.7);\n    },\n    dragleave: () => {\n      $mdArea.removeClass('is-dropzone-hover');\n      form.find('.div-dropzone-hover').css('opacity', 0);\n    },\n    drop: () => {\n      $mdArea.removeClass('is-dropzone-hover');\n      form.find('.div-dropzone-hover').css('opacity', 0);\n      formTextarea.focus();\n    },\n    success(header, response) {\n      const processingFileCount = this.getQueuedFiles().length + this.getUploadingFiles().length;\n      const shouldPad = processingFileCount >= 1;\n\n      pasteText(response.link.markdown, shouldPad);\n      // Show 'Attach a file' link only when all files have been uploaded.\n      if (!processingFileCount) $attachButton.removeClass('hide');\n      addFileToForm(response.link.url);\n    },\n    error: (file, errorMessage = 'Attaching the file failed.', xhr) => {\n      // If 'error' event is fired by dropzone, the second parameter is error message.\n      // If the 'errorMessage' parameter is empty, the default error message is set.\n      // If the 'error' event is fired by backend (xhr) error response, the third parameter is\n      // xhr object (xhr.responseText is error message).\n      // On error we hide the 'Attach' and 'Cancel' buttons\n      // and show an error.\n\n      // If there's xhr error message, let's show it instead of dropzone's one.\n      const message = xhr ? xhr.responseText : errorMessage;\n\n      $uploadingErrorContainer.removeClass('hide');\n      $uploadingErrorMessage.html(message);\n      $attachButton.addClass('hide');\n      $cancelButton.addClass('hide');\n    },\n    totaluploadprogress(totalUploadProgress) {\n      updateAttachingMessage(this.files, $attachingFileMessage);\n      $uploadProgress.text(`${Math.round(totalUploadProgress)}%`);\n    },\n    sending: () => {\n      // DOM elements already exist.\n      // Instead of dynamically generating them,\n      // we just either hide or show them.\n      $attachButton.addClass('hide');\n      $uploadingErrorContainer.addClass('hide');\n      $uploadingProgressContainer.removeClass('hide');\n      $cancelButton.removeClass('hide');\n    },\n    removedfile: () => {\n      $attachButton.removeClass('hide');\n      $cancelButton.addClass('hide');\n      $uploadingProgressContainer.addClass('hide');\n      $uploadingErrorContainer.addClass('hide');\n    },\n    queuecomplete: () => {\n      $('.dz-preview').remove();\n      $('.markdown-area').trigger('input');\n\n      $uploadingProgressContainer.addClass('hide');\n      $cancelButton.addClass('hide');\n    },\n  });\n\n  const child = $(dropzone[0]).children('textarea');\n\n  // removeAllFiles(true) stops uploading files (if any)\n  // and remove them from dropzone files queue.\n  $cancelButton.on('click', (e) => {\n    e.preventDefault();\n    e.stopPropagation();\n    Dropzone.forElement($formDropzone.get(0)).removeAllFiles(true);\n  });\n\n  // If 'error' event is fired, we store a failed files,\n  // clear dropzone files queue, change status of failed files to undefined,\n  // and add that files to the dropzone files queue again.\n  // addFile() adds file to dropzone files queue and upload it.\n  $retryLink.on('click', (e) => {\n    const dropzoneInstance = Dropzone.forElement(e.target.closest('.js-main-target-form').querySelector('.div-dropzone'));\n    const failedFiles = dropzoneInstance.files;\n\n    e.preventDefault();\n\n    // 'true' parameter of removeAllFiles() cancels\n    // uploading of files that are being uploaded at the moment.\n    dropzoneInstance.removeAllFiles(true);\n\n    failedFiles.map((failedFile) => {\n      const file = failedFile;\n\n      if (file.status === Dropzone.ERROR) {\n        file.status = undefined;\n        file.accepted = undefined;\n      }\n\n      return dropzoneInstance.addFile(file);\n    });\n  });\n  // eslint-disable-next-line consistent-return\n  handlePaste = (event) => {\n    const pasteEvent = event.originalEvent;\n    if (pasteEvent.clipboardData && pasteEvent.clipboardData.items) {\n      const image = isImage(pasteEvent);\n      if (image) {\n        event.preventDefault();\n        const filename = getFilename(pasteEvent) || 'image.png';\n        const text = `{{${filename}}}`;\n        pasteText(text);\n        return uploadFile(image.getAsFile(), filename);\n      }\n    }\n  };\n\n  isImage = (data) => {\n    let i = 0;\n    while (i < data.clipboardData.items.length) {\n      const item = data.clipboardData.items[i];\n      if (item.type.indexOf('image') !== -1) {\n        return item;\n      }\n      i += 1;\n    }\n    return false;\n  };\n\n  pasteText = (text, shouldPad) => {\n    let formattedText = text;\n    if (shouldPad) {\n      formattedText += '\\n\\n';\n    }\n    const textarea = child.get(0);\n    const caretStart = textarea.selectionStart;\n    const caretEnd = textarea.selectionEnd;\n    const textEnd = $(child).val().length;\n    const beforeSelection = $(child).val().substring(0, caretStart);\n    const afterSelection = $(child).val().substring(caretEnd, textEnd);\n    $(child).val(beforeSelection + formattedText + afterSelection);\n    textarea.setSelectionRange(caretStart + formattedText.length, caretEnd + formattedText.length);\n    textarea.style.height = `${textarea.scrollHeight}px`;\n    formTextarea.get(0).dispatchEvent(new Event('input'));\n    return formTextarea.trigger('input');\n  };\n\n  addFileToForm = (path) => {\n    $(form).append(`<input type=\"hidden\" name=\"files[]\" value=\"${_.escape(path)}\">`);\n  };\n\n  getFilename = (e) => {\n    let value;\n    if (window.clipboardData && window.clipboardData.getData) {\n      value = window.clipboardData.getData('Text');\n    } else if (e.clipboardData && e.clipboardData.getData) {\n      value = e.clipboardData.getData('text/plain');\n    }\n    value = value.split('\\r');\n    return value[0];\n  };\n\n  const showSpinner = () => $uploadingProgressContainer.removeClass('hide');\n\n  const closeSpinner = () => $uploadingProgressContainer.addClass('hide');\n\n  const showError = (message) => {\n    $uploadingErrorContainer.removeClass('hide');\n    $uploadingErrorMessage.html(message);\n  };\n\n  const closeAlertMessage = () => form.find('.div-dropzone-alert').alert('close');\n\n  const insertToTextArea = (filename, url) => {\n    const $child = $(child);\n    $child.val((index, val) => val.replace(`{{${filename}}}`, url));\n\n    $child.trigger('change');\n  };\n\n  uploadFile = (item, filename) => {\n    const formData = new FormData();\n    formData.append('file', item, filename);\n\n    showSpinner();\n    closeAlertMessage();\n\n    axios.post(uploadsPath, formData)\n      .then(({ data }) => {\n        const md = data.link.markdown;\n\n        insertToTextArea(filename, md);\n        closeSpinner();\n      })\n      .catch((e) => {\n        showError(e.response.data.message);\n        closeSpinner();\n      });\n  };\n\n  updateAttachingMessage = (files, messageContainer) => {\n    let attachingMessage;\n    const filesCount = files.filter(file => file.status === 'uploading' || file.status === 'queued').length;\n\n    // Dinamycally change uploading files text depending on files number in\n    // dropzone files queue.\n    if (filesCount > 1) {\n      attachingMessage = `Attaching ${filesCount} files -`;\n    } else {\n      attachingMessage = 'Attaching a file -';\n    }\n\n    messageContainer.text(attachingMessage);\n  };\n\n  form.find('.markdown-selector').click(function onMarkdownClick(e) {\n    e.preventDefault();\n    $(this).closest('.gfm-form').find('.div-dropzone').click();\n    formTextarea.focus();\n  });\n}\n","/* eslint-disable func-names, no-var, no-param-reassign, quotes, one-var, one-var-declaration-per-line, operator-assignment, no-else-return, prefer-template, prefer-arrow-callback, max-len, consistent-return, no-unused-vars, max-len */\nimport $ from 'jquery';\nimport { insertText } from '~/lib/utils/common_utils';\n\nfunction selectedText(text, textarea) {\n  return text.substring(textarea.selectionStart, textarea.selectionEnd);\n}\n\nfunction lineBefore(text, textarea) {\n  var split;\n  split = text.substring(0, textarea.selectionStart).trim().split('\\n');\n  return split[split.length - 1];\n}\n\nfunction lineAfter(text, textarea) {\n  return text.substring(textarea.selectionEnd).trim().split('\\n')[0];\n}\n\nfunction blockTagText(text, textArea, blockTag, selected) {\n  const before = lineBefore(text, textArea);\n  const after = lineAfter(text, textArea);\n  if (before === blockTag && after === blockTag) {\n    // To remove the block tag we have to select the line before & after\n    if (blockTag != null) {\n      textArea.selectionStart = textArea.selectionStart - (blockTag.length + 1);\n      textArea.selectionEnd = textArea.selectionEnd + (blockTag.length + 1);\n    }\n    return selected;\n  } else {\n    return blockTag + \"\\n\" + selected + \"\\n\" + blockTag;\n  }\n}\n\nfunction moveCursor(textArea, tag, wrapped, removedLastNewLine) {\n  var pos;\n  if (!textArea.setSelectionRange) {\n    return;\n  }\n  if (textArea.selectionStart === textArea.selectionEnd) {\n    if (wrapped) {\n      pos = textArea.selectionStart - tag.length;\n    } else {\n      pos = textArea.selectionStart;\n    }\n\n    if (removedLastNewLine) {\n      pos -= 1;\n    }\n\n    return textArea.setSelectionRange(pos, pos);\n  }\n}\n\nexport function insertMarkdownText(textArea, text, tag, blockTag, selected, wrap) {\n  var textToInsert, inserted, selectedSplit, startChar, removedLastNewLine, removedFirstNewLine, currentLineEmpty, lastNewLine;\n  removedLastNewLine = false;\n  removedFirstNewLine = false;\n  currentLineEmpty = false;\n\n  // Remove the first newline\n  if (selected.indexOf('\\n') === 0) {\n    removedFirstNewLine = true;\n    selected = selected.replace(/\\n+/, '');\n  }\n\n  // Remove the last newline\n  if (textArea.selectionEnd - textArea.selectionStart > selected.replace(/\\n$/, '').length) {\n    removedLastNewLine = true;\n    selected = selected.replace(/\\n$/, '');\n  }\n\n  selectedSplit = selected.split('\\n');\n\n  if (!wrap) {\n    lastNewLine = textArea.value.substr(0, textArea.selectionStart).lastIndexOf('\\n');\n\n    // Check whether the current line is empty or consists only of spaces(=handle as empty)\n    if (/^\\s*$/.test(textArea.value.substring(lastNewLine, textArea.selectionStart))) {\n      currentLineEmpty = true;\n    }\n  }\n\n  startChar = !wrap && !currentLineEmpty && textArea.selectionStart > 0 ? '\\n' : '';\n\n  if (selectedSplit.length > 1 && (!wrap || (blockTag != null && blockTag !== ''))) {\n    if (blockTag != null && blockTag !== '') {\n      textToInsert = blockTagText(text, textArea, blockTag, selected);\n    } else {\n      textToInsert = selectedSplit.map(function(val) {\n        if (val.indexOf(tag) === 0) {\n          return \"\" + (val.replace(tag, ''));\n        } else {\n          return \"\" + tag + val;\n        }\n      }).join('\\n');\n    }\n  } else {\n    textToInsert = \"\" + startChar + tag + selected + (wrap ? tag : ' ');\n  }\n\n  if (removedFirstNewLine) {\n    textToInsert = '\\n' + textToInsert;\n  }\n\n  if (removedLastNewLine) {\n    textToInsert += '\\n';\n  }\n\n  insertText(textArea, textToInsert);\n  return moveCursor(textArea, tag, wrap, removedLastNewLine);\n}\n\nfunction updateText(textArea, tag, blockTag, wrap) {\n  var $textArea, selected, text;\n  $textArea = $(textArea);\n  textArea = $textArea.get(0);\n  text = $textArea.val();\n  selected = selectedText(text, textArea);\n  $textArea.focus();\n  return insertMarkdownText(textArea, text, tag, blockTag, selected, wrap);\n}\n\nfunction replaceRange(s, start, end, substitute) {\n  return s.substring(0, start) + substitute + s.substring(end);\n}\n\nexport function addMarkdownListeners(form) {\n  return $('.js-md', form).off('click').on('click', function() {\n    const $this = $(this);\n    return updateText($this.closest('.md-area').find('textarea'), $this.data('mdTag'), $this.data('mdBlock'), !$this.data('mdPrepend'));\n  });\n}\n\nexport function removeMarkdownListeners(form) {\n  return $('.js-md', form).off('click');\n}\n","import $ from 'jquery';\nimport autosize from 'autosize';\nimport GfmAutoComplete, * as GFMConfig from './gfm_auto_complete';\nimport dropzoneInput from './dropzone_input';\nimport { addMarkdownListeners, removeMarkdownListeners } from './lib/utils/text_markdown';\n\nexport default class GLForm {\n  constructor(form, enableGFM = {}) {\n    this.form = form;\n    this.textarea = this.form.find('textarea.js-gfm-input');\n    this.enableGFM = Object.assign({}, GFMConfig.defaultAutocompleteConfig, enableGFM);\n    // Disable autocomplete for keywords which do not have dataSources available\n    const dataSources = (gl.GfmAutoComplete && gl.GfmAutoComplete.dataSources) || {};\n    Object.keys(this.enableGFM).forEach(item => {\n      if (item !== 'emojis') {\n        this.enableGFM[item] = !!dataSources[item];\n      }\n    });\n    // Before we start, we should clean up any previous data for this form\n    this.destroy();\n    // Setup the form\n    this.setupForm();\n    this.form.data('glForm', this);\n  }\n\n  destroy() {\n    // Clean form listeners\n    this.clearEventListeners();\n    if (this.autoComplete) {\n      this.autoComplete.destroy();\n    }\n    this.form.data('glForm', null);\n  }\n\n  setupForm() {\n    const isNewForm = this.form.is(':not(.gfm-form)');\n    this.form.removeClass('js-new-note-form');\n    if (isNewForm) {\n      this.form.find('.div-dropzone').remove();\n      this.form.addClass('gfm-form');\n      // remove notify commit author checkbox for non-commit notes\n      gl.utils.disableButtonIfEmptyField(this.form.find('.js-note-text'), this.form.find('.js-comment-button, .js-note-new-discussion'));\n      this.autoComplete = new GfmAutoComplete(gl.GfmAutoComplete && gl.GfmAutoComplete.dataSources);\n      this.autoComplete.setup(this.form.find('.js-gfm-input'), this.enableGFM);\n      dropzoneInput(this.form);\n      autosize(this.textarea);\n    }\n    // form and textarea event listeners\n    this.addEventListeners();\n    addMarkdownListeners(this.form);\n    // hide discard button\n    this.form.find('.js-note-discard').hide();\n    this.form.show();\n    if (this.isAutosizeable) this.setupAutosize();\n  }\n\n  setupAutosize() {\n    this.textarea.off('autosize:resized')\n      .on('autosize:resized', this.setHeightData.bind(this));\n\n    this.textarea.off('mouseup.autosize')\n      .on('mouseup.autosize', this.destroyAutosize.bind(this));\n\n    setTimeout(() => {\n      autosize(this.textarea);\n      this.textarea.css('resize', 'vertical');\n    }, 0);\n  }\n\n  setHeightData() {\n    this.textarea.data('height', this.textarea.outerHeight());\n  }\n\n  destroyAutosize() {\n    const outerHeight = this.textarea.outerHeight();\n\n    if (this.textarea.data('height') === outerHeight) return;\n\n    autosize.destroy(this.textarea);\n\n    this.textarea.data('height', outerHeight);\n    this.textarea.outerHeight(outerHeight);\n    this.textarea.css('max-height', window.outerHeight);\n  }\n\n  clearEventListeners() {\n    this.textarea.off('focus');\n    this.textarea.off('blur');\n    removeMarkdownListeners(this.form);\n  }\n\n  addEventListeners() {\n    this.textarea.on('focus', function focusTextArea() {\n      $(this).closest('.md-area').addClass('is-focused');\n    });\n    this.textarea.on('blur', function blurTextArea() {\n      $(this).closest('.md-area').removeClass('is-focused');\n    });\n  }\n}\n","/* eslint-disable func-names, wrap-iife, prefer-arrow-callback, no-unused-vars, consistent-return, camelcase, comma-dangle, max-len, class-methods-use-this */\n\n// Zen Mode (full screen) textarea\n//\n/*= provides zen_mode:enter */\n/*= provides zen_mode:leave */\n\nimport $ from 'jquery';\nimport 'vendor/jquery.scrollTo';\nimport Dropzone from 'dropzone';\nimport Mousetrap from 'mousetrap';\nimport 'mousetrap/plugins/pause/mousetrap-pause';\n\nDropzone.autoDiscover = false;\n\n//\n// ### Events\n//\n// `zen_mode:enter`\n//\n// Fired when the \"Edit in fullscreen\" link is clicked.\n//\n// **Synchronicity** Sync\n// **Bubbles** Yes\n// **Cancelable** No\n// **Target** a.js-zen-enter\n//\n// `zen_mode:leave`\n//\n// Fired when the \"Leave Fullscreen\" link is clicked.\n//\n// **Synchronicity** Sync\n// **Bubbles** Yes\n// **Cancelable** No\n// **Target** a.js-zen-leave\n//\n\nexport default class ZenMode {\n  constructor() {\n    this.active_backdrop = null;\n    this.active_textarea = null;\n    $(document).on('click', '.js-zen-enter', function(e) {\n      e.preventDefault();\n      return $(e.currentTarget).trigger('zen_mode:enter');\n    });\n    $(document).on('click', '.js-zen-leave', function(e) {\n      e.preventDefault();\n      return $(e.currentTarget).trigger('zen_mode:leave');\n    });\n    $(document).on('zen_mode:enter', (function(_this) {\n      return function(e) {\n        return _this.enter($(e.target).closest('.md-area').find('.zen-backdrop'));\n      };\n    })(this));\n    $(document).on('zen_mode:leave', (function(_this) {\n      return function(e) {\n        return _this.exit();\n      };\n    })(this));\n    $(document).on('keydown', function(e) {\n      // Esc\n      if (e.keyCode === 27) {\n        e.preventDefault();\n        return $(document).trigger('zen_mode:leave');\n      }\n    });\n  }\n\n  enter(backdrop) {\n    Mousetrap.pause();\n    this.active_backdrop = $(backdrop);\n    this.active_backdrop.addClass('fullscreen');\n    this.active_textarea = this.active_backdrop.find('textarea');\n    // Prevent a user-resized textarea from persisting to fullscreen\n    this.active_textarea.removeAttr('style');\n    this.active_textarea.focus();\n  }\n\n  exit() {\n    if (this.active_textarea) {\n      Mousetrap.unpause();\n      this.active_textarea.closest('.zen-backdrop').removeClass('fullscreen');\n      this.scrollTo(this.active_textarea);\n      this.active_textarea = null;\n      this.active_backdrop = null;\n\n      const $dropzone = $('.div-dropzone');\n      if ($dropzone && !$dropzone.hasClass('js-invalid-dropzone')) {\n        Dropzone.forElement('.div-dropzone').enable();\n      }\n    }\n  }\n\n  scrollTo(zen_area) {\n    return $.scrollTo(zen_area, 0, {\n      offset: -150\n    });\n  }\n}\n","/*!\n * Pikaday\n *\n * Copyright © 2014 David Bushell | BSD & MIT license | https://github.com/dbushell/Pikaday\n */\n\n(function (root, factory)\n{\n    'use strict';\n\n    var moment;\n    if (typeof exports === 'object') {\n        // CommonJS module\n        // Load moment.js as an optional dependency\n        try { moment = require('moment'); } catch (e) {}\n        module.exports = factory(moment);\n    } else if (typeof define === 'function' && define.amd) {\n        // AMD. Register as an anonymous module.\n        define(function (req)\n        {\n            // Load moment.js as an optional dependency\n            var id = 'moment';\n            try { moment = req(id); } catch (e) {}\n            return factory(moment);\n        });\n    } else {\n        root.Pikaday = factory(root.moment);\n    }\n}(this, function (moment)\n{\n    'use strict';\n\n    /**\n     * feature detection and helper functions\n     */\n    var hasMoment = typeof moment === 'function',\n\n    hasEventListeners = !!window.addEventListener,\n\n    document = window.document,\n\n    sto = window.setTimeout,\n\n    addEvent = function(el, e, callback, capture)\n    {\n        if (hasEventListeners) {\n            el.addEventListener(e, callback, !!capture);\n        } else {\n            el.attachEvent('on' + e, callback);\n        }\n    },\n\n    removeEvent = function(el, e, callback, capture)\n    {\n        if (hasEventListeners) {\n            el.removeEventListener(e, callback, !!capture);\n        } else {\n            el.detachEvent('on' + e, callback);\n        }\n    },\n\n    trim = function(str)\n    {\n        return str.trim ? str.trim() : str.replace(/^\\s+|\\s+$/g,'');\n    },\n\n    hasClass = function(el, cn)\n    {\n        return (' ' + el.className + ' ').indexOf(' ' + cn + ' ') !== -1;\n    },\n\n    addClass = function(el, cn)\n    {\n        if (!hasClass(el, cn)) {\n            el.className = (el.className === '') ? cn : el.className + ' ' + cn;\n        }\n    },\n\n    removeClass = function(el, cn)\n    {\n        el.className = trim((' ' + el.className + ' ').replace(' ' + cn + ' ', ' '));\n    },\n\n    isArray = function(obj)\n    {\n        return (/Array/).test(Object.prototype.toString.call(obj));\n    },\n\n    isDate = function(obj)\n    {\n        return (/Date/).test(Object.prototype.toString.call(obj)) && !isNaN(obj.getTime());\n    },\n\n    isWeekend = function(date)\n    {\n        var day = date.getDay();\n        return day === 0 || day === 6;\n    },\n\n    isLeapYear = function(year)\n    {\n        // solution by Matti Virkkunen: http://stackoverflow.com/a/4881951\n        return year % 4 === 0 && year % 100 !== 0 || year % 400 === 0;\n    },\n\n    getDaysInMonth = function(year, month)\n    {\n        return [31, isLeapYear(year) ? 29 : 28, 31, 30, 31, 30, 31, 31, 30, 31, 30, 31][month];\n    },\n\n    setToStartOfDay = function(date)\n    {\n        if (isDate(date)) date.setHours(0,0,0,0);\n    },\n\n    compareDates = function(a,b)\n    {\n        // weak date comparison (use setToStartOfDay(date) to ensure correct result)\n        return a.getTime() === b.getTime();\n    },\n\n    extend = function(to, from, overwrite)\n    {\n        var prop, hasProp;\n        for (prop in from) {\n            hasProp = to[prop] !== undefined;\n            if (hasProp && typeof from[prop] === 'object' && from[prop] !== null && from[prop].nodeName === undefined) {\n                if (isDate(from[prop])) {\n                    if (overwrite) {\n                        to[prop] = new Date(from[prop].getTime());\n                    }\n                }\n                else if (isArray(from[prop])) {\n                    if (overwrite) {\n                        to[prop] = from[prop].slice(0);\n                    }\n                } else {\n                    to[prop] = extend({}, from[prop], overwrite);\n                }\n            } else if (overwrite || !hasProp) {\n                to[prop] = from[prop];\n            }\n        }\n        return to;\n    },\n\n    fireEvent = function(el, eventName, data)\n    {\n        var ev;\n\n        if (document.createEvent) {\n            ev = document.createEvent('HTMLEvents');\n            ev.initEvent(eventName, true, false);\n            ev = extend(ev, data);\n            el.dispatchEvent(ev);\n        } else if (document.createEventObject) {\n            ev = document.createEventObject();\n            ev = extend(ev, data);\n            el.fireEvent('on' + eventName, ev);\n        }\n    },\n\n    adjustCalendar = function(calendar) {\n        if (calendar.month < 0) {\n            calendar.year -= Math.ceil(Math.abs(calendar.month)/12);\n            calendar.month += 12;\n        }\n        if (calendar.month > 11) {\n            calendar.year += Math.floor(Math.abs(calendar.month)/12);\n            calendar.month -= 12;\n        }\n        return calendar;\n    },\n\n    /**\n     * defaults and localisation\n     */\n    defaults = {\n\n        // bind the picker to a form field\n        field: null,\n\n        // automatically show/hide the picker on `field` focus (default `true` if `field` is set)\n        bound: undefined,\n\n        // position of the datepicker, relative to the field (default to bottom & left)\n        // ('bottom' & 'left' keywords are not used, 'top' & 'right' are modifier on the bottom/left position)\n        position: 'bottom left',\n\n        // automatically fit in the viewport even if it means repositioning from the position option\n        reposition: true,\n\n        // the default output format for `.toString()` and `field` value\n        format: 'YYYY-MM-DD',\n\n        // the toString function which gets passed a current date object and format\n        // and returns a string\n        toString: null,\n\n        // used to create date object from current input string\n        parse: null,\n\n        // the initial date to view when first opened\n        defaultDate: null,\n\n        // make the `defaultDate` the initial selected value\n        setDefaultDate: false,\n\n        // first day of week (0: Sunday, 1: Monday etc)\n        firstDay: 0,\n\n        // the default flag for moment's strict date parsing\n        formatStrict: false,\n\n        // the minimum/earliest date that can be selected\n        minDate: null,\n        // the maximum/latest date that can be selected\n        maxDate: null,\n\n        // number of years either side, or array of upper/lower range\n        yearRange: 10,\n\n        // show week numbers at head of row\n        showWeekNumber: false,\n\n        // Week picker mode\n        pickWholeWeek: false,\n\n        // used internally (don't config outside)\n        minYear: 0,\n        maxYear: 9999,\n        minMonth: undefined,\n        maxMonth: undefined,\n\n        startRange: null,\n        endRange: null,\n\n        isRTL: false,\n\n        // Additional text to append to the year in the calendar title\n        yearSuffix: '',\n\n        // Render the month after year in the calendar title\n        showMonthAfterYear: false,\n\n        // Render days of the calendar grid that fall in the next or previous month\n        showDaysInNextAndPreviousMonths: false,\n\n        // Allows user to select days that fall in the next or previous month\n        enableSelectionDaysInNextAndPreviousMonths: false,\n\n        // how many months are visible\n        numberOfMonths: 1,\n\n        // when numberOfMonths is used, this will help you to choose where the main calendar will be (default `left`, can be set to `right`)\n        // only used for the first display or when a selected date is not visible\n        mainCalendar: 'left',\n\n        // Specify a DOM element to render the calendar in\n        container: undefined,\n\n        // Blur field when date is selected\n        blurFieldOnSelect : true,\n\n        // internationalization\n        i18n: {\n            previousMonth : 'Previous Month',\n            nextMonth     : 'Next Month',\n            months        : ['January','February','March','April','May','June','July','August','September','October','November','December'],\n            weekdays      : ['Sunday','Monday','Tuesday','Wednesday','Thursday','Friday','Saturday'],\n            weekdaysShort : ['Sun','Mon','Tue','Wed','Thu','Fri','Sat']\n        },\n\n        // Theme Classname\n        theme: null,\n\n        // events array\n        events: [],\n\n        // callback function\n        onSelect: null,\n        onOpen: null,\n        onClose: null,\n        onDraw: null\n    },\n\n\n    /**\n     * templating functions to abstract HTML rendering\n     */\n    renderDayName = function(opts, day, abbr)\n    {\n        day += opts.firstDay;\n        while (day >= 7) {\n            day -= 7;\n        }\n        return abbr ? opts.i18n.weekdaysShort[day] : opts.i18n.weekdays[day];\n    },\n\n    renderDay = function(opts)\n    {\n        var arr = [];\n        var ariaSelected = 'false';\n        if (opts.isEmpty) {\n            if (opts.showDaysInNextAndPreviousMonths) {\n                arr.push('is-outside-current-month');\n\n                if(!opts.enableSelectionDaysInNextAndPreviousMonths) {\n                    arr.push('is-selection-disabled');\n                }\n\n            } else {\n                return '<td class=\"is-empty\"></td>';\n            }\n        }\n        if (opts.isDisabled) {\n            arr.push('is-disabled');\n        }\n        if (opts.isToday) {\n            arr.push('is-today');\n        }\n        if (opts.isSelected) {\n            arr.push('is-selected');\n            ariaSelected = 'true';\n        }\n        if (opts.hasEvent) {\n            arr.push('has-event');\n        }\n        if (opts.isInRange) {\n            arr.push('is-inrange');\n        }\n        if (opts.isStartRange) {\n            arr.push('is-startrange');\n        }\n        if (opts.isEndRange) {\n            arr.push('is-endrange');\n        }\n        return '<td data-day=\"' + opts.day + '\" class=\"' + arr.join(' ') + '\" aria-selected=\"' + ariaSelected + '\">' +\n                 '<button class=\"pika-button pika-day\" type=\"button\" ' +\n                    'data-pika-year=\"' + opts.year + '\" data-pika-month=\"' + opts.month + '\" data-pika-day=\"' + opts.day + '\">' +\n                        opts.day +\n                 '</button>' +\n               '</td>';\n    },\n\n    renderWeek = function (d, m, y) {\n        // Lifted from http://javascript.about.com/library/blweekyear.htm, lightly modified.\n        var onejan = new Date(y, 0, 1),\n            weekNum = Math.ceil((((new Date(y, m, d) - onejan) / 86400000) + onejan.getDay()+1)/7);\n        return '<td class=\"pika-week\">' + weekNum + '</td>';\n    },\n\n    renderRow = function(days, isRTL, pickWholeWeek, isRowSelected)\n    {\n        return '<tr class=\"pika-row' + (pickWholeWeek ? ' pick-whole-week' : '') + (isRowSelected ? ' is-selected' : '') + '\">' + (isRTL ? days.reverse() : days).join('') + '</tr>';\n    },\n\n    renderBody = function(rows)\n    {\n        return '<tbody>' + rows.join('') + '</tbody>';\n    },\n\n    renderHead = function(opts)\n    {\n        var i, arr = [];\n        if (opts.showWeekNumber) {\n            arr.push('<th></th>');\n        }\n        for (i = 0; i < 7; i++) {\n            arr.push('<th scope=\"col\"><abbr title=\"' + renderDayName(opts, i) + '\">' + renderDayName(opts, i, true) + '</abbr></th>');\n        }\n        return '<thead><tr>' + (opts.isRTL ? arr.reverse() : arr).join('') + '</tr></thead>';\n    },\n\n    renderTitle = function(instance, c, year, month, refYear, randId)\n    {\n        var i, j, arr,\n            opts = instance._o,\n            isMinYear = year === opts.minYear,\n            isMaxYear = year === opts.maxYear,\n            html = '<div id=\"' + randId + '\" class=\"pika-title\" role=\"heading\" aria-live=\"assertive\">',\n            monthHtml,\n            yearHtml,\n            prev = true,\n            next = true;\n\n        for (arr = [], i = 0; i < 12; i++) {\n            arr.push('<option value=\"' + (year === refYear ? i - c : 12 + i - c) + '\"' +\n                (i === month ? ' selected=\"selected\"': '') +\n                ((isMinYear && i < opts.minMonth) || (isMaxYear && i > opts.maxMonth) ? 'disabled=\"disabled\"' : '') + '>' +\n                opts.i18n.months[i] + '</option>');\n        }\n\n        monthHtml = '<div class=\"pika-label\">' + opts.i18n.months[month] + '<select class=\"pika-select pika-select-month\" tabindex=\"-1\">' + arr.join('') + '</select></div>';\n\n        if (isArray(opts.yearRange)) {\n            i = opts.yearRange[0];\n            j = opts.yearRange[1] + 1;\n        } else {\n            i = year - opts.yearRange;\n            j = 1 + year + opts.yearRange;\n        }\n\n        for (arr = []; i < j && i <= opts.maxYear; i++) {\n            if (i >= opts.minYear) {\n                arr.push('<option value=\"' + i + '\"' + (i === year ? ' selected=\"selected\"': '') + '>' + (i) + '</option>');\n            }\n        }\n        yearHtml = '<div class=\"pika-label\">' + year + opts.yearSuffix + '<select class=\"pika-select pika-select-year\" tabindex=\"-1\">' + arr.join('') + '</select></div>';\n\n        if (opts.showMonthAfterYear) {\n            html += yearHtml + monthHtml;\n        } else {\n            html += monthHtml + yearHtml;\n        }\n\n        if (isMinYear && (month === 0 || opts.minMonth >= month)) {\n            prev = false;\n        }\n\n        if (isMaxYear && (month === 11 || opts.maxMonth <= month)) {\n            next = false;\n        }\n\n        if (c === 0) {\n            html += '<button class=\"pika-prev' + (prev ? '' : ' is-disabled') + '\" type=\"button\">' + opts.i18n.previousMonth + '</button>';\n        }\n        if (c === (instance._o.numberOfMonths - 1) ) {\n            html += '<button class=\"pika-next' + (next ? '' : ' is-disabled') + '\" type=\"button\">' + opts.i18n.nextMonth + '</button>';\n        }\n\n        return html += '</div>';\n    },\n\n    renderTable = function(opts, data, randId)\n    {\n        return '<table cellpadding=\"0\" cellspacing=\"0\" class=\"pika-table\" role=\"grid\" aria-labelledby=\"' + randId + '\">' + renderHead(opts) + renderBody(data) + '</table>';\n    },\n\n\n    /**\n     * Pikaday constructor\n     */\n    Pikaday = function(options)\n    {\n        var self = this,\n            opts = self.config(options);\n\n        self._onMouseDown = function(e)\n        {\n            if (!self._v) {\n                return;\n            }\n            e = e || window.event;\n            var target = e.target || e.srcElement;\n            if (!target) {\n                return;\n            }\n\n            if (!hasClass(target, 'is-disabled')) {\n                if (hasClass(target, 'pika-button') && !hasClass(target, 'is-empty') && !hasClass(target.parentNode, 'is-disabled')) {\n                    self.setDate(new Date(target.getAttribute('data-pika-year'), target.getAttribute('data-pika-month'), target.getAttribute('data-pika-day')));\n                    if (opts.bound) {\n                        sto(function() {\n                            self.hide();\n                            if (opts.blurFieldOnSelect && opts.field) {\n                                opts.field.blur();\n                            }\n                        }, 100);\n                    }\n                }\n                else if (hasClass(target, 'pika-prev')) {\n                    self.prevMonth();\n                }\n                else if (hasClass(target, 'pika-next')) {\n                    self.nextMonth();\n                }\n            }\n            if (!hasClass(target, 'pika-select')) {\n                // if this is touch event prevent mouse events emulation\n                if (e.preventDefault) {\n                    e.preventDefault();\n                } else {\n                    e.returnValue = false;\n                    return false;\n                }\n            } else {\n                self._c = true;\n            }\n        };\n\n        self._onChange = function(e)\n        {\n            e = e || window.event;\n            var target = e.target || e.srcElement;\n            if (!target) {\n                return;\n            }\n            if (hasClass(target, 'pika-select-month')) {\n                self.gotoMonth(target.value);\n            }\n            else if (hasClass(target, 'pika-select-year')) {\n                self.gotoYear(target.value);\n            }\n        };\n\n        self._onKeyChange = function(e)\n        {\n            e = e || window.event;\n\n            if (self.isVisible()) {\n\n                switch(e.keyCode){\n                    case 13:\n                    case 27:\n                        if (opts.field) {\n                            opts.field.blur();\n                        }\n                        break;\n                    case 37:\n                        e.preventDefault();\n                        self.adjustDate('subtract', 1);\n                        break;\n                    case 38:\n                        self.adjustDate('subtract', 7);\n                        break;\n                    case 39:\n                        self.adjustDate('add', 1);\n                        break;\n                    case 40:\n                        self.adjustDate('add', 7);\n                        break;\n                }\n            }\n        };\n\n        self._onInputChange = function(e)\n        {\n            var date;\n\n            if (e.firedBy === self) {\n                return;\n            }\n            if (opts.parse) {\n                date = opts.parse(opts.field.value, opts.format);\n            } else if (hasMoment) {\n                date = moment(opts.field.value, opts.format, opts.formatStrict);\n                date = (date && date.isValid()) ? date.toDate() : null;\n            }\n            else {\n                date = new Date(Date.parse(opts.field.value));\n            }\n            if (isDate(date)) {\n              self.setDate(date);\n            }\n            if (!self._v) {\n                self.show();\n            }\n        };\n\n        self._onInputFocus = function()\n        {\n            self.show();\n        };\n\n        self._onInputClick = function()\n        {\n            self.show();\n        };\n\n        self._onInputBlur = function()\n        {\n            // IE allows pika div to gain focus; catch blur the input field\n            var pEl = document.activeElement;\n            do {\n                if (hasClass(pEl, 'pika-single')) {\n                    return;\n                }\n            }\n            while ((pEl = pEl.parentNode));\n\n            if (!self._c) {\n                self._b = sto(function() {\n                    self.hide();\n                }, 50);\n            }\n            self._c = false;\n        };\n\n        self._onClick = function(e)\n        {\n            e = e || window.event;\n            var target = e.target || e.srcElement,\n                pEl = target;\n            if (!target) {\n                return;\n            }\n            if (!hasEventListeners && hasClass(target, 'pika-select')) {\n                if (!target.onchange) {\n                    target.setAttribute('onchange', 'return;');\n                    addEvent(target, 'change', self._onChange);\n                }\n            }\n            do {\n                if (hasClass(pEl, 'pika-single') || pEl === opts.trigger) {\n                    return;\n                }\n            }\n            while ((pEl = pEl.parentNode));\n            if (self._v && target !== opts.trigger && pEl !== opts.trigger) {\n                self.hide();\n            }\n        };\n\n        self.el = document.createElement('div');\n        self.el.className = 'pika-single' + (opts.isRTL ? ' is-rtl' : '') + (opts.theme ? ' ' + opts.theme : '');\n\n        addEvent(self.el, 'mousedown', self._onMouseDown, true);\n        addEvent(self.el, 'touchend', self._onMouseDown, true);\n        addEvent(self.el, 'change', self._onChange);\n        addEvent(document, 'keydown', self._onKeyChange);\n\n        if (opts.field) {\n            if (opts.container) {\n                opts.container.appendChild(self.el);\n            } else if (opts.bound) {\n                document.body.appendChild(self.el);\n            } else {\n                opts.field.parentNode.insertBefore(self.el, opts.field.nextSibling);\n            }\n            addEvent(opts.field, 'change', self._onInputChange);\n\n            if (!opts.defaultDate) {\n                if (hasMoment && opts.field.value) {\n                    opts.defaultDate = moment(opts.field.value, opts.format).toDate();\n                } else {\n                    opts.defaultDate = new Date(Date.parse(opts.field.value));\n                }\n                opts.setDefaultDate = true;\n            }\n        }\n\n        var defDate = opts.defaultDate;\n\n        if (isDate(defDate)) {\n            if (opts.setDefaultDate) {\n                self.setDate(defDate, true);\n            } else {\n                self.gotoDate(defDate);\n            }\n        } else {\n            self.gotoDate(new Date());\n        }\n\n        if (opts.bound) {\n            this.hide();\n            self.el.className += ' is-bound';\n            addEvent(opts.trigger, 'click', self._onInputClick);\n            addEvent(opts.trigger, 'focus', self._onInputFocus);\n            addEvent(opts.trigger, 'blur', self._onInputBlur);\n        } else {\n            this.show();\n        }\n    };\n\n\n    /**\n     * public Pikaday API\n     */\n    Pikaday.prototype = {\n\n\n        /**\n         * configure functionality\n         */\n        config: function(options)\n        {\n            if (!this._o) {\n                this._o = extend({}, defaults, true);\n            }\n\n            var opts = extend(this._o, options, true);\n\n            opts.isRTL = !!opts.isRTL;\n\n            opts.field = (opts.field && opts.field.nodeName) ? opts.field : null;\n\n            opts.theme = (typeof opts.theme) === 'string' && opts.theme ? opts.theme : null;\n\n            opts.bound = !!(opts.bound !== undefined ? opts.field && opts.bound : opts.field);\n\n            opts.trigger = (opts.trigger && opts.trigger.nodeName) ? opts.trigger : opts.field;\n\n            opts.disableWeekends = !!opts.disableWeekends;\n\n            opts.disableDayFn = (typeof opts.disableDayFn) === 'function' ? opts.disableDayFn : null;\n\n            var nom = parseInt(opts.numberOfMonths, 10) || 1;\n            opts.numberOfMonths = nom > 4 ? 4 : nom;\n\n            if (!isDate(opts.minDate)) {\n                opts.minDate = false;\n            }\n            if (!isDate(opts.maxDate)) {\n                opts.maxDate = false;\n            }\n            if ((opts.minDate && opts.maxDate) && opts.maxDate < opts.minDate) {\n                opts.maxDate = opts.minDate = false;\n            }\n            if (opts.minDate) {\n                this.setMinDate(opts.minDate);\n            }\n            if (opts.maxDate) {\n                this.setMaxDate(opts.maxDate);\n            }\n\n            if (isArray(opts.yearRange)) {\n                var fallback = new Date().getFullYear() - 10;\n                opts.yearRange[0] = parseInt(opts.yearRange[0], 10) || fallback;\n                opts.yearRange[1] = parseInt(opts.yearRange[1], 10) || fallback;\n            } else {\n                opts.yearRange = Math.abs(parseInt(opts.yearRange, 10)) || defaults.yearRange;\n                if (opts.yearRange > 100) {\n                    opts.yearRange = 100;\n                }\n            }\n\n            return opts;\n        },\n\n        /**\n         * return a formatted string of the current selection (using Moment.js if available)\n         */\n        toString: function(format)\n        {\n            format = format || this._o.format;\n            if (!isDate(this._d)) {\n                return '';\n            }\n            if (this._o.toString) {\n              return this._o.toString(this._d, format);\n            }\n            if (hasMoment) {\n              return moment(this._d).format(format);\n            }\n            return this._d.toDateString();\n        },\n\n        /**\n         * return a Moment.js object of the current selection (if available)\n         */\n        getMoment: function()\n        {\n            return hasMoment ? moment(this._d) : null;\n        },\n\n        /**\n         * set the current selection from a Moment.js object (if available)\n         */\n        setMoment: function(date, preventOnSelect)\n        {\n            if (hasMoment && moment.isMoment(date)) {\n                this.setDate(date.toDate(), preventOnSelect);\n            }\n        },\n\n        /**\n         * return a Date object of the current selection\n         */\n        getDate: function()\n        {\n            return isDate(this._d) ? new Date(this._d.getTime()) : null;\n        },\n\n        /**\n         * set the current selection\n         */\n        setDate: function(date, preventOnSelect)\n        {\n            if (!date) {\n                this._d = null;\n\n                if (this._o.field) {\n                    this._o.field.value = '';\n                    fireEvent(this._o.field, 'change', { firedBy: this });\n                }\n\n                return this.draw();\n            }\n            if (typeof date === 'string') {\n                date = new Date(Date.parse(date));\n            }\n            if (!isDate(date)) {\n                return;\n            }\n\n            var min = this._o.minDate,\n                max = this._o.maxDate;\n\n            if (isDate(min) && date < min) {\n                date = min;\n            } else if (isDate(max) && date > max) {\n                date = max;\n            }\n\n            this._d = new Date(date.getTime());\n            setToStartOfDay(this._d);\n            this.gotoDate(this._d);\n\n            if (this._o.field) {\n                this._o.field.value = this.toString();\n                fireEvent(this._o.field, 'change', { firedBy: this });\n            }\n            if (!preventOnSelect && typeof this._o.onSelect === 'function') {\n                this._o.onSelect.call(this, this.getDate());\n            }\n        },\n\n        /**\n         * change view to a specific date\n         */\n        gotoDate: function(date)\n        {\n            var newCalendar = true;\n\n            if (!isDate(date)) {\n                return;\n            }\n\n            if (this.calendars) {\n                var firstVisibleDate = new Date(this.calendars[0].year, this.calendars[0].month, 1),\n                    lastVisibleDate = new Date(this.calendars[this.calendars.length-1].year, this.calendars[this.calendars.length-1].month, 1),\n                    visibleDate = date.getTime();\n                // get the end of the month\n                lastVisibleDate.setMonth(lastVisibleDate.getMonth()+1);\n                lastVisibleDate.setDate(lastVisibleDate.getDate()-1);\n                newCalendar = (visibleDate < firstVisibleDate.getTime() || lastVisibleDate.getTime() < visibleDate);\n            }\n\n            if (newCalendar) {\n                this.calendars = [{\n                    month: date.getMonth(),\n                    year: date.getFullYear()\n                }];\n                if (this._o.mainCalendar === 'right') {\n                    this.calendars[0].month += 1 - this._o.numberOfMonths;\n                }\n            }\n\n            this.adjustCalendars();\n        },\n\n        adjustDate: function(sign, days) {\n\n            var day = this.getDate() || new Date();\n            var difference = parseInt(days)*24*60*60*1000;\n\n            var newDay;\n\n            if (sign === 'add') {\n                newDay = new Date(day.valueOf() + difference);\n            } else if (sign === 'subtract') {\n                newDay = new Date(day.valueOf() - difference);\n            }\n\n            this.setDate(newDay);\n        },\n\n        adjustCalendars: function() {\n            this.calendars[0] = adjustCalendar(this.calendars[0]);\n            for (var c = 1; c < this._o.numberOfMonths; c++) {\n                this.calendars[c] = adjustCalendar({\n                    month: this.calendars[0].month + c,\n                    year: this.calendars[0].year\n                });\n            }\n            this.draw();\n        },\n\n        gotoToday: function()\n        {\n            this.gotoDate(new Date());\n        },\n\n        /**\n         * change view to a specific month (zero-index, e.g. 0: January)\n         */\n        gotoMonth: function(month)\n        {\n            if (!isNaN(month)) {\n                this.calendars[0].month = parseInt(month, 10);\n                this.adjustCalendars();\n            }\n        },\n\n        nextMonth: function()\n        {\n            this.calendars[0].month++;\n            this.adjustCalendars();\n        },\n\n        prevMonth: function()\n        {\n            this.calendars[0].month--;\n            this.adjustCalendars();\n        },\n\n        /**\n         * change view to a specific full year (e.g. \"2012\")\n         */\n        gotoYear: function(year)\n        {\n            if (!isNaN(year)) {\n                this.calendars[0].year = parseInt(year, 10);\n                this.adjustCalendars();\n            }\n        },\n\n        /**\n         * change the minDate\n         */\n        setMinDate: function(value)\n        {\n            if(value instanceof Date) {\n                setToStartOfDay(value);\n                this._o.minDate = value;\n                this._o.minYear  = value.getFullYear();\n                this._o.minMonth = value.getMonth();\n            } else {\n                this._o.minDate = defaults.minDate;\n                this._o.minYear  = defaults.minYear;\n                this._o.minMonth = defaults.minMonth;\n                this._o.startRange = defaults.startRange;\n            }\n\n            this.draw();\n        },\n\n        /**\n         * change the maxDate\n         */\n        setMaxDate: function(value)\n        {\n            if(value instanceof Date) {\n                setToStartOfDay(value);\n                this._o.maxDate = value;\n                this._o.maxYear = value.getFullYear();\n                this._o.maxMonth = value.getMonth();\n            } else {\n                this._o.maxDate = defaults.maxDate;\n                this._o.maxYear = defaults.maxYear;\n                this._o.maxMonth = defaults.maxMonth;\n                this._o.endRange = defaults.endRange;\n            }\n\n            this.draw();\n        },\n\n        setStartRange: function(value)\n        {\n            this._o.startRange = value;\n        },\n\n        setEndRange: function(value)\n        {\n            this._o.endRange = value;\n        },\n\n        /**\n         * refresh the HTML\n         */\n        draw: function(force)\n        {\n            if (!this._v && !force) {\n                return;\n            }\n            var opts = this._o,\n                minYear = opts.minYear,\n                maxYear = opts.maxYear,\n                minMonth = opts.minMonth,\n                maxMonth = opts.maxMonth,\n                html = '',\n                randId;\n\n            if (this._y <= minYear) {\n                this._y = minYear;\n                if (!isNaN(minMonth) && this._m < minMonth) {\n                    this._m = minMonth;\n                }\n            }\n            if (this._y >= maxYear) {\n                this._y = maxYear;\n                if (!isNaN(maxMonth) && this._m > maxMonth) {\n                    this._m = maxMonth;\n                }\n            }\n\n            randId = 'pika-title-' + Math.random().toString(36).replace(/[^a-z]+/g, '').substr(0, 2);\n\n            for (var c = 0; c < opts.numberOfMonths; c++) {\n                html += '<div class=\"pika-lendar\">' + renderTitle(this, c, this.calendars[c].year, this.calendars[c].month, this.calendars[0].year, randId) + this.render(this.calendars[c].year, this.calendars[c].month, randId) + '</div>';\n            }\n\n            this.el.innerHTML = html;\n\n            if (opts.bound) {\n                if(opts.field.type !== 'hidden') {\n                    sto(function() {\n                        opts.trigger.focus();\n                    }, 1);\n                }\n            }\n\n            if (typeof this._o.onDraw === 'function') {\n                this._o.onDraw(this);\n            }\n\n            if (opts.bound) {\n                // let the screen reader user know to use arrow keys\n                opts.field.setAttribute('aria-label', 'Use the arrow keys to pick a date');\n            }\n        },\n\n        adjustPosition: function()\n        {\n            var field, pEl, width, height, viewportWidth, viewportHeight, scrollTop, left, top, clientRect;\n\n            if (this._o.container) return;\n\n            this.el.style.position = 'absolute';\n\n            field = this._o.trigger;\n            pEl = field;\n            width = this.el.offsetWidth;\n            height = this.el.offsetHeight;\n            viewportWidth = window.innerWidth || document.documentElement.clientWidth;\n            viewportHeight = window.innerHeight || document.documentElement.clientHeight;\n            scrollTop = window.pageYOffset || document.body.scrollTop || document.documentElement.scrollTop;\n\n            if (typeof field.getBoundingClientRect === 'function') {\n                clientRect = field.getBoundingClientRect();\n                left = clientRect.left + window.pageXOffset;\n                top = clientRect.bottom + window.pageYOffset;\n            } else {\n                left = pEl.offsetLeft;\n                top  = pEl.offsetTop + pEl.offsetHeight;\n                while((pEl = pEl.offsetParent)) {\n                    left += pEl.offsetLeft;\n                    top  += pEl.offsetTop;\n                }\n            }\n\n            // default position is bottom & left\n            if ((this._o.reposition && left + width > viewportWidth) ||\n                (\n                    this._o.position.indexOf('right') > -1 &&\n                    left - width + field.offsetWidth > 0\n                )\n            ) {\n                left = left - width + field.offsetWidth;\n            }\n            if ((this._o.reposition && top + height > viewportHeight + scrollTop) ||\n                (\n                    this._o.position.indexOf('top') > -1 &&\n                    top - height - field.offsetHeight > 0\n                )\n            ) {\n                top = top - height - field.offsetHeight;\n            }\n\n            this.el.style.left = left + 'px';\n            this.el.style.top = top + 'px';\n        },\n\n        /**\n         * render HTML for a particular month\n         */\n        render: function(year, month, randId)\n        {\n            var opts   = this._o,\n                now    = new Date(),\n                days   = getDaysInMonth(year, month),\n                before = new Date(year, month, 1).getDay(),\n                data   = [],\n                row    = [];\n            setToStartOfDay(now);\n            if (opts.firstDay > 0) {\n                before -= opts.firstDay;\n                if (before < 0) {\n                    before += 7;\n                }\n            }\n            var previousMonth = month === 0 ? 11 : month - 1,\n                nextMonth = month === 11 ? 0 : month + 1,\n                yearOfPreviousMonth = month === 0 ? year - 1 : year,\n                yearOfNextMonth = month === 11 ? year + 1 : year,\n                daysInPreviousMonth = getDaysInMonth(yearOfPreviousMonth, previousMonth);\n            var cells = days + before,\n                after = cells;\n            while(after > 7) {\n                after -= 7;\n            }\n            cells += 7 - after;\n            var isWeekSelected = false;\n            for (var i = 0, r = 0; i < cells; i++)\n            {\n                var day = new Date(year, month, 1 + (i - before)),\n                    isSelected = isDate(this._d) ? compareDates(day, this._d) : false,\n                    isToday = compareDates(day, now),\n                    hasEvent = opts.events.indexOf(day.toDateString()) !== -1 ? true : false,\n                    isEmpty = i < before || i >= (days + before),\n                    dayNumber = 1 + (i - before),\n                    monthNumber = month,\n                    yearNumber = year,\n                    isStartRange = opts.startRange && compareDates(opts.startRange, day),\n                    isEndRange = opts.endRange && compareDates(opts.endRange, day),\n                    isInRange = opts.startRange && opts.endRange && opts.startRange < day && day < opts.endRange,\n                    isDisabled = (opts.minDate && day < opts.minDate) ||\n                                 (opts.maxDate && day > opts.maxDate) ||\n                                 (opts.disableWeekends && isWeekend(day)) ||\n                                 (opts.disableDayFn && opts.disableDayFn(day));\n\n                if (isEmpty) {\n                    if (i < before) {\n                        dayNumber = daysInPreviousMonth + dayNumber;\n                        monthNumber = previousMonth;\n                        yearNumber = yearOfPreviousMonth;\n                    } else {\n                        dayNumber = dayNumber - days;\n                        monthNumber = nextMonth;\n                        yearNumber = yearOfNextMonth;\n                    }\n                }\n\n                var dayConfig = {\n                        day: dayNumber,\n                        month: monthNumber,\n                        year: yearNumber,\n                        hasEvent: hasEvent,\n                        isSelected: isSelected,\n                        isToday: isToday,\n                        isDisabled: isDisabled,\n                        isEmpty: isEmpty,\n                        isStartRange: isStartRange,\n                        isEndRange: isEndRange,\n                        isInRange: isInRange,\n                        showDaysInNextAndPreviousMonths: opts.showDaysInNextAndPreviousMonths,\n                        enableSelectionDaysInNextAndPreviousMonths: opts.enableSelectionDaysInNextAndPreviousMonths\n                    };\n\n                if (opts.pickWholeWeek && isSelected) {\n                    isWeekSelected = true;\n                }\n\n                row.push(renderDay(dayConfig));\n\n                if (++r === 7) {\n                    if (opts.showWeekNumber) {\n                        row.unshift(renderWeek(i - before, month, year));\n                    }\n                    data.push(renderRow(row, opts.isRTL, opts.pickWholeWeek, isWeekSelected));\n                    row = [];\n                    r = 0;\n                    isWeekSelected = false;\n                }\n            }\n            return renderTable(opts, data, randId);\n        },\n\n        isVisible: function()\n        {\n            return this._v;\n        },\n\n        show: function()\n        {\n            if (!this.isVisible()) {\n                this._v = true;\n                this.draw();\n                removeClass(this.el, 'is-hidden');\n                if (this._o.bound) {\n                    addEvent(document, 'click', this._onClick);\n                    this.adjustPosition();\n                }\n                if (typeof this._o.onOpen === 'function') {\n                    this._o.onOpen.call(this);\n                }\n            }\n        },\n\n        hide: function()\n        {\n            var v = this._v;\n            if (v !== false) {\n                if (this._o.bound) {\n                    removeEvent(document, 'click', this._onClick);\n                }\n                this.el.style.position = 'static'; // reset\n                this.el.style.left = 'auto';\n                this.el.style.top = 'auto';\n                addClass(this.el, 'is-hidden');\n                this._v = false;\n                if (v !== undefined && typeof this._o.onClose === 'function') {\n                    this._o.onClose.call(this);\n                }\n            }\n        },\n\n        /**\n         * GAME OVER\n         */\n        destroy: function()\n        {\n            this.hide();\n            removeEvent(this.el, 'mousedown', this._onMouseDown, true);\n            removeEvent(this.el, 'touchend', this._onMouseDown, true);\n            removeEvent(this.el, 'change', this._onChange);\n            removeEvent(document, 'keydown', this._onKeyChange);\n            if (this._o.field) {\n                removeEvent(this._o.field, 'change', this._onInputChange);\n                if (this._o.bound) {\n                    removeEvent(this._o.trigger, 'click', this._onInputClick);\n                    removeEvent(this._o.trigger, 'focus', this._onInputFocus);\n                    removeEvent(this._o.trigger, 'blur', this._onInputBlur);\n                }\n            }\n            if (this.el.parentNode) {\n                this.el.parentNode.removeChild(this.el);\n            }\n        }\n\n    };\n\n    return Pikaday;\n\n}));\n","import initForm from '../../../../shared/milestones/form';\n\ndocument.addEventListener('DOMContentLoaded', () => initForm());\n","/**\n * adds a pause and unpause method to Mousetrap\n * this allows you to enable or disable keyboard shortcuts\n * without having to reset Mousetrap and rebind everything\n */\n/* global Mousetrap:true */\nMousetrap = (function(Mousetrap) {\n    var self = Mousetrap,\n        _originalStopCallback = self.stopCallback,\n        enabled = true;\n\n    self.stopCallback = function(e, element, combo) {\n        if (!enabled) {\n            return true;\n        }\n\n        return _originalStopCallback(e, element, combo);\n    };\n\n    self.pause = function() {\n        enabled = false;\n    };\n\n    self.unpause = function() {\n        enabled = true;\n    };\n\n    return self;\n}) (Mousetrap);\n"],"sourceRoot":""}