(this.webpackJsonp=this.webpackJsonp||[]).push([[12],{12:function(t,e,a){"use strict";var i=a(0),n=a.n(i);e.a={bind:function(t){n()(t).tooltip({trigger:"hover"})},componentUpdated:function(t){n()(t).tooltip("_fixTitle")},unbind:function(t){n()(t).tooltip("dispose")}}},145:function(t,e,a){"use strict";var i=a(0),n=a.n(i),s=a(3),r=a.n(s),o=a(39),l=a.n(o),d=a(7),m=a(5),c=a(1);function u(t){this.toggleTodo=this.toggleTodo.bind(this),this.sidebar=n()("aside"),this.removeListeners(),this.addEventListeners()}u.initialize=function(t){this.instance||(this.instance=new u(t))},u.prototype.removeListeners=function(){this.sidebar.off("click",".sidebar-collapsed-icon"),this.sidebar.off("hidden.gl.dropdown"),n()(".dropdown").off("loading.gl.dropdown"),n()(".dropdown").off("loaded.gl.dropdown"),n()(document).off("click",".js-sidebar-toggle")},u.prototype.addEventListeners=function(){var t=n()(document);return this.sidebar.on("click",".sidebar-collapsed-icon",this,this.sidebarCollapseClicked),this.sidebar.on("hidden.gl.dropdown",this,this.onSidebarDropdownHidden),n()(".dropdown").on("loading.gl.dropdown",this.sidebarDropdownLoading),n()(".dropdown").on("loaded.gl.dropdown",this.sidebarDropdownLoaded),t.on("click",".js-sidebar-toggle",this.sidebarToggleClicked),n()(document).off("click",".js-issuable-todo").on("click",".js-issuable-todo",this.toggleTodo)},u.prototype.sidebarToggleClicked=function(t,e){var a,i,s,r;t.preventDefault(),r=(s=(i=n()(this)).find("i").hasClass("fa-angle-double-right"))?Object(c.a)("Expand sidebar"):Object(c.a)("Collapse sidebar"),a=n()(".js-sidebar-toggle i"),s?(a.removeClass("fa-angle-double-right").addClass("fa-angle-double-left"),n()("aside.right-sidebar").removeClass("right-sidebar-expanded").addClass("right-sidebar-collapsed"),n()(".layout-page").removeClass("right-sidebar-expanded").addClass("right-sidebar-collapsed")):(a.removeClass("fa-angle-double-left").addClass("fa-angle-double-right"),n()("aside.right-sidebar").removeClass("right-sidebar-collapsed").addClass("right-sidebar-expanded"),n()(".layout-page").removeClass("right-sidebar-collapsed").addClass("right-sidebar-expanded"),gl.lazyLoader&&gl.lazyLoader.loadCheck()),i.attr("data-original-title",r),e||l.a.set("collapsed_gutter",n()(".right-sidebar").hasClass("right-sidebar-collapsed"))},u.prototype.toggleTodo=function(t){var e,a,i,s=this;e=n()(t.currentTarget),a=e.attr("data-delete-path")?"delete":"post",i=e.attr("data-delete-path")?""+e.attr("data-delete-path"):""+e.data("url"),e.tooltip("hide"),n()(".js-issuable-todo").disable().addClass("is-loading"),m.a[a](i,{issuable_id:e.data("issuableId"),issuable_type:e.data("issuableType")}).then(function(t){var e=t.data;s.todoUpdateDone(e)}).catch(function(){return Object(d.a)("There was an error "+("post"===a?"adding a":"deleting the")+" todo.")})},u.prototype.todoUpdateDone=function(t){var e=t.delete_path?t.delete_path:null,a=e?"mark":"todo",i=n()(".js-issuable-todo");n()(document).trigger("todo:toggle",t.count),i.each(function(t,i){var s=n()(i),r=s.find(".js-issuable-todo-inner");s.removeClass("is-loading").enable().attr("aria-label",s.data(a+"Text")).attr("data-delete-path",e).attr("title",s.data(a+"Text")),s.hasClass("has-tooltip")&&s.tooltip("_fixTitle"),s.data(a+"Icon")?r.html(s.data(a+"Icon")):r.text(s.data(a+"Text"))})},u.prototype.sidebarDropdownLoading=function(t){var e,a,i,s;return s=(a=n()(this).closest(".block").find(".sidebar-collapsed-icon")).find("img"),i=a.find("i"),e=n()('<i class="fa fa-spinner fa-spin"></i>'),s.length?(s.before(e),s.hide()):i.length?(i.before(e),i.hide()):void 0},u.prototype.sidebarDropdownLoaded=function(t){var e,a,i;return i=(e=n()(this).closest(".block").find(".sidebar-collapsed-icon")).find("img"),e.find("i.fa-spin").remove(),a=e.find("i"),i.length?i.show():a.show()},u.prototype.sidebarCollapseClicked=function(t){var e,a;if(!n()(t.currentTarget).hasClass("dont-change-state"))return a=t.data,t.preventDefault(),e=n()(this).closest(".block"),a.openDropdown(e)},u.prototype.openDropdown=function(t){var e;e=r.a.isString(t)?this.getBlock(t):t,this.isOpen()||(this.setCollapseAfterUpdate(e),this.toggleSidebar("open")),setTimeout(function(){e.find(".js-sidebar-dropdown-toggle").trigger("click")})},u.prototype.setCollapseAfterUpdate=function(t){return t.addClass("collapse-after-update"),n()(".layout-page").addClass("with-overlay")},u.prototype.onSidebarDropdownHidden=function(t){var e,a;return a=t.data,t.preventDefault(),e=n()(t.target).closest(".block"),a.sidebarDropdownHidden(e)},u.prototype.sidebarDropdownHidden=function(t){if(t.hasClass("collapse-after-update"))return t.removeClass("collapse-after-update"),n()(".layout-page").removeClass("with-overlay"),this.toggleSidebar("hide")},u.prototype.triggerOpenSidebar=function(){return this.sidebar.find(".js-sidebar-toggle").trigger("click")},u.prototype.toggleSidebar=function(t){if(null==t&&(t="toggle"),"toggle"===t&&this.triggerOpenSidebar(),"open"===t&&(this.isOpen()||this.triggerOpenSidebar()),"hide"===t&&this.isOpen())return this.triggerOpenSidebar()},u.prototype.isOpen=function(){return this.sidebar.is(".right-sidebar-expanded")},u.prototype.getBlock=function(t){return this.sidebar.find(".block."+t)},e.a=u},15:function(t,e,a){"use strict";var i=[8,10,12,16,18,24,32,48,72],n={props:{name:{type:String,required:!0,validator:function(){return!0}},size:{type:Number,required:!1,default:16,validator:function(t){return i.includes(t)}},cssClasses:{type:String,required:!1,default:""},width:{type:Number,required:!1,default:null},height:{type:Number,required:!1,default:null},y:{type:Number,required:!1,default:null},x:{type:Number,required:!1,default:null},tabIndex:{type:String,required:!1,default:null}},computed:{spriteHref:function(){return gon.sprite_icons+"#"+this.name},iconTestClass:function(){return"ic-"+this.name},iconSizeClass:function(){return this.size?"s"+this.size:""}}},s=a(2),r=Object(s.a)(n,function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("svg",{class:[t.iconSizeClass,t.iconTestClass,t.cssClasses],attrs:{width:t.width,height:t.height,x:t.x,y:t.y,tabindex:t.tabIndex}},[a("use",t._b({},"use",{"xlink:href":t.spriteHref},!1))])},[],!1,null,null,null);e.a=r.exports},274:function(t,e,a){"use strict";var i=a(1),n={name:"TimeTrackingHelpState",props:{rootPath:{type:String,required:!0}},computed:{href:function(){return this.rootPath+"help/workflow/time_tracking.md"},estimateText:function(){return Object(i.f)(Object(i.e)("estimateCommand|%{slash_command} will update the estimated time with the latest command."),{slash_command:"<code>/estimate</code>"},!1)},spendText:function(){return Object(i.f)(Object(i.e)("spendCommand|%{slash_command} will update the sum of the time spent."),{slash_command:"<code>/spend</code>"},!1)}}},s=a(2),r=Object(s.a)(n,function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"time-tracking-help-state"},[a("div",{staticClass:"time-tracking-info"},[a("h4",[t._v("\n      "+t._s(t.__("Track time with quick actions"))+"\n    ")]),t._v(" "),a("p",[t._v("\n      "+t._s(t.__("Quick actions can be used in the issues description and comment boxes."))+"\n    ")]),t._v(" "),a("p",{domProps:{innerHTML:t._s(t.estimateText)}}),t._v(" "),a("p",{domProps:{innerHTML:t._s(t.spendText)}}),t._v(" "),a("a",{staticClass:"btn btn-default learn-more-button",attrs:{href:t.href}},[t._v("\n      "+t._s(t.__("Learn more"))+"\n    ")])])])},[],!1,null,null,null).exports,o=a(3),l=a.n(o);var d=a(15),m=a(12),c={name:"TimeTrackingCollapsedState",components:{icon:d.a},directives:{tooltip:m.a},props:{showComparisonState:{type:Boolean,required:!0},showSpentOnlyState:{type:Boolean,required:!0},showEstimateOnlyState:{type:Boolean,required:!0},showNoTimeTrackingState:{type:Boolean,required:!0},timeSpentHumanReadable:{type:String,required:!1,default:""},timeEstimateHumanReadable:{type:String,required:!1,default:""}},computed:{timeSpent:function(){return this.abbreviateTime(this.timeSpentHumanReadable)},timeEstimate:function(){return this.abbreviateTime(this.timeEstimateHumanReadable)},divClass:function(){return this.showComparisonState?"compare":this.showEstimateOnlyState?"estimate-only":this.showSpentOnlyState?"spend-only":this.showNoTimeTrackingState?"no-tracking":""},spanClass:function(){return this.showComparisonState?"":this.showEstimateOnlyState||this.showSpentOnlyState?"bold":this.showNoTimeTrackingState?"no-value":""},text:function(){return this.showComparisonState?this.timeSpent+" / "+this.timeEstimate:this.showEstimateOnlyState?"-- / "+this.timeEstimate:this.showSpentOnlyState?this.timeSpent+" / --":this.showNoTimeTrackingState?"None":""},timeTrackedTooltipText:function(){var t=void 0;return this.showComparisonState?t=Object(i.a)("Time remaining"):this.showEstimateOnlyState?t=Object(i.a)("Estimated"):this.showSpentOnlyState&&(t=Object(i.a)("Time spent")),Object(i.f)("%{title}: %{text}",{title:t,text:this.text})},tooltipText:function(){return this.showNoTimeTrackingState?Object(i.a)("Time tracking"):this.timeTrackedTooltipText}},methods:{abbreviateTime:function(t){return function(t){return t.split(" ").filter(function(t){return"0"!==t.charAt(0)})[0]}(t)}}},u=Object(s.a)(c,function(){var t=this.$createElement,e=this._self._c||t;return e("div",{directives:[{name:"tooltip",rawName:"v-tooltip"}],staticClass:"sidebar-collapsed-icon",attrs:{title:this.tooltipText,"data-container":"body","data-placement":"left","data-boundary":"viewport"}},[e("icon",{attrs:{name:"timer"}}),this._v(" "),e("div",{staticClass:"time-tracking-collapsed-summary"},[e("div",{class:this.divClass},[e("span",{class:this.spanClass},[this._v("\n        "+this._s(this.text)+"\n      ")])])])],1)},[],!1,null,null,null).exports,p={name:"TimeTrackingSpentOnlyPane",props:{timeSpentHumanReadable:{type:String,required:!0}}},h=Object(s.a)(p,function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"time-tracking-spend-only-pane"},[e("span",{staticClass:"bold"},[this._v("Spent:")]),this._v("\n  "+this._s(this.timeSpentHumanReadable)+"\n")])},[],!1,null,null,null).exports,g={name:"TimeTrackingNoTrackingPane"},f=Object(s.a)(g,function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"time-tracking-no-tracking-pane"},[e("span",{staticClass:"no-value"},[this._v("\n    "+this._s(this.__("No estimate or time spent"))+"\n  ")])])},[],!1,null,null,null).exports,b={name:"TimeTrackingEstimateOnlyPane",props:{timeEstimateHumanReadable:{type:String,required:!0}}},v=Object(s.a)(b,function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"time-tracking-estimate-only-pane"},[e("span",{staticClass:"bold"},[this._v("\n    "+this._s(this.s__("TimeTracking|Estimated:"))+"\n  ")]),this._v("\n  "+this._s(this.timeEstimateHumanReadable)+"\n")])},[],!1,null,null,null).exports,_={name:"TimeTrackingComparisonPane",directives:{tooltip:m.a},props:{timeSpent:{type:Number,required:!0},timeEstimate:{type:Number,required:!0},timeSpentHumanReadable:{type:String,required:!0},timeEstimateHumanReadable:{type:String,required:!0}},computed:{parsedTimeRemaining:function(){return function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=e.daysPerWeek,i=void 0===a?5:a,n=e.hoursPerDay,s=void 0===n?8:n,r={weeks:i*s*60,days:60*s,hours:60,minutes:1},o=Math.abs(t/60);return l.a.mapObject(r,function(t){var e=Math.floor(o/t);return o-=e*t,e})}(this.timeEstimate-this.timeSpent)},timeRemainingHumanReadable:function(){return t=this.parsedTimeRemaining,(e=l.a.reduce(t,function(t,e,a){return e?t+" "+e+a.charAt(0):t},"").trim()).length?e:"0m";var t,e},timeRemainingTooltip:function(){return(this.timeRemainingMinutes<0?"Over by":"Time remaining:")+" "+this.timeRemainingHumanReadable},timeRemainingMinutes:function(){return this.timeEstimate-this.timeSpent},timeRemainingPercent:function(){return Math.floor(this.timeSpent/this.timeEstimate*100)},timeRemainingStatusClass:function(){return this.timeEstimate>=this.timeSpent?"within_estimate":"over_estimate"},progressBarVariant:function(){return this.timeRemainingPercent>100?"danger":"primary"}}},T=Object(s.a)(_,function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"time-tracking-comparison-pane"},[a("div",{directives:[{name:"tooltip",rawName:"v-tooltip"}],staticClass:"compare-meter",class:t.timeRemainingStatusClass,attrs:{title:t.timeRemainingTooltip,"data-toggle":"tooltip","data-placement":"top",role:"timeRemainingDisplay"}},[a("gl-progress-bar",{attrs:{value:t.timeRemainingPercent,variant:t.progressBarVariant}}),t._v(" "),a("div",{staticClass:"compare-display-container"},[a("div",{staticClass:"compare-display float-left"},[a("span",{staticClass:"compare-label"},[t._v("\n          "+t._s(t.s__("TimeTracking|Spent"))+"\n        ")]),t._v(" "),a("span",{staticClass:"compare-value spent"},[t._v("\n          "+t._s(t.timeSpentHumanReadable)+"\n        ")])]),t._v(" "),a("div",{staticClass:"compare-display estimated float-right"},[a("span",{staticClass:"compare-label"},[t._v("\n          "+t._s(t.s__("TimeTrackingEstimated|Est"))+"\n        ")]),t._v(" "),a("span",{staticClass:"compare-value"},[t._v("\n          "+t._s(t.timeEstimateHumanReadable)+"\n        ")])])])],1)])},[],!1,null,null,null).exports,S=a(43),w={name:"IssuableTimeTracker",components:{TimeTrackingCollapsedState:u,TimeTrackingEstimateOnlyPane:v,TimeTrackingSpentOnlyPane:h,TimeTrackingNoTrackingPane:f,TimeTrackingComparisonPane:T,TimeTrackingHelpState:r},props:{time_estimate:{type:Number,required:!0},time_spent:{type:Number,required:!0},human_time_estimate:{type:String,required:!1,default:""},human_time_spent:{type:String,required:!1,default:""},rootPath:{type:String,required:!0}},data:function(){return{showHelp:!1}},computed:{timeSpent:function(){return this.time_spent},timeEstimate:function(){return this.time_estimate},timeEstimateHumanReadable:function(){return this.human_time_estimate},timeSpentHumanReadable:function(){return this.human_time_spent},hasTimeSpent:function(){return!!this.timeSpent},hasTimeEstimate:function(){return!!this.timeEstimate},showComparisonState:function(){return this.hasTimeEstimate&&this.hasTimeSpent},showEstimateOnlyState:function(){return this.hasTimeEstimate&&!this.hasTimeSpent},showSpentOnlyState:function(){return this.hasTimeSpent&&!this.hasTimeEstimate},showNoTimeTrackingState:function(){return!this.hasTimeEstimate&&!this.hasTimeSpent},showHelpState:function(){return!!this.showHelp}},created:function(){S.a.$on("timeTracker:updateData",this.update)},methods:{toggleHelpState:function(t){this.showHelp=t},update:function(t){this.time_estimate=t.time_estimate,this.time_spent=t.time_spent,this.human_time_estimate=t.human_time_estimate,this.human_time_spent=t.human_time_spent}}},y=Object(s.a)(w,function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"time_tracker time-tracking-component-wrap"},[a("time-tracking-collapsed-state",{attrs:{"show-comparison-state":t.showComparisonState,"show-no-time-tracking-state":t.showNoTimeTrackingState,"show-help-state":t.showHelpState,"show-spent-only-state":t.showSpentOnlyState,"show-estimate-only-state":t.showEstimateOnlyState,"time-spent-human-readable":t.timeSpentHumanReadable,"time-estimate-human-readable":t.timeEstimateHumanReadable}}),t._v(" "),a("div",{staticClass:"title hide-collapsed"},[t._v("\n    "+t._s(t.__("Time tracking"))+"\n    "),t.showHelpState?t._e():a("div",{staticClass:"help-button float-right",on:{click:function(e){t.toggleHelpState(!0)}}},[a("i",{staticClass:"fa fa-question-circle",attrs:{"aria-hidden":"true"}})]),t._v(" "),t.showHelpState?a("div",{staticClass:"close-help-button float-right",on:{click:function(e){t.toggleHelpState(!1)}}},[a("i",{staticClass:"fa fa-close",attrs:{"aria-hidden":"true"}})]):t._e()]),t._v(" "),a("div",{staticClass:"time-tracking-content hide-collapsed"},[t.showEstimateOnlyState?a("time-tracking-estimate-only-pane",{attrs:{"time-estimate-human-readable":t.timeEstimateHumanReadable}}):t._e(),t._v(" "),t.showSpentOnlyState?a("time-tracking-spent-only-pane",{attrs:{"time-spent-human-readable":t.timeSpentHumanReadable}}):t._e(),t._v(" "),t.showNoTimeTrackingState?a("time-tracking-no-tracking-pane"):t._e(),t._v(" "),t.showComparisonState?a("time-tracking-comparison-pane",{attrs:{"time-estimate":t.timeEstimate,"time-spent":t.timeSpent,"time-spent-human-readable":t.timeSpentHumanReadable,"time-estimate-human-readable":t.timeEstimateHumanReadable}}):t._e(),t._v(" "),a("transition",{attrs:{name:"help-state-toggle"}},[t.showHelpState?a("time-tracking-help-state",{attrs:{"root-path":t.rootPath}}):t._e()],1)],1)],1)},[],!1,null,null,null);e.a=y.exports},324:function(t,e,a){"use strict";var i=a(0),n=a.n(i),s=a(5),r=a(7),o=a(242),l=function(){function t(t,e){for(var a=0;a<e.length;a++){var i=e[a];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,a,i){return a&&t(e.prototype,a),i&&t(e,i),e}}();var d=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.bindTabsSwitching(),this.loadTab(n()(".js-milestone-tabs .active a")),this.loadInitialTab()}return l(t,[{key:"bindTabsSwitching",value:function(){var t=this;return n()('a[data-toggle="tab"]').on("show.bs.tab",function(e){var a=n()(e.target);window.location.hash=a.attr("href"),t.loadTab(a)})}},{key:"loadInitialTab",value:function(){var t=n()('.js-milestone-tabs a[href="'+window.location.hash+'"]');t.length&&t.tab("show")}},{key:"loadTab",value:function(t){var e=t.data("endpoint"),a=t.attr("href");e&&!t.hasClass("is-loaded")&&s.a.get(e).then(function(e){var i=e.data;n()(a).html(i.html),t.addClass("is-loaded")}).catch(function(){return Object(r.a)("Error loading milestone tab")})}}],[{key:"initDeprecationMessage",value:function(){var t=document.querySelector(".js-milestone-deprecation-message");if(t){var e=t.querySelector(".js-milestone-deprecation-message-template").innerHTML,a=n()(".js-popover-link",t),i=o.c.bind(a,!1);a.popover({content:e,html:!0,placement:"bottom"}).on("mouseenter",o.b).on("mouseleave",Object(o.a)()).on("show.bs.popover",function(){window.addEventListener("scroll",i,{once:!0})})}}}]),t}();e.a=d},408:function(t,e,a){"use strict";var i=a(8),n=a(274);e.a=function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t);var e=document.getElementById("issuable-time-tracker");e&&new i.default({el:e,components:{timeTracker:n.a},render:function(t){return t("timeTracker",{props:{time_estimate:parseInt(e.dataset.timeEstimate,10),time_spent:parseInt(e.dataset.timeSpent,10),human_time_estimate:e.dataset.humanTimeEstimate,human_time_spent:e.dataset.humanTimeSpent,rootPath:"/"}})}})}},43:function(t,e,a){"use strict";var i=new(a(8).default);window.emitSidebarEvent=function(){return i.$emit.apply(i,arguments)},e.a=i}}]);
//# sourceMappingURL=commons~pages.dashboard.milestones.show~pages.groups.milestones.show~pages.projects.milestones.show.e211c3b1.chunk.js.map