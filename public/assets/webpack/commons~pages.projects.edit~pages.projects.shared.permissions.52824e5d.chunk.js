(this.webpackJsonp=this.webpackJsonp||[]).push([[15],{15:function(e,t,s){"use strict";var i=[8,10,12,16,18,24,32,48,72],r={props:{name:{type:String,required:!0,validator:function(){return!0}},size:{type:Number,required:!1,default:16,validator:function(e){return i.includes(e)}},cssClasses:{type:String,required:!1,default:""},width:{type:Number,required:!1,default:null},height:{type:Number,required:!1,default:null},y:{type:Number,required:!1,default:null},x:{type:Number,required:!1,default:null},tabIndex:{type:String,required:!1,default:null}},computed:{spriteHref:function(){return gon.sprite_icons+"#"+this.name},iconTestClass:function(){return"ic-"+this.name},iconSizeClass:function(){return this.size?"s"+this.size:""}}},l=s(2),a=Object(l.a)(r,function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("svg",{class:[e.iconSizeClass,e.iconTestClass,e.cssClasses],attrs:{width:e.width,height:e.height,x:e.x,y:e.y,tabindex:e.tabIndex}},[s("use",e._b({},"use",{"xlink:href":e.spriteHref},!1))])},[],!1,null,null,null);t.a=a.exports},177:function(e,t,s){"use strict";var i=s(1),r=s(15),l=s(27),a=Object(i.e)("ToggleButton|Toggle Status: ON"),n=Object(i.e)("ToggleButton|Toggle Status: OFF"),c={components:{icon:r.a,loadingIcon:l.a},model:{prop:"value",event:"change"},props:{name:{type:String,required:!1,default:null},value:{type:Boolean,required:!1,default:null},disabledInput:{type:Boolean,required:!1,default:!1},isLoading:{type:Boolean,required:!1,default:!1}},computed:{toggleIcon:function(){return this.value?"status_success_borderless":"status_failed_borderless"},ariaLabel:function(){return this.value?a:n}},methods:{toggleFeature:function(){this.disabledInput||this.$emit("change",!this.value)}}},o=s(2),u=Object(o.a)(c,function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("label",{staticClass:"toggle-wrapper"},[e.name?s("input",{attrs:{name:e.name,type:"hidden"},domProps:{value:e.value}}):e._e(),e._v(" "),s("button",{staticClass:"project-feature-toggle",class:{"is-checked":e.value,"is-disabled":e.disabledInput,"is-loading":e.isLoading},attrs:{"aria-label":e.ariaLabel,type:"button"},on:{click:e.toggleFeature}},[s("loadingIcon",{staticClass:"loading-icon"}),e._v(" "),s("span",{staticClass:"toggle-icon"},[s("icon",{attrs:{name:e.toggleIcon,"css-classes":"toggle-icon-svg"}})],1)],1)])},[],!1,null,null,null);t.a=u.exports},645:function(e,t,s){"use strict";s.r(t);var i,r=s(8),l=s(177),a=function(){return function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var s=[],i=!0,r=!1,l=void 0;try{for(var a,n=e[Symbol.iterator]();!(i=(a=n.next()).done)&&(s.push(a.value),!t||s.length!==t);i=!0);}catch(e){r=!0,l=e}finally{try{!i&&n.return&&n.return()}finally{if(r)throw l}}return s}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),n={components:{projectFeatureToggle:l.a},model:{prop:"value",event:"change"},props:{name:{type:String,required:!1,default:""},options:{type:Array,required:!1,default:function(){return[]}},value:{type:Number,required:!1,default:0},disabledInput:{type:Boolean,required:!1,default:!1}},computed:{featureEnabled:function(){return 0!==this.value},displayOptions:function(){return this.featureEnabled?this.options:[[0,"Enable feature to choose access level"]]},displaySelectInput:function(){return this.disabledInput||!this.featureEnabled||this.displayOptions.length<2}},methods:{toggleFeature:function(e){if(!1===e||this.options.length<1)this.$emit("change",0);else{var t=a(this.options[this.options.length-1],1)[0];this.$emit("change",t)}},selectOption:function(e){this.$emit("change",Number(e.target.value))}}},c=s(2),o=Object(c.a)(n,function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"project-feature-controls",attrs:{"data-for":e.name}},[e.name?s("input",{attrs:{name:e.name,type:"hidden"},domProps:{value:e.value}}):e._e(),e._v(" "),s("project-feature-toggle",{attrs:{value:e.featureEnabled,"disabled-input":e.disabledInput},on:{change:e.toggleFeature}}),e._v(" "),s("div",{staticClass:"select-wrapper"},[s("select",{staticClass:"form-control project-repo-select select-control",attrs:{disabled:e.displaySelectInput},on:{change:e.selectOption}},e._l(e.displayOptions,function(t){var i=t[0],r=t[1];return s("option",{key:i,domProps:{value:i,selected:i===e.value}},[e._v("\n        "+e._s(r)+"\n      ")])})),e._v(" "),s("i",{staticClass:"fa fa-chevron-down",attrs:{"aria-hidden":"true"}})])],1)},[],!1,null,null,null).exports,u={props:{label:{type:String,required:!1,default:null},helpPath:{type:String,required:!1,default:null},helpText:{type:String,required:!1,default:null}}},p=Object(c.a)(u,function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"project-feature-row"},[e.label?s("label",{staticClass:"label-bold"},[e._v("\n    "+e._s(e.label)+"\n    "),e.helpPath?s("a",{attrs:{href:e.helpPath,target:"_blank"}},[s("i",{staticClass:"fa fa-question-circle",attrs:{"aria-hidden":"true","data-hidden":"true"}})]):e._e()]):e._e(),e._v(" "),e.helpText?s("span",{staticClass:"form-text text-muted"},[e._v("\n    "+e._s(e.helpText)+"\n  ")]):e._e(),e._v(" "),e._t("default")],2)},[],!1,null,null,null).exports;function d(e,t,s){return t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}var v={PRIVATE:0,INTERNAL:10,PUBLIC:20},h=(d(i={},v.PRIVATE,"The project is accessible only by members of the project. Access must be granted explicitly to each user."),d(i,v.INTERNAL,"The project can be accessed by any user who is logged in."),d(i,v.PUBLIC,"The project can be accessed by anyone, regardless of authentication."),i),f=[];function b(e,t){f[e]||(f[e]=document.querySelectorAll(e)),f[e].forEach(function(e){return function(e,t){t?e.classList.add("hidden"):e.classList.remove("hidden")}(e,t)})}var g=function(){return function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var s=[],i=!0,r=!1,l=void 0;try{for(var a,n=e[Symbol.iterator]();!(i=(a=n.next()).done)&&(s.push(a.value),!t||s.length!==t);i=!0);}catch(e){r=!0,l=e}finally{try{!i&&n.return&&n.return()}finally{if(r)throw l}}return s}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),y=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var i in s)Object.prototype.hasOwnProperty.call(s,i)&&(e[i]=s[i])}return e},m={components:{projectFeatureSetting:o,projectFeatureToggle:l.a,projectSettingRow:p},props:{currentSettings:{type:Object,required:!0},canChangeVisibilityLevel:{type:Boolean,required:!1,default:!1},allowedVisibilityOptions:{type:Array,required:!1,default:function(){return[0,10,20]}},lfsAvailable:{type:Boolean,required:!1,default:!1},registryAvailable:{type:Boolean,required:!1,default:!1},visibilityHelpPath:{type:String,required:!1,default:""},lfsHelpPath:{type:String,required:!1,default:""},registryHelpPath:{type:String,required:!1,default:""}},data:function(){return y({},{visibilityOptions:v,visibilityLevel:v.PUBLIC,issuesAccessLevel:20,repositoryAccessLevel:20,mergeRequestsAccessLevel:20,buildsAccessLevel:20,wikiAccessLevel:20,snippetsAccessLevel:20,containerRegistryEnabled:!0,lfsEnabled:!0,requestAccessEnabled:!0,highlightChangesClass:!1},this.currentSettings)},computed:{featureAccessLevelOptions:function(){var e=[[10,"Only Project Members"]];return this.visibilityLevel!==v.PRIVATE&&e.push([20,"Everyone With Access"]),e},repoFeatureAccessLevelOptions:function(){var e=this;return this.featureAccessLevelOptions.filter(function(t){return g(t,1)[0]<=e.repositoryAccessLevel})},repositoryEnabled:function(){return this.repositoryAccessLevel>0},visibilityLevelDescription:function(){return h[this.visibilityLevel]}},watch:{visibilityLevel:function(e,t){e===v.PRIVATE?(this.issuesAccessLevel=Math.min(10,this.issuesAccessLevel),this.repositoryAccessLevel=Math.min(10,this.repositoryAccessLevel),this.mergeRequestsAccessLevel=Math.min(10,this.mergeRequestsAccessLevel),this.buildsAccessLevel=Math.min(10,this.buildsAccessLevel),this.wikiAccessLevel=Math.min(10,this.wikiAccessLevel),this.snippetsAccessLevel=Math.min(10,this.snippetsAccessLevel),this.highlightChanges()):t===v.PRIVATE&&(this.issuesAccessLevel>0&&(this.issuesAccessLevel=20),this.repositoryAccessLevel>0&&(this.repositoryAccessLevel=20),this.mergeRequestsAccessLevel>0&&(this.mergeRequestsAccessLevel=20),this.buildsAccessLevel>0&&(this.buildsAccessLevel=20),this.wikiAccessLevel>0&&(this.wikiAccessLevel=20),this.snippetsAccessLevel>0&&(this.snippetsAccessLevel=20),this.highlightChanges())},repositoryAccessLevel:function(e,t){e<t?(this.mergeRequestsAccessLevel=Math.min(this.mergeRequestsAccessLevel,e),this.buildsAccessLevel=Math.min(this.buildsAccessLevel,e),0===e&&(this.containerRegistryEnabled=!1,this.lfsEnabled=!1)):0===t&&(this.mergeRequestsAccessLevel=e,this.buildsAccessLevel=e,this.containerRegistryEnabled=!0,this.lfsEnabled=!0)},issuesAccessLevel:function(e,t){0===e?b(".issues-feature",!0):0===t&&b(".issues-feature",!1)},mergeRequestsAccessLevel:function(e,t){0===e?b(".merge-requests-feature",!0):0===t&&b(".merge-requests-feature",!1)},buildsAccessLevel:function(e,t){0===e?b(".builds-feature",!0):0===t&&b(".builds-feature",!1)}},methods:{highlightChanges:function(){var e=this;this.highlightChangesClass=!0,this.$nextTick(function(){e.highlightChangesClass=!1})},visibilityAllowed:function(e){return this.allowedVisibilityOptions.includes(e)}}},A=Object(c.a)(m,function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",[s("div",{staticClass:"project-visibility-setting"},[s("project-setting-row",{attrs:{"help-path":e.visibilityHelpPath,label:"Project visibility"}},[s("div",{staticClass:"project-feature-controls"},[s("div",{staticClass:"select-wrapper"},[s("select",{directives:[{name:"model",rawName:"v-model",value:e.visibilityLevel,expression:"visibilityLevel"}],staticClass:"form-control select-control",attrs:{disabled:!e.canChangeVisibilityLevel,name:"project[visibility_level]"},on:{change:function(t){var s=Array.prototype.filter.call(t.target.options,function(e){return e.selected}).map(function(e){return"_value"in e?e._value:e.value});e.visibilityLevel=t.target.multiple?s:s[0]}}},[s("option",{attrs:{disabled:!e.visibilityAllowed(e.visibilityOptions.PRIVATE)},domProps:{value:e.visibilityOptions.PRIVATE}},[e._v("\n              Private\n            ")]),e._v(" "),s("option",{attrs:{disabled:!e.visibilityAllowed(e.visibilityOptions.INTERNAL)},domProps:{value:e.visibilityOptions.INTERNAL}},[e._v("\n              Internal\n            ")]),e._v(" "),s("option",{attrs:{disabled:!e.visibilityAllowed(e.visibilityOptions.PUBLIC)},domProps:{value:e.visibilityOptions.PUBLIC}},[e._v("\n              Public\n            ")])]),e._v(" "),s("i",{staticClass:"fa fa-chevron-down",attrs:{"aria-hidden":"true","data-hidden":"true"}})])]),e._v(" "),s("span",{staticClass:"form-text text-muted"},[e._v(e._s(e.visibilityLevelDescription))]),e._v(" "),e.visibilityLevel!==e.visibilityOptions.PRIVATE?s("label",{staticClass:"request-access"},[s("input",{attrs:{type:"hidden",name:"project[request_access_enabled]"},domProps:{value:e.requestAccessEnabled}}),e._v(" "),s("input",{directives:[{name:"model",rawName:"v-model",value:e.requestAccessEnabled,expression:"requestAccessEnabled"}],attrs:{type:"checkbox"},domProps:{checked:Array.isArray(e.requestAccessEnabled)?e._i(e.requestAccessEnabled,null)>-1:e.requestAccessEnabled},on:{change:function(t){var s=e.requestAccessEnabled,i=t.target,r=!!i.checked;if(Array.isArray(s)){var l=e._i(s,null);i.checked?l<0&&(e.requestAccessEnabled=s.concat([null])):l>-1&&(e.requestAccessEnabled=s.slice(0,l).concat(s.slice(l+1)))}else e.requestAccessEnabled=r}}}),e._v("\n        Allow users to request access\n      ")]):e._e()])],1),e._v(" "),s("div",{staticClass:"project-feature-settings",class:{"highlight-changes":e.highlightChangesClass}},[s("project-setting-row",{attrs:{label:"Issues","help-text":"Lightweight issue tracking system for this project"}},[s("project-feature-setting",{attrs:{options:e.featureAccessLevelOptions,name:"project[project_feature_attributes][issues_access_level]"},model:{value:e.issuesAccessLevel,callback:function(t){e.issuesAccessLevel=t},expression:"issuesAccessLevel"}})],1),e._v(" "),s("project-setting-row",{attrs:{label:"Repository","help-text":"View and edit files in this project"}},[s("project-feature-setting",{attrs:{options:e.featureAccessLevelOptions,name:"project[project_feature_attributes][repository_access_level]"},model:{value:e.repositoryAccessLevel,callback:function(t){e.repositoryAccessLevel=t},expression:"repositoryAccessLevel"}})],1),e._v(" "),s("div",{staticClass:"project-feature-setting-group"},[s("project-setting-row",{attrs:{label:"Merge requests","help-text":"Submit changes to be merged upstream"}},[s("project-feature-setting",{attrs:{options:e.repoFeatureAccessLevelOptions,"disabled-input":!e.repositoryEnabled,name:"project[project_feature_attributes][merge_requests_access_level]"},model:{value:e.mergeRequestsAccessLevel,callback:function(t){e.mergeRequestsAccessLevel=t},expression:"mergeRequestsAccessLevel"}})],1),e._v(" "),s("project-setting-row",{attrs:{label:"Pipelines","help-text":"Build, test, and deploy your changes"}},[s("project-feature-setting",{attrs:{options:e.repoFeatureAccessLevelOptions,"disabled-input":!e.repositoryEnabled,name:"project[project_feature_attributes][builds_access_level]"},model:{value:e.buildsAccessLevel,callback:function(t){e.buildsAccessLevel=t},expression:"buildsAccessLevel"}})],1),e._v(" "),e.registryAvailable?s("project-setting-row",{attrs:{"help-path":e.registryHelpPath,label:"Container registry","help-text":"Every project can have its own space to store its Docker images"}},[s("project-feature-toggle",{attrs:{"disabled-input":!e.repositoryEnabled,name:"project[container_registry_enabled]"},model:{value:e.containerRegistryEnabled,callback:function(t){e.containerRegistryEnabled=t},expression:"containerRegistryEnabled"}})],1):e._e(),e._v(" "),e.lfsAvailable?s("project-setting-row",{attrs:{"help-path":e.lfsHelpPath,label:"Git Large File Storage","help-text":"Manages large files such as audio, video, and graphics files"}},[s("project-feature-toggle",{attrs:{"disabled-input":!e.repositoryEnabled,name:"project[lfs_enabled]"},model:{value:e.lfsEnabled,callback:function(t){e.lfsEnabled=t},expression:"lfsEnabled"}})],1):e._e()],1),e._v(" "),s("project-setting-row",{attrs:{label:"Wiki","help-text":"Pages for project documentation"}},[s("project-feature-setting",{attrs:{options:e.featureAccessLevelOptions,name:"project[project_feature_attributes][wiki_access_level]"},model:{value:e.wikiAccessLevel,callback:function(t){e.wikiAccessLevel=t},expression:"wikiAccessLevel"}})],1),e._v(" "),s("project-setting-row",{attrs:{label:"Snippets","help-text":"Share code pastes with others out of Git repository"}},[s("project-feature-setting",{attrs:{options:e.featureAccessLevelOptions,name:"project[project_feature_attributes][snippets_access_level]"},model:{value:e.snippetsAccessLevel,callback:function(t){e.snippetsAccessLevel=t},expression:"snippetsAccessLevel"}})],1)],1)])},[],!1,null,null,null).exports;s.d(t,"default",function(){return _});var L=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var i in s)Object.prototype.hasOwnProperty.call(s,i)&&(e[i]=s[i])}return e};function _(){var e=document.querySelector(".js-project-permissions-form"),t=document.querySelector(".js-project-permissions-form-data"),s=JSON.parse(t.innerHTML);return new r.default({el:e,render:function(e){return e(A,{props:L({},s)})}})}}}]);
//# sourceMappingURL=commons~pages.projects.edit~pages.projects.shared.permissions.52824e5d.chunk.js.map