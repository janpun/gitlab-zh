(this.webpackJsonp=this.webpackJsonp||[]).push([[182],{1069:function(n,t,e){"use strict";e.r(t);var i=e(282),o=e(283);document.addEventListener("DOMContentLoaded",function(){new i.a,Object(o.a)()})},1070:function(n,t,e){e(31),e(334),n.exports=e(1069)},282:function(n,t,e){"use strict";var i=e(0),o=e.n(i),a=e(1),s=e(5),c=e(7),r=function(){function n(n,t){for(var e=0;e<t.length;e++){var i=t[e];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(n,i.key,i)}}return function(t,e,i){return e&&n(t.prototype,e),i&&n(t,i),t}}();var f=function(){function n(){!function(n,t){if(!(n instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n),this.toggleCheckbox=this.toggleCheckbox.bind(this),this.initEventListeners()}return r(n,[{key:"initEventListeners",value:function(){o()(document).on("change",".js-custom-notification-event",this.toggleCheckbox)}},{key:"toggleCheckbox",value:function(n){var t=o()(n.currentTarget),e=t.closest(".form-check");this.saveEvent(t,e)}},{key:"showCheckboxLoadingSpinner",value:function(n){n.addClass("is-loading").find(".custom-notification-event-loading").removeClass("fa-check").addClass("fa-spin fa-spinner").removeClass("is-done")}},{key:"saveEvent",value:function(n,t){var e=t.parents("form:first");this.showCheckboxLoadingSpinner(t),s.a[e.attr("method")](e.attr("action"),e.serialize()).then(function(e){var i=e.data;n.enable(),i.saved&&(t.find(".custom-notification-event-loading").toggleClass("fa-spin fa-spinner fa-check is-done"),setTimeout(function(){t.removeClass("is-loading").find(".custom-notification-event-loading").toggleClass("fa-spin fa-spinner fa-check is-done")},2e3))}).catch(function(){return Object(c.a)(Object(a.a)("There was an error saving your notification settings."))})}}]),n}();t.a=f},283:function(n,t,e){"use strict";e.d(t,"a",function(){return s});var i=e(0),o=e.n(i),a=e(7);function s(){o()(document).on("click",".update-notification",function(n){if(n.preventDefault(),!o()(this).is(".is-active")||"custom"!==o()(this).data("notificationLevel")){var t=o()(this).data("notificationLevel"),e=o()(this).parents(".notification-form:first");e.find(".js-notification-loading").toggleClass("fa-bell fa-spin fa-spinner"),e.find("#notification_setting_level").val(t),e.submit()}}),o()(document).on("ajax:success",".notification-form",function(n,t){t.saved?o()(n.currentTarget).closest(".js-notification-dropdown").replaceWith(t.html):Object(a.a)("Failed to save new settings","alert")})}}},[[1070,0,1,5]]]);
//# sourceMappingURL=pages.profiles.index.8d392c3c.chunk.js.map