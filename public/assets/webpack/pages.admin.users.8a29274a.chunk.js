(this.webpackJsonp=this.webpackJsonp||[]).push([[222],{1270:function(e,t,n){n(31),n(139),e.exports=n(867)},134:function(e,t,n){"use strict";function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var s={name:"DeprecatedModal",props:{id:{type:String,required:!1},title:{type:String,required:!1},text:{type:String,required:!1},hideFooter:{type:Boolean,required:!1,default:!1},kind:{type:String,required:!1,default:"primary"},modalDialogClass:{type:String,required:!1,default:""},closeKind:{type:String,required:!1,default:"default"},closeButtonLabel:{type:String,required:!1,default:"Cancel"},primaryButtonLabel:{type:String,required:!1,default:""},secondaryButtonLabel:{type:String,required:!1,default:""},submitDisabled:{type:Boolean,required:!1,default:!1}},computed:{btnKindClass:function(){return r({},"btn-"+this.kind,!0)},btnCancelKindClass:function(){return r({},"btn-"+this.closeKind,!0)}},methods:{emitCancel:function(e){this.$emit("cancel",e)},emitSubmit:function(e){this.$emit("submit",e)}}},a=n(2),o=Object(a.a)(s,function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"modal-open"},[n("div",{staticClass:"modal",class:e.id?"":"d-block",attrs:{id:e.id,role:"dialog",tabindex:"-1"}},[n("div",{staticClass:"modal-dialog",class:e.modalDialogClass,attrs:{role:"document"}},[n("div",{staticClass:"modal-content"},[n("div",{staticClass:"modal-header"},[e._t("header",[n("h4",{staticClass:"modal-title float-left"},[e._v("\n              "+e._s(e.title)+"\n            ")]),e._v(" "),n("button",{staticClass:"close float-right",attrs:{type:"button","data-dismiss":"modal","aria-label":"Close"},on:{click:function(t){e.emitCancel(t)}}},[n("span",{attrs:{"aria-hidden":"true"}},[e._v("Ã—")])])])],2),e._v(" "),n("div",{staticClass:"modal-body"},[e._t("body",[n("p",[e._v(e._s(e.text))])],{text:e.text})],2),e._v(" "),e.hideFooter?e._e():n("div",{staticClass:"modal-footer"},[n("button",{staticClass:"btn",class:e.btnCancelKindClass,attrs:{type:"button","data-dismiss":"modal"},on:{click:function(t){e.emitCancel(t)}}},[e._v("\n            "+e._s(e.closeButtonLabel)+"\n          ")]),e._v(" "),e.secondaryButtonLabel?e._t("secondary-button",[e.secondaryButtonLabel?n("button",{staticClass:"btn",attrs:{type:"button","data-dismiss":"modal"}},[e._v("\n              "+e._s(e.secondaryButtonLabel)+"\n            ")]):e._e()]):e._e(),e._v(" "),e.primaryButtonLabel?n("button",{staticClass:"btn js-primary-button",class:e.btnKindClass,attrs:{disabled:e.submitDisabled,type:"button","data-dismiss":"modal"},on:{click:function(t){e.emitSubmit(t)}}},[e._v("\n            "+e._s(e.primaryButtonLabel)+"\n          ")]):e._e()],2)])])]),e._v(" "),e.id?e._e():n("div",{staticClass:"modal-backdrop fade show"})])},[],!1,null,null,null);t.a=o.exports},139:function(e,t,n){"use strict";n.r(t);var r=n(0),s=n.n(r),a=n(21);function o(){"file"===s()('input[name="blacklist_type"]:checked').val()?(s()(".blacklist-file").show(),s()(".blacklist-raw").hide()):(s()(".blacklist-file").hide(),s()(".blacklist-raw").show())}document.addEventListener("DOMContentLoaded",function(){var e=s()(".change-owner-holder");s()("input#user_force_random_password").on("change",function(){var e=s()("#user_password, #user_password_confirmation");s()(this).attr("checked")?e.val("").prop("disabled",!0):e.prop("disabled",!1)}),s()("body").on("click",".js-toggle-colors-link",function(e){e.preventDefault(),s()(".js-toggle-colors-container").toggleClass("hide")}),s()(".log-tabs a").on("click",function(e){e.preventDefault(),s()(this).tab("show")}),s()(".log-bottom").on("click",function(e){e.preventDefault();var t=s()(".file-content:visible");t.animate({scrollTop:t.find("ol").height()},"fast")}),s()(".change-owner-link").on("click",function(t){t.preventDefault(),s()(this).hide(),e.show()}),s()(".change-owner-cancel-link").on("click",function(t){t.preventDefault(),e.hide(),s()(".change-owner-link").show()}),s()("li.project_member, li.group_member").on("ajax:success",a.e),s()("input[name='blacklist_type']").on("click",o),o()})},867:function(e,t,n){"use strict";n.r(t);var r=n(0),s=n.n(r),a=n(8),o=n(72),i=n(66),l=n(3),d=n.n(l),u=n(134),c=n(1),m={components:{DeprecatedModal:u.a},props:{deleteUserUrl:{type:String,required:!1,default:""},blockUserUrl:{type:String,required:!1,default:""},deleteContributions:{type:Boolean,required:!1,default:!1},username:{type:String,required:!1,default:""},csrfToken:{type:String,required:!1,default:""}},data:function(){return{enteredUsername:""}},computed:{title:function(){var e=Object(c.e)("AdminUsers|Delete User %{username}?"),t=Object(c.e)("AdminUsers|Delete User %{username} and contributions?");return Object(c.f)(this.deleteContributions?t:e,{username:"'"+d.a.escape(this.username)+"'"},!1)},text:function(){var e=Object(c.e)('AdminArea|\n        You are about to permanently delete the user %{username}.\n        Issues, merge requests, and groups linked to them will be transferred to a system-wide "Ghost-user".\n        To avoid data loss, consider using the %{strong_start}block user%{strong_end} feature instead.\n        Once you %{strong_start}Delete user%{strong_end}, it cannot be undone or recovered.'),t=Object(c.e)("AdminArea|\n        You are about to permanently delete the user %{username}.\n        This will delete all of the issues, merge requests, and groups linked to them.\n        To avoid data loss, consider using the %{strong_start}block user%{strong_end} feature instead.\n        Once you %{strong_start}Delete user%{strong_end}, it cannot be undone or recovered.");return Object(c.f)(this.deleteContributions?t:e,{username:"<strong>"+d.a.escape(this.username)+"</strong>",strong_start:"<strong>",strong_end:"</strong>"},!1)},confirmationTextLabel:function(){return Object(c.f)(Object(c.e)("AdminUsers|To confirm, type %{username}"),{username:"<code>"+d.a.escape(this.username)+"</code>"},!1)},primaryButtonLabel:function(){var e=Object(c.e)("AdminUsers|Delete user"),t=Object(c.e)("AdminUsers|Delete user and contributions");return this.deleteContributions?t:e},secondaryButtonLabel:function(){return Object(c.e)("AdminUsers|Block user")},canSubmit:function(){return this.enteredUsername===this.username}},methods:{onCancel:function(){this.enteredUsername=""},onSecondaryAction:function(){var e=this.$refs.form;e.action=this.blockUserUrl,this.$refs.method.value="put",e.submit()},onSubmit:function(){this.$refs.form.submit(),this.enteredUsername=""}}},b=n(2),f=Object(b.a)(m,function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("deprecated-modal",{attrs:{id:"delete-user-modal",title:e.title,text:e.text,"primary-button-label":e.primaryButtonLabel,"secondary-button-label":e.secondaryButtonLabel,"submit-disabled":!e.canSubmit,kind:"danger"},on:{submit:e.onSubmit,cancel:e.onCancel},scopedSlots:e._u([{key:"body",fn:function(t){return[n("p",{domProps:{innerHTML:e._s(t.text)}}),e._v(" "),n("p",{domProps:{innerHTML:e._s(e.confirmationTextLabel)}}),e._v(" "),n("form",{ref:"form",attrs:{action:e.deleteUserUrl,method:"post"}},[n("input",{ref:"method",attrs:{type:"hidden",name:"_method",value:"delete"}}),e._v(" "),n("input",{attrs:{type:"hidden",name:"authenticity_token"},domProps:{value:e.csrfToken}}),e._v(" "),n("input",{directives:[{name:"model",rawName:"v-model",value:e.enteredUsername,expression:"enteredUsername"}],staticClass:"form-control",attrs:{type:"text",name:"username","aria-labelledby":"input-label",autocomplete:"off"},domProps:{value:e.enteredUsername},on:{input:function(t){t.target.composing||(e.enteredUsername=t.target.value)}}})])]}},{key:"secondary-button",fn:function(t){return[n("button",{staticClass:"btn js-secondary-button btn-warning",attrs:{disabled:!e.canSubmit,type:"button","data-dismiss":"modal"},on:{click:e.onSecondaryAction}},[e._v("\n      "+e._s(e.secondaryButtonLabel)+"\n    ")])]}}])})},[],!1,null,null,null).exports;document.addEventListener("DOMContentLoaded",function(){a.default.use(o.a);var e=document.getElementById("delete-user-modal"),t=new a.default({el:e,data:{deleteUserUrl:"",blockUserUrl:"",deleteContributions:"",username:""},render:function(e){return e(f,{props:{deleteUserUrl:this.deleteUserUrl,blockUserUrl:this.blockUserUrl,deleteContributions:this.deleteContributions,username:this.username,csrfToken:i.a.token}})}});s()(document).on("shown.bs.modal",function(e){if(e.relatedTarget.classList.contains("delete-user-button")){var n=e.relatedTarget.dataset;t.deleteUserUrl=n.deleteUserUrl,t.blockUserUrl=n.blockUserUrl,t.deleteContributions=e.relatedTarget.hasAttribute("data-delete-contributions"),t.username=n.username}})})}},[[1270,0,1]]]);
//# sourceMappingURL=pages.admin.users.8a29274a.chunk.js.map