(this.webpackJsonp=this.webpackJsonp||[]).push([[122],{856:function(e,t,o){"use strict";o.r(t);var n=o(0),i=o.n(n);function c(e){if(e&&"selectedIndex"in e){var t=e.options[e.selectedIndex].dataset,o=t.name,n=t.visibility,i=t.visibilityLevel,c=t.showPath,a=t.editPath;document.querySelectorAll(".visibility-level-setting .form-check").forEach(function(e){var t=e.querySelector("input[type=radio]"),r=t?t.value:0,s=e.querySelector(".option-title"),l=s?s.innerText.toLowerCase():"";if(!e.classList.contains("restricted"))if(i<r){e.classList.add("disabled"),t.disabled=!0;var p=e.querySelector(".option-disabled-reason");p&&(p.innerHTML="This project cannot be "+l+' because the visibility of\n            <a href="'+c+'">'+o+"</a> is "+n+". To make this project\n            "+l+', you must first <a href="'+a+'">change the visibility</a>\n            of the parent group.')}else e.classList.remove("disabled"),t.disabled=!1})}}var a=o(11),r=!1,s=function(e){var t=e.parents(".toggle-import-form").find("#project_path");if(!r){var o=e.val().trim();if(0!==o.length){o=o.replace(/\/?(\.git\/?)?(\?.*)?(#.*)?$/,"");var n=/\/([^/]+)$/.exec(o);n&&t.val(n[1])}}},l=function(){var e=i()("#new_project"),t=i()("#project_import_url"),o=i()("#project_path"),n=i()(".template-button > input"),c=i()(".project-fields-form"),l=i()(".selected-template"),p=i()(".change-template"),d=i()(".selected-icon"),u=i()("#template-project-name #project_path"),v=i()(".push-new-project-tip"),m=i()(".project-templates-buttons");1===e.length&&(i()(".how_to_import_link").on("click",function(e){e.preventDefault(),i()(e.currentTarget).next(".modal").show()}),i()(".modal-header .close").on("click",function(){i()(".modal").hide()}),i()(".btn_import_gitlab_project").on("click",function(){var e=i()("a.btn_import_gitlab_project").attr("href");i()(".btn_import_gitlab_project").attr("href",e+"?namespace_id="+i()("#project_namespace_id").val()+"&path="+o.val())}),v&&v.removeAttr("rel").removeAttr("target").on("click",function(e){e.preventDefault()}).popover({title:v.data("title"),placement:"bottom",html:!0,content:i()(".push-new-project-tip-template").html()}).on("shown.bs.popover",function(){i()(document).on("click.popover touchstart.popover",function(e){0===i()(e.target).closest(".popover").length&&v.trigger("click")});var e=i()("#"+v.attr("aria-describedby")).find(".js-select-on-focus");Object(a.a)(e),e.focus()}).on("hide.bs.popover",function(){i()(document).off("click.popover touchstart.popover")}),n.on("change",function(){m.addClass("hidden"),c.addClass("selected"),d.empty();var e={rails:{text:"Ruby on Rails",icon:".template-option svg.icon-rails"},express:{text:"NodeJS Express",icon:".template-option svg.icon-node-express"},spring:{text:"Spring",icon:".template-option svg.icon-java-spring"}}[i()(this).val()];l.text(e.text),i()(e.icon).clone().addClass("d-block").appendTo(d),u.focus()}),p.on("click",function(){m.removeClass("hidden"),c.removeClass("selected"),n.prop("checked",!1)}),e.on("submit",function(){o.val(o.val().trim())}),o.on("keyup",function(){r=o.val().trim().length>0}),t.keyup(function(){return s(t)}))};document.addEventListener("DOMContentLoaded",function(){var e;(e=document.querySelector("select.js-select-namespace"))&&(i()(".select2.js-select-namespace").on("change",function(){return c(e)}),c(e)),l()})},943:function(e,t,o){o(31),o(57),e.exports=o(856)}},[[943,0,1,2]]]);
//# sourceMappingURL=pages.projects.new.1e0b3b26.chunk.js.map