{"version":3,"sources":["webpack:///./pages/profiles/show/emoji_menu.js","webpack:///./pages/profiles/show/index.js"],"names":["emoji_menu","EmojiMenu","emoji","toggleButtonSelector","menuClass","selectEmojiCallback","_classCallCheck","this","_this","_possibleConstructorReturn","__proto__","Object","getPrototypeOf","call","awards_handler","$emojiButton","awardUrl","selectedEmoji","callback","glEmojiTag","document","addEventListener","toggleEmojiMenuButton","querySelector","statusEmojiField","getElementById","statusMessageField","findNoEmojiPlaceholder","removeStatusEmoji","statusEmoji","remove","emojiTag","value","classList","add","innerHTML","gfm_auto_complete","setup","jquery_default","emojis","__webpack_require__","e","then","bind","Emoji","bindEvents","catch","flash"],"mappings":"wbAiBAA,cAdE,SAAAC,EAAYC,EAAOC,EAAsBC,EAAWC,gGAAqBC,CAAAC,KAAAN,GAAA,IAAAO,mKAAAC,CAAAF,MAAAN,EAAAS,WAAAC,OAAAC,eAAAX,IAAAY,KAAAN,KACjEL,IADiE,OAGvEM,EAAKH,oBAAsBA,EAC3BG,EAAKL,qBAAuBA,EAC5BK,EAAKJ,UAAYA,EALsDI,qUADnDM,EAAA,2CASZC,EAAcC,EAAUC,EAAeC,GAC/CX,KAAKF,oBAAoBY,EAAeV,KAAKL,MAAMiB,WAAWF,IAC9DC,aCRJE,SAASC,iBAAiB,mBAAoB,WAC5C,IACMC,EAAwBF,SAASG,cADD,yBAEhCC,EAAmBJ,SAASK,eAAe,yBAC3CC,EAAqBN,SAASK,eAAe,2BAC7CE,EAAyB,kBAAMP,SAASK,eAAe,4BAEvDG,EAAoB,WACxB,IAAMC,EAAcP,EAAsBC,cAAc,YACpDM,GACFA,EAAYC,UAIVzB,EAAsB,SAACH,EAAO6B,GAClCP,EAAiBQ,MAAQ9B,EACzByB,IAAyBM,UAAUC,IAAI,UACvCN,IACAN,EAAsBa,WAAaJ,GAGZX,SAASK,eAAe,+BAChCJ,iBAAiB,QAAS,WACzCG,EAAiBQ,MAAQ,GACzBN,EAAmBM,MAAQ,GAC3BJ,IACAD,IAAyBM,UAAUH,OAAO,aAGlB,IAAIM,EAAA,GACZC,MAAMC,IAAEZ,IAAuBa,QAAQ,IAEzDC,EAAAC,EAAA,IAAAC,KAAAF,EAAAG,KAAA,WACGD,KAAK,SAAAE,GACc,IAAI5C,EACpB4C,EAlCgC,wBAoChC,uBACAvC,GAEQwC,eAEXC,MAAM,kBAAMnC,OAAAoC,EAAA,EAAApC,CAAY","file":"pages.profiles.show.4b850f26.chunk.js","sourcesContent":["import { AwardsHandler } from '~/awards_handler';\n\nclass EmojiMenu extends AwardsHandler {\n  constructor(emoji, toggleButtonSelector, menuClass, selectEmojiCallback) {\n    super(emoji);\n\n    this.selectEmojiCallback = selectEmojiCallback;\n    this.toggleButtonSelector = toggleButtonSelector;\n    this.menuClass = menuClass;\n  }\n\n  postEmoji($emojiButton, awardUrl, selectedEmoji, callback) {\n    this.selectEmojiCallback(selectedEmoji, this.emoji.glEmojiTag(selectedEmoji));\n    callback();\n  }\n}\n\nexport default EmojiMenu;\n","import $ from 'jquery';\nimport createFlash from '~/flash';\nimport GfmAutoComplete from '~/gfm_auto_complete';\nimport EmojiMenu from './emoji_menu';\n\ndocument.addEventListener('DOMContentLoaded', () => {\n  const toggleEmojiMenuButtonSelector = '.js-toggle-emoji-menu';\n  const toggleEmojiMenuButton = document.querySelector(toggleEmojiMenuButtonSelector);\n  const statusEmojiField = document.getElementById('js-status-emoji-field');\n  const statusMessageField = document.getElementById('js-status-message-field');\n  const findNoEmojiPlaceholder = () => document.getElementById('js-no-emoji-placeholder');\n\n  const removeStatusEmoji = () => {\n    const statusEmoji = toggleEmojiMenuButton.querySelector('gl-emoji');\n    if (statusEmoji) {\n      statusEmoji.remove();\n    }\n  };\n\n  const selectEmojiCallback = (emoji, emojiTag) => {\n    statusEmojiField.value = emoji;\n    findNoEmojiPlaceholder().classList.add('hidden');\n    removeStatusEmoji();\n    toggleEmojiMenuButton.innerHTML += emojiTag;\n  };\n\n  const clearEmojiButton = document.getElementById('js-clear-user-status-button');\n  clearEmojiButton.addEventListener('click', () => {\n    statusEmojiField.value = '';\n    statusMessageField.value = '';\n    removeStatusEmoji();\n    findNoEmojiPlaceholder().classList.remove('hidden');\n  });\n\n  const emojiAutocomplete = new GfmAutoComplete();\n  emojiAutocomplete.setup($(statusMessageField), { emojis: true });\n\n  import(/* webpackChunkName: 'emoji' */ '~/emoji')\n    .then(Emoji => {\n      const emojiMenu = new EmojiMenu(\n        Emoji,\n        toggleEmojiMenuButtonSelector,\n        'js-status-emoji-menu',\n        selectEmojiCallback,\n      );\n      emojiMenu.bindEvents();\n    })\n    .catch(() => createFlash('Failed to load emoji list!'));\n});\n"],"sourceRoot":""}