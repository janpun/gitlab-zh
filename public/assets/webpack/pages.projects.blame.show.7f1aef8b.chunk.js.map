{"version":3,"sources":["webpack:///./pages/projects/blame/show/index.js","webpack:///./new_commit_form.js","webpack:///./blob/file_template_selector.js","webpack:///./blob/template_selectors/type_selector.js","webpack:///./blob/template_selectors/ci_yaml_selector.js","webpack:///./blob/template_selectors/dockerfile_selector.js","webpack:///./blob/template_selectors/gitignore_selector.js","webpack:///./blob/template_selectors/license_selector.js","webpack:///./blob/file_template_mediator.js","webpack:///./blob_edit/edit_blob.js","webpack:///./blob/blob_file_dropzone.js","webpack:///./blob_edit/blob_bundle.js","webpack:///./blob/blob_fork_suggestion.js","webpack:///./line_highlighter.js","webpack:///./blob/blob_line_permalink_updater.js","webpack:///./shortcuts_blob.js","webpack:///./pages/projects/init_blob.js","webpack:///./lib/utils/constants.js"],"names":["document","addEventListener","_pages_projects_init_blob__WEBPACK_IMPORTED_MODULE_0__","NewCommitForm","form","_classCallCheck","this","renderDestination","bind","branchName","find","originalBranch","createMergeRequest","createMergeRequestContainer","keyup","different","val","show","wasDifferent","prop","hide","FileTemplateSelector","mediator","$dropdown","$wrapper","cfg","config","jquery_default","dropdown","wrapper","$loadingIcon","$dropdownToggleText","initDropdown","init","removeClass","addClass","hasClass","text","options","query","e","data","preventDefault","selectTemplateFile","opts","selectedObj","name","reportSelection","FileTemplateTypeSelector","_ref","dropdownData","type_selector_classCallCheck","_this","_possibleConstructorReturn","__proto__","Object","getPrototypeOf","call","file_template_selector","_this2","glDropdown","filterable","selectable","toggleLabel","item","clicked","selectTemplateTypeOptions","BlobCiYamlSelector","ci_yaml_selector_classCallCheck","ci_yaml_selector_possibleConstructorReturn","key","pattern","endpoint","api","gitlabCiYml","search","fields","reportSelectionName","DockerfileSelector","dockerfile_selector_classCallCheck","dockerfile_selector_possibleConstructorReturn","dockerfileYml","BlobGitignoreSelector","gitignore_selector_classCallCheck","gitignore_selector_possibleConstructorReturn","gitignoreText","BlobLicenseSelector","license_selector_classCallCheck","license_selector_possibleConstructorReturn","licenseText","el","$el","project","fullname","id","FileTemplateMediator","editor","currentAction","file_template_mediator_classCallCheck","initTemplateSelectors","initTemplateTypeSelector","initDomElements","initDropdowns","initPageEvents","templateSelectors","gitignore_selector","ci_yaml_selector","dockerfile_selector","license_selector","map","TemplateSelectorClass","typeSelector","type_selector","templateSelector","$templatesMenu","$undoMenu","$fileEditor","$undoBtn","$templateSelectors","$filenameInput","$fileContent","$commitForm","$navLinks","hideTemplateSelectorMenu","displayMatchedTemplateSelector","listenForFilenameInput","prepFileContentForSubmit","listenForPreviewMode","on","_this3","submit","getValue","_this4","hash","target","href","split","isHidden","showTemplateSelectorMenu","forEach","selector","setToggleText","cacheToggleText","selectTemplateType","_this5","renderLoading","destroyUndoMenu","fetchFileTemplate","then","file","showUndoMenu","setEditorContent","setFilename","renderLoaded","catch","err","flash","_this6","currentInput","getFilename","test","apiCall","Promise","resolve","resolveFile","newValue","content","setValue","focus","navigateFileStart","_this7","restoreFromCache","cacheFileContents","off","cachedToggleText","getTemplateSelectorToggleText","cachedContent","cachedFilename","setTemplateSelectorToggleText","getToggleText","trigger","selected","EditBlob","assetsPath","aceMode","edit_blob_classCallCheck","configureAceEditor","initModePanesAndLinks","initSoftWrap","initFileSelectors","ace","set","loadModule","edit","$blockScrolling","Infinity","getSession","setMode","fileTemplateMediator","file_template_mediator","$editModePanes","$editModeLinks","editModeLinkClickHandler","currentLink","paneId","attr","currentPane","filter","parent","fadeIn","$toggleButton","axios_utils","post","empty","append","renderGFM","locale","isSoftWrapped","toggleSoftWrap","toggleClass","setUseWrapMode","toggleLoading","$icon","loading","disable","constants","enable","dropzone_default","a","autoDiscover","BlobFileDropzone","method","blob_file_dropzone_classCallCheck","formDropzone","submitButton","submitButtonLoadingIcon","dropzoneMessage","dropzone","autoProcessQueue","url","clickable","uploadMultiple","paramName","maxFilesize","gon","max_file_size","parallelUploads","maxFiles","addRemoveLinks","previewsContainer","headers","csrf","html","header","response","modal","url_utility","filePath","removeFile","xhr","formData","error","errorMessage","stripped","stopPropagation","getQueuedFiles","length","alert","processQueue","editBlobForm","uploadBlobForm","deleteBlobForm","urlRoot","blobLanguage","edit_blob","new_commit_form","blob_file_dropzone","window","gl","utils","disableButtonIfEmptyField","defaults","openButtons","forkButtons","cancelButtons","suggestionSections","actionTextPieces","BlobForkSuggestion","elementMap","assign","onOpenButtonClick","onCancelButtonClick","bindEvents","jquery__WEBPACK_IMPORTED_MODULE_0___default","forkPath","action","arguments","undefined","currentTarget","showSuggestionSection","hideSuggestionSection","__webpack_exports__","jquery__WEBPACK_IMPORTED_MODULE_0__","__webpack_require__","n","LineHighlighter","highlightLineClass","fileHolderSelector","scrollFileHolder","location","_hash","setHash","highlightLine","clickHandler","highlightHash","prototype","$fileHolder","newHash","range","clearHighlight","hashToRange","highlightRange","lineSelector","scrollOptions","offset","scrollTo","event","current","lineNumber","closest","shiftKey","matches","match","parseInt","results","ref","reverse","push","firstLineNumber","lastLineNumber","__setLocationHash__","value","history","pushState","title","lineNumberRe","blob_line_permalink_updater_updateLineNumbersOnBlobPermalinks","linksToUpdate","hashUrlString","concat","Array","slice","permalinkButton","baseHref","getAttribute","setAttribute","blob_line_permalink_updater","blobContentHolder","lineNumberSelector","elementsToUpdate","updateBlameAndBlobPermalinkCb","setTimeout","skipResetBindings","fileBlobPermalinkUrl","ShortcutsBlob","mousetrap_default","moveToFilePermalink","shortcuts","visitUrl","line_highlighter","querySelector","querySelectorAll","fileBlobPermalinkUrlElement","shortcuts_navigation","shortcuts_blob","blob_fork_suggestion","blob_bundle","BYTES_IN_KIB","HIDDEN_CLASS"],"mappings":"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","file":"pages.projects.blame.show.7f1aef8b.chunk.js","sourcesContent":["import initBlob from '~/pages/projects/init_blob';\n\ndocument.addEventListener('DOMContentLoaded', initBlob);\n","/* eslint-disable no-var, no-return-assign */\nexport default class NewCommitForm {\n  constructor(form) {\n    this.form = form;\n    this.renderDestination = this.renderDestination.bind(this);\n    this.branchName = form.find('.js-branch-name');\n    this.originalBranch = form.find('.js-original-branch');\n    this.createMergeRequest = form.find('.js-create-merge-request');\n    this.createMergeRequestContainer = form.find(\n      '.js-create-merge-request-container',\n    );\n    this.branchName.keyup(this.renderDestination);\n    this.renderDestination();\n  }\n  renderDestination() {\n    var different;\n    different = this.branchName.val() !== this.originalBranch.val();\n    if (different) {\n      this.createMergeRequestContainer.show();\n      if (!this.wasDifferent) {\n        this.createMergeRequest.prop('checked', true);\n      }\n    } else {\n      this.createMergeRequestContainer.hide();\n      this.createMergeRequest.prop('checked', false);\n    }\n    return (this.wasDifferent = different);\n  }\n}\n","import $ from 'jquery';\n\nexport default class FileTemplateSelector {\n  constructor(mediator) {\n    this.mediator = mediator;\n    this.$dropdown = null;\n    this.$wrapper = null;\n  }\n\n  init() {\n    const cfg = this.config;\n\n    this.$dropdown = $(cfg.dropdown);\n    this.$wrapper = $(cfg.wrapper);\n    this.$loadingIcon = this.$wrapper.find('.fa-chevron-down');\n    this.$dropdownToggleText = this.$wrapper.find('.dropdown-toggle-text');\n\n    this.initDropdown();\n  }\n\n  show() {\n    if (this.$dropdown === null) {\n      this.init();\n    }\n\n    this.$wrapper.removeClass('hidden');\n  }\n\n  hide() {\n    if (this.$dropdown !== null) {\n      this.$wrapper.addClass('hidden');\n    }\n  }\n\n  isHidden() {\n    return this.$wrapper.hasClass('hidden');\n  }\n\n  getToggleText() {\n    return this.$dropdownToggleText.text();\n  }\n\n  setToggleText(text) {\n    this.$dropdownToggleText.text(text);\n  }\n\n  renderLoading() {\n    this.$loadingIcon\n      .addClass('fa-spinner fa-spin')\n      .removeClass('fa-chevron-down');\n  }\n\n  renderLoaded() {\n    this.$loadingIcon\n      .addClass('fa-chevron-down')\n      .removeClass('fa-spinner fa-spin');\n  }\n\n  reportSelection(options) {\n    const { query, e, data } = options;\n    e.preventDefault();\n    return this.mediator.selectTemplateFile(this, query, data);\n  }\n\n  reportSelectionName(options) {\n    const opts = options;\n    opts.query = options.selectedObj.name;\n\n    this.reportSelection(opts);\n  }\n}\n","import FileTemplateSelector from '../file_template_selector';\n\nexport default class FileTemplateTypeSelector extends FileTemplateSelector {\n  constructor({ mediator, dropdownData }) {\n    super(mediator);\n    this.mediator = mediator;\n    this.config = {\n      dropdown: '.js-template-type-selector',\n      wrapper: '.js-template-type-selector-wrap',\n      dropdownData,\n    };\n  }\n\n  initDropdown() {\n    this.$dropdown.glDropdown({\n      data: this.config.dropdownData,\n      filterable: false,\n      selectable: true,\n      toggleLabel: item => item.name,\n      clicked: options => this.mediator.selectTemplateTypeOptions(options),\n      text: item => item.name,\n    });\n  }\n\n}\n","import Api from '../../api';\n\nimport FileTemplateSelector from '../file_template_selector';\n\nexport default class BlobCiYamlSelector extends FileTemplateSelector {\n  constructor({ mediator }) {\n    super(mediator);\n    this.config = {\n      key: 'gitlab-ci-yaml',\n      name: '.gitlab-ci.yml',\n      pattern: /(.gitlab-ci.yml)/,\n      endpoint: Api.gitlabCiYml,\n      dropdown: '.js-gitlab-ci-yml-selector',\n      wrapper: '.js-gitlab-ci-yml-selector-wrap',\n    };\n  }\n\n  initDropdown() {\n    // maybe move to super class as well\n    this.$dropdown.glDropdown({\n      data: this.$dropdown.data('data'),\n      filterable: true,\n      selectable: true,\n      toggleLabel: item => item.name,\n      search: {\n        fields: ['name'],\n      },\n      clicked: options => this.reportSelectionName(options),\n      text: item => item.name,\n    });\n  }\n}\n","import Api from '../../api';\n\nimport FileTemplateSelector from '../file_template_selector';\n\nexport default class DockerfileSelector extends FileTemplateSelector {\n  constructor({ mediator }) {\n    super(mediator);\n    this.config = {\n      key: 'dockerfile',\n      name: 'Dockerfile',\n      pattern: /(Dockerfile)/,\n      endpoint: Api.dockerfileYml,\n      dropdown: '.js-dockerfile-selector',\n      wrapper: '.js-dockerfile-selector-wrap',\n    };\n  }\n\n  initDropdown() {\n    // maybe move to super class as well\n    this.$dropdown.glDropdown({\n      data: this.$dropdown.data('data'),\n      filterable: true,\n      selectable: true,\n      toggleLabel: item => item.name,\n      search: {\n        fields: ['name'],\n      },\n      clicked: options => this.reportSelectionName(options),\n      text: item => item.name,\n    });\n  }\n}\n","import Api from '../../api';\n\nimport FileTemplateSelector from '../file_template_selector';\n\nexport default class BlobGitignoreSelector extends FileTemplateSelector {\n  constructor({ mediator }) {\n    super(mediator);\n    this.config = {\n      key: 'gitignore',\n      name: '.gitignore',\n      pattern: /(.gitignore)/,\n      endpoint: Api.gitignoreText,\n      dropdown: '.js-gitignore-selector',\n      wrapper: '.js-gitignore-selector-wrap',\n    };\n  }\n\n  initDropdown() {\n    this.$dropdown.glDropdown({\n      data: this.$dropdown.data('data'),\n      filterable: true,\n      selectable: true,\n      toggleLabel: item => item.name,\n      search: {\n        fields: ['name'],\n      },\n      clicked: options => this.reportSelectionName(options),\n      text: item => item.name,\n    });\n  }\n}\n","import Api from '../../api';\n\nimport FileTemplateSelector from '../file_template_selector';\n\nexport default class BlobLicenseSelector extends FileTemplateSelector {\n  constructor({ mediator }) {\n    super(mediator);\n    this.config = {\n      key: 'license',\n      name: 'LICENSE',\n      pattern: /^(.+\\/)?(licen[sc]e|copying)($|\\.)/i,\n      endpoint: Api.licenseText,\n      dropdown: '.js-license-selector',\n      wrapper: '.js-license-selector-wrap',\n    };\n  }\n\n  initDropdown() {\n    this.$dropdown.glDropdown({\n      data: this.$dropdown.data('data'),\n      filterable: true,\n      selectable: true,\n      toggleLabel: item => item.name,\n      search: {\n        fields: ['name'],\n      },\n      clicked: (options) => {\n        const { e } = options;\n        const el = options.$el;\n        const query = options.selectedObj;\n\n        const data = {\n          project: this.$dropdown.data('project'),\n          fullname: this.$dropdown.data('fullname'),\n        };\n\n        this.reportSelection({\n          query: query.id,\n          el,\n          e,\n          data,\n        });\n      },\n      text: item => item.name,\n    });\n  }\n}\n","/* eslint-disable class-methods-use-this */\n\nimport $ from 'jquery';\nimport Flash from '../flash';\nimport FileTemplateTypeSelector from './template_selectors/type_selector';\nimport BlobCiYamlSelector from './template_selectors/ci_yaml_selector';\nimport DockerfileSelector from './template_selectors/dockerfile_selector';\nimport GitignoreSelector from './template_selectors/gitignore_selector';\nimport LicenseSelector from './template_selectors/license_selector';\n\nexport default class FileTemplateMediator {\n  constructor({ editor, currentAction }) {\n    this.editor = editor;\n    this.currentAction = currentAction;\n\n    this.initTemplateSelectors();\n    this.initTemplateTypeSelector();\n    this.initDomElements();\n    this.initDropdowns();\n    this.initPageEvents();\n  }\n\n  initTemplateSelectors() {\n    // Order dictates template type dropdown item order\n    this.templateSelectors = [\n      GitignoreSelector,\n      BlobCiYamlSelector,\n      DockerfileSelector,\n      LicenseSelector,\n    ].map(TemplateSelectorClass => new TemplateSelectorClass({ mediator: this }));\n  }\n\n  initTemplateTypeSelector() {\n    this.typeSelector = new FileTemplateTypeSelector({\n      mediator: this,\n      dropdownData: this.templateSelectors\n        .map((templateSelector) => {\n          const cfg = templateSelector.config;\n\n          return {\n            name: cfg.name,\n            key: cfg.key,\n          };\n        }),\n    });\n  }\n\n  initDomElements() {\n    const $templatesMenu = $('.template-selectors-menu');\n    const $undoMenu = $templatesMenu.find('.template-selectors-undo-menu');\n    const $fileEditor = $('.file-editor');\n\n    this.$templatesMenu = $templatesMenu;\n    this.$undoMenu = $undoMenu;\n    this.$undoBtn = $undoMenu.find('button');\n    this.$templateSelectors = $templatesMenu.find('.template-selector-dropdowns-wrap');\n    this.$filenameInput = $fileEditor.find('.js-file-path-name-input');\n    this.$fileContent = $fileEditor.find('#file-content');\n    this.$commitForm = $fileEditor.find('form');\n    this.$navLinks = $fileEditor.find('.nav-links');\n  }\n\n  initDropdowns() {\n    if (this.currentAction === 'create') {\n      this.typeSelector.show();\n    } else {\n      this.hideTemplateSelectorMenu();\n    }\n\n    this.displayMatchedTemplateSelector();\n  }\n\n  initPageEvents() {\n    this.listenForFilenameInput();\n    this.prepFileContentForSubmit();\n    this.listenForPreviewMode();\n  }\n\n  listenForFilenameInput() {\n    this.$filenameInput.on('keyup blur', () => {\n      this.displayMatchedTemplateSelector();\n    });\n  }\n\n  prepFileContentForSubmit() {\n    this.$commitForm.submit(() => {\n      this.$fileContent.val(this.editor.getValue());\n    });\n  }\n\n  listenForPreviewMode() {\n    this.$navLinks.on('click', 'a', (e) => {\n      const urlPieces = e.target.href.split('#');\n      const hash = urlPieces[1];\n      if (hash === 'preview') {\n        this.hideTemplateSelectorMenu();\n      } else if (hash === 'editor' && !this.typeSelector.isHidden()) {\n        this.showTemplateSelectorMenu();\n      }\n    });\n  }\n\n  selectTemplateType(item, e) {\n    if (e) {\n      e.preventDefault();\n    }\n\n    this.templateSelectors.forEach((selector) => {\n      if (selector.config.key === item.key) {\n        selector.show();\n      } else {\n        selector.hide();\n      }\n    });\n\n    this.typeSelector.setToggleText(item.name);\n\n    this.cacheToggleText();\n  }\n\n  selectTemplateTypeOptions(options) {\n    this.selectTemplateType(options.selectedObj, options.e);\n  }\n\n  selectTemplateFile(selector, query, data) {\n    selector.renderLoading();\n    // in case undo menu is already already there\n    this.destroyUndoMenu();\n    this.fetchFileTemplate(selector.config.endpoint, query, data)\n      .then((file) => {\n        this.showUndoMenu();\n        this.setEditorContent(file);\n        this.setFilename(selector.config.name);\n        selector.renderLoaded();\n      })\n      .catch(err => new Flash(`An error occurred while fetching the template: ${err}`));\n  }\n\n  displayMatchedTemplateSelector() {\n    const currentInput = this.getFilename();\n    this.templateSelectors.forEach((selector) => {\n      const match = selector.config.pattern.test(currentInput);\n\n      if (match) {\n        this.typeSelector.show();\n        this.selectTemplateType(selector.config);\n        this.showTemplateSelectorMenu();\n      }\n    });\n  }\n\n  fetchFileTemplate(apiCall, query, data) {\n    return new Promise((resolve) => {\n      const resolveFile = file => resolve(file);\n\n      if (!data) {\n        apiCall(query, resolveFile);\n      } else {\n        apiCall(query, data, resolveFile);\n      }\n    });\n  }\n\n  setEditorContent(file) {\n    if (!file && file !== '') return;\n\n    const newValue = file.content || file;\n\n    this.editor.setValue(newValue, 1);\n\n    this.editor.focus();\n\n    this.editor.navigateFileStart();\n  }\n\n  findTemplateSelectorByKey(key) {\n    return this.templateSelectors.find(selector => selector.config.key === key);\n  }\n\n  showUndoMenu() {\n    this.$undoMenu.removeClass('hidden');\n\n    this.$undoBtn.on('click', () => {\n      this.restoreFromCache();\n      this.destroyUndoMenu();\n    });\n  }\n\n  destroyUndoMenu() {\n    this.cacheFileContents();\n    this.cacheToggleText();\n    this.$undoMenu.addClass('hidden');\n    this.$undoBtn.off('click');\n  }\n\n  hideTemplateSelectorMenu() {\n    this.$templatesMenu.hide();\n  }\n\n  showTemplateSelectorMenu() {\n    this.$templatesMenu.show();\n  }\n\n  cacheToggleText() {\n    this.cachedToggleText = this.getTemplateSelectorToggleText();\n  }\n\n  cacheFileContents() {\n    this.cachedContent = this.editor.getValue();\n    this.cachedFilename = this.getFilename();\n  }\n\n  restoreFromCache() {\n    this.setEditorContent(this.cachedContent);\n    this.setFilename(this.cachedFilename);\n    this.setTemplateSelectorToggleText();\n  }\n\n  getTemplateSelectorToggleText() {\n    return this.$templateSelectors\n      .find('.js-template-selector-wrap:visible .dropdown-toggle-text')\n      .text();\n  }\n\n  setTemplateSelectorToggleText() {\n    return this.$templateSelectors\n      .find('.js-template-selector-wrap:visible .dropdown-toggle-text')\n      .text(this.cachedToggleText);\n  }\n\n  getTypeSelectorToggleText() {\n    return this.typeSelector.getToggleText();\n  }\n\n  getFilename() {\n    return this.$filenameInput.val();\n  }\n\n  setFilename(name) {\n    this.$filenameInput.val(name).trigger('change');\n  }\n\n  getSelected() {\n    return this.templateSelectors.find(selector => selector.selected);\n  }\n}\n","/* global ace */\n\nimport $ from 'jquery';\nimport axios from '~/lib/utils/axios_utils';\nimport createFlash from '~/flash';\nimport { __ } from '~/locale';\nimport TemplateSelectorMediator from '../blob/file_template_mediator';\n\nexport default class EditBlob {\n  constructor(assetsPath, aceMode, currentAction) {\n    this.configureAceEditor(aceMode, assetsPath);\n    this.initModePanesAndLinks();\n    this.initSoftWrap();\n    this.initFileSelectors(currentAction);\n  }\n\n  configureAceEditor(aceMode, assetsPath) {\n    ace.config.set('modePath', `${assetsPath}/ace`);\n    ace.config.loadModule('ace/ext/searchbox');\n\n    this.editor = ace.edit('editor');\n\n    // This prevents warnings re: automatic scrolling being logged\n    this.editor.$blockScrolling = Infinity;\n\n    this.editor.focus();\n\n    if (aceMode) {\n      this.editor.getSession().setMode(`ace/mode/${aceMode}`);\n    }\n  }\n\n  initFileSelectors(currentAction) {\n    this.fileTemplateMediator = new TemplateSelectorMediator({\n      currentAction,\n      editor: this.editor,\n    });\n  }\n\n  initModePanesAndLinks() {\n    this.$editModePanes = $('.js-edit-mode-pane');\n    this.$editModeLinks = $('.js-edit-mode a');\n    this.$editModeLinks.on('click', e => this.editModeLinkClickHandler(e));\n  }\n\n  editModeLinkClickHandler(e) {\n    e.preventDefault();\n\n    const currentLink = $(e.target);\n    const paneId = currentLink.attr('href');\n    const currentPane = this.$editModePanes.filter(paneId);\n\n    this.$editModeLinks.parent().removeClass('active hover');\n\n    currentLink.parent().addClass('active hover');\n\n    this.$editModePanes.hide();\n\n    currentPane.fadeIn(200);\n\n    if (paneId === '#preview') {\n      this.$toggleButton.hide();\n      axios.post(currentLink.data('previewUrl'), {\n        content: this.editor.getValue(),\n      })\n      .then(({ data }) => {\n        currentPane.empty().append(data);\n        currentPane.renderGFM();\n      })\n      .catch(() => createFlash(__('An error occurred previewing the blob')));\n    }\n\n    this.$toggleButton.show();\n\n    return this.editor.focus();\n  }\n\n  initSoftWrap() {\n    this.isSoftWrapped = false;\n    this.$toggleButton = $('.soft-wrap-toggle');\n    this.$toggleButton.on('click', () => this.toggleSoftWrap());\n  }\n\n  toggleSoftWrap() {\n    this.isSoftWrapped = !this.isSoftWrapped;\n    this.$toggleButton.toggleClass('soft-wrap-active', this.isSoftWrapped);\n    this.editor.getSession().setUseWrapMode(this.isSoftWrapped);\n  }\n}\n","/* eslint-disable func-names, object-shorthand, prefer-arrow-callback */\n\nimport $ from 'jquery';\nimport Dropzone from 'dropzone';\nimport { visitUrl } from '../lib/utils/url_utility';\nimport { HIDDEN_CLASS } from '../lib/utils/constants';\nimport csrf from '../lib/utils/csrf';\n\nDropzone.autoDiscover = false;\n\nfunction toggleLoading($el, $icon, loading) {\n  if (loading) {\n    $el.disable();\n    $icon.removeClass(HIDDEN_CLASS);\n  } else {\n    $el.enable();\n    $icon.addClass(HIDDEN_CLASS);\n  }\n}\nexport default class BlobFileDropzone {\n  constructor(form, method) {\n    const formDropzone = form.find('.dropzone');\n    const submitButton = form.find('#submit-all');\n    const submitButtonLoadingIcon = submitButton.find('.js-loading-icon');\n    const dropzoneMessage = form.find('.dz-message');\n    Dropzone.autoDiscover = false;\n\n    const dropzone = formDropzone.dropzone({\n      autoDiscover: false,\n      autoProcessQueue: false,\n      url: form.attr('action'),\n      // Rails uses a hidden input field for PUT\n      // http://stackoverflow.com/questions/21056482/how-to-set-method-put-in-form-tag-in-rails\n      method: method,\n      clickable: true,\n      uploadMultiple: false,\n      paramName: 'file',\n      maxFilesize: gon.max_file_size || 10,\n      parallelUploads: 1,\n      maxFiles: 1,\n      addRemoveLinks: true,\n      previewsContainer: '.dropzone-previews',\n      headers: csrf.headers,\n      init: function () {\n        this.on('addedfile', function () {\n          toggleLoading(submitButton, submitButtonLoadingIcon, false);\n          dropzoneMessage.addClass(HIDDEN_CLASS);\n          $('.dropzone-alerts').html('').hide();\n        });\n        this.on('removedfile', function () {\n          toggleLoading(submitButton, submitButtonLoadingIcon, false);\n          dropzoneMessage.removeClass(HIDDEN_CLASS);\n        });\n        this.on('success', function (header, response) {\n          $('#modal-upload-blob').modal('hide');\n          visitUrl(response.filePath);\n        });\n        this.on('maxfilesexceeded', function (file) {\n          dropzoneMessage.addClass(HIDDEN_CLASS);\n          this.removeFile(file);\n        });\n        this.on('sending', function (file, xhr, formData) {\n          formData.append('branch_name', form.find('.js-branch-name').val());\n          formData.append('create_merge_request', form.find('.js-create-merge-request').val());\n          formData.append('commit_message', form.find('.js-commit-message').val());\n        });\n      },\n      // Override behavior of adding error underneath preview\n      error: function (file, errorMessage) {\n        const stripped = $('<div/>').html(errorMessage).text();\n        $('.dropzone-alerts').html(`Error uploading file: \"${stripped}\"`).show();\n        this.removeFile(file);\n      },\n    });\n\n    submitButton.on('click', (e) => {\n      e.preventDefault();\n      e.stopPropagation();\n      if (dropzone[0].dropzone.getQueuedFiles().length === 0) {\n        // eslint-disable-next-line no-alert\n        alert('Please select a file');\n        return false;\n      }\n      toggleLoading(submitButton, submitButtonLoadingIcon, true);\n      dropzone[0].dropzone.processQueue();\n      return false;\n    });\n  }\n}\n","/* eslint-disable no-new */\n\nimport $ from 'jquery';\nimport NewCommitForm from '../new_commit_form';\nimport EditBlob from './edit_blob';\nimport BlobFileDropzone from '../blob/blob_file_dropzone';\n\nexport default () => {\n  const editBlobForm = $('.js-edit-blob-form');\n  const uploadBlobForm = $('.js-upload-blob-form');\n  const deleteBlobForm = $('.js-delete-blob-form');\n\n  if (editBlobForm.length) {\n    const urlRoot = editBlobForm.data('relativeUrlRoot');\n    const assetsPath = editBlobForm.data('assetsPrefix');\n    const blobLanguage = editBlobForm.data('blobLanguage');\n    const currentAction = $('.js-file-title').data('currentAction');\n\n    new EditBlob(`${urlRoot}${assetsPath}`, blobLanguage, currentAction);\n    new NewCommitForm(editBlobForm);\n  }\n\n  if (uploadBlobForm.length) {\n    const method = uploadBlobForm.data('method');\n\n    new BlobFileDropzone(uploadBlobForm, method);\n    new NewCommitForm(uploadBlobForm);\n\n    window.gl.utils.disableButtonIfEmptyField(\n      uploadBlobForm.find('.js-commit-message'),\n      '.btn-upload-file',\n    );\n  }\n\n  if (deleteBlobForm.length) {\n    new NewCommitForm(deleteBlobForm);\n  }\n};\n","import $ from 'jquery';\n\nconst defaults = {\n  // Buttons that will show the `suggestionSections`\n  // has `data-fork-path`, and `data-action`\n  openButtons: [],\n  // Update the href(from `openButton` -> `data-fork-path`)\n  // whenever a `openButton` is clicked\n  forkButtons: [],\n  // Buttons to hide the `suggestionSections`\n  cancelButtons: [],\n  // Section to show/hide\n  suggestionSections: [],\n  // Pieces of text that need updating depending on the action, `edit`, `replace`, `delete`\n  actionTextPieces: [],\n};\n\nclass BlobForkSuggestion {\n  constructor(options) {\n    this.elementMap = Object.assign({}, defaults, options);\n    this.onOpenButtonClick = this.onOpenButtonClick.bind(this);\n    this.onCancelButtonClick = this.onCancelButtonClick.bind(this);\n  }\n\n  init() {\n    this.bindEvents();\n\n    return this;\n  }\n\n  bindEvents() {\n    $(this.elementMap.openButtons).on('click', this.onOpenButtonClick);\n    $(this.elementMap.cancelButtons).on('click', this.onCancelButtonClick);\n  }\n\n  showSuggestionSection(forkPath, action = 'edit') {\n    $(this.elementMap.suggestionSections).removeClass('hidden');\n    $(this.elementMap.forkButtons).attr('href', forkPath);\n    $(this.elementMap.actionTextPieces).text(action);\n  }\n\n  hideSuggestionSection() {\n    $(this.elementMap.suggestionSections).addClass('hidden');\n  }\n\n  onOpenButtonClick(e) {\n    const forkPath = $(e.currentTarget).attr('data-fork-path');\n    const action = $(e.currentTarget).attr('data-action');\n    this.showSuggestionSection(forkPath, action);\n  }\n\n  onCancelButtonClick() {\n    this.hideSuggestionSection();\n  }\n\n  destroy() {\n    $(this.elementMap.openButtons).off('click', this.onOpenButtonClick);\n    $(this.elementMap.cancelButtons).off('click', this.onCancelButtonClick);\n  }\n}\n\nexport default BlobForkSuggestion;\n","/* eslint-disable func-names, no-var, no-underscore-dangle, no-param-reassign, prefer-template, quotes, comma-dangle, consistent-return, one-var, one-var-declaration-per-line, no-else-return, max-len */\n\nimport $ from 'jquery';\n\n// LineHighlighter\n//\n// Handles single- and multi-line selection and highlight for blob views.\n//\n//\n// ### Example Markup\n//\n//   <div id=\"blob-content-holder\">\n//     <div class=\"file-content\">\n//       <div class=\"line-numbers\">\n//         <a href=\"#L1\" id=\"L1\" data-line-number=\"1\">1</a>\n//         <a href=\"#L2\" id=\"L2\" data-line-number=\"2\">2</a>\n//         <a href=\"#L3\" id=\"L3\" data-line-number=\"3\">3</a>\n//         <a href=\"#L4\" id=\"L4\" data-line-number=\"4\">4</a>\n//         <a href=\"#L5\" id=\"L5\" data-line-number=\"5\">5</a>\n//       </div>\n//       <pre class=\"code highlight\">\n//         <code>\n//           <span id=\"LC1\" class=\"line\">...</span>\n//           <span id=\"LC2\" class=\"line\">...</span>\n//           <span id=\"LC3\" class=\"line\">...</span>\n//           <span id=\"LC4\" class=\"line\">...</span>\n//           <span id=\"LC5\" class=\"line\">...</span>\n//         </code>\n//       </pre>\n//     </div>\n//   </div>\n//\n\nconst LineHighlighter = function(options = {}) {\n  options.highlightLineClass = options.highlightLineClass || 'hll';\n  options.fileHolderSelector = options.fileHolderSelector || '.file-holder';\n  options.scrollFileHolder = options.scrollFileHolder || false;\n  options.hash = options.hash || window.location.hash;\n\n  this.options = options;\n  this._hash = options.hash;\n  this.highlightLineClass = options.highlightLineClass;\n  this.setHash = this.setHash.bind(this);\n  this.highlightLine = this.highlightLine.bind(this);\n  this.clickHandler = this.clickHandler.bind(this);\n  this.highlightHash = this.highlightHash.bind(this);\n\n  this.bindEvents();\n  this.highlightHash();\n};\n\nLineHighlighter.prototype.bindEvents = function() {\n  const $fileHolder = $(this.options.fileHolderSelector);\n\n  $fileHolder.on('click', 'a[data-line-number]', this.clickHandler);\n  $fileHolder.on('highlight:line', this.highlightHash);\n};\n\nLineHighlighter.prototype.highlightHash = function(newHash) {\n  let range;\n  if (newHash && typeof newHash === 'string') this._hash = newHash;\n\n  this.clearHighlight();\n\n  if (this._hash !== '') {\n    range = this.hashToRange(this._hash);\n    if (range[0]) {\n      this.highlightRange(range);\n      const lineSelector = `#L${range[0]}`;\n      const scrollOptions = {\n        // Scroll to the first highlighted line on initial load\n        // Offset -50 for the sticky top bar, and another -100 for some context\n        offset: -150\n      };\n      if (this.options.scrollFileHolder) {\n        $(this.options.fileHolderSelector).scrollTo(lineSelector, scrollOptions);\n      } else {\n        $.scrollTo(lineSelector, scrollOptions);\n      }\n    }\n  }\n};\n\nLineHighlighter.prototype.clickHandler = function(event) {\n  var current, lineNumber, range;\n  event.preventDefault();\n  this.clearHighlight();\n  lineNumber = $(event.target).closest('a').data('lineNumber');\n  current = this.hashToRange(this._hash);\n  if (!(current[0] && event.shiftKey)) {\n    // If there's no current selection, or there is but Shift wasn't held,\n    // treat this like a single-line selection.\n    this.setHash(lineNumber);\n    return this.highlightLine(lineNumber);\n  } else if (event.shiftKey) {\n    if (lineNumber < current[0]) {\n      range = [lineNumber, current[0]];\n    } else {\n      range = [current[0], lineNumber];\n    }\n    this.setHash(range[0], range[1]);\n    return this.highlightRange(range);\n  }\n};\n\nLineHighlighter.prototype.clearHighlight = function() {\n  return $(\".\" + this.highlightLineClass).removeClass(this.highlightLineClass);\n};\n\n// Convert a URL hash String into line numbers\n//\n// hash - Hash String\n//\n// Examples:\n//\n//   hashToRange('#L5')    # => [5, null]\n//   hashToRange('#L5-15') # => [5, 15]\n//   hashToRange('#foo')   # => [null, null]\n//\n// Returns an Array\nLineHighlighter.prototype.hashToRange = function(hash) {\n  var first, last, matches;\n  // ?L(\\d+)(?:-(\\d+))?$/)\n  matches = hash.match(/^#?L(\\d+)(?:-(\\d+))?$/);\n  if (matches && matches.length) {\n    first = parseInt(matches[1], 10);\n    last = matches[2] ? parseInt(matches[2], 10) : null;\n    return [first, last];\n  } else {\n    return [null, null];\n  }\n};\n\n// Highlight a single line\n//\n// lineNumber - Line number to highlight\nLineHighlighter.prototype.highlightLine = function(lineNumber) {\n  return $(\"#LC\" + lineNumber).addClass(this.highlightLineClass);\n};\n\n// Highlight all lines within a range\n//\n// range - Array containing the starting and ending line numbers\nLineHighlighter.prototype.highlightRange = function(range) {\n  if (range[1]) {\n    const results = [];\n    const ref = range[0] <= range[1] ? range : range.reverse();\n\n    for (let lineNumber = range[0]; lineNumber <= ref[1]; lineNumber += 1) {\n      results.push(this.highlightLine(lineNumber));\n    }\n\n    return results;\n  } else {\n    return this.highlightLine(range[0]);\n  }\n};\n\n// Set the URL hash string\nLineHighlighter.prototype.setHash = function(firstLineNumber, lastLineNumber) {\n  var hash;\n  if (lastLineNumber) {\n    hash = \"#L\" + firstLineNumber + \"-\" + lastLineNumber;\n  } else {\n    hash = \"#L\" + firstLineNumber;\n  }\n  this._hash = hash;\n  return this.__setLocationHash__(hash);\n};\n\n// Make the actual hash change in the browser\n//\n// This method is stubbed in tests.\nLineHighlighter.prototype.__setLocationHash__ = function(value) {\n  return window.history.pushState({\n    url: value\n  // We're using pushState instead of assigning location.hash directly to\n  // prevent the page from scrolling on the hashchange event\n  }, document.title, value);\n};\n\nexport default LineHighlighter;\n","import { getLocationHash } from '../lib/utils/url_utility';\n\nconst lineNumberRe = /^L[0-9]+/;\n\nconst updateLineNumbersOnBlobPermalinks = (linksToUpdate) => {\n  const hash = getLocationHash();\n  if (hash && lineNumberRe.test(hash)) {\n    const hashUrlString = `#${hash}`;\n\n    [].concat(Array.prototype.slice.call(linksToUpdate)).forEach((permalinkButton) => {\n      const baseHref = permalinkButton.getAttribute('data-original-href') || (() => {\n        const href = permalinkButton.getAttribute('href');\n        permalinkButton.setAttribute('data-original-href', href);\n        return href;\n      })();\n      permalinkButton.setAttribute('href', `${baseHref}${hashUrlString}`);\n    });\n  }\n};\n\nfunction BlobLinePermalinkUpdater(blobContentHolder, lineNumberSelector, elementsToUpdate) {\n  const updateBlameAndBlobPermalinkCb = () => {\n    // Wait for the hash to update from the LineHighlighter callback\n    setTimeout(() => {\n      updateLineNumbersOnBlobPermalinks(elementsToUpdate);\n    }, 0);\n  };\n\n  blobContentHolder.addEventListener('click', (e) => {\n    if (e.target.matches(lineNumberSelector)) {\n      updateBlameAndBlobPermalinkCb();\n    }\n  });\n  updateBlameAndBlobPermalinkCb();\n}\n\nexport default BlobLinePermalinkUpdater;\n","import Mousetrap from 'mousetrap';\nimport { getLocationHash, visitUrl } from './lib/utils/url_utility';\nimport Shortcuts from './shortcuts';\n\nconst defaults = {\n  skipResetBindings: false,\n  fileBlobPermalinkUrl: null,\n};\n\nexport default class ShortcutsBlob extends Shortcuts {\n  constructor(opts) {\n    const options = Object.assign({}, defaults, opts);\n    super(options.skipResetBindings);\n    this.options = options;\n\n    Mousetrap.bind('y', this.moveToFilePermalink.bind(this));\n  }\n\n  moveToFilePermalink() {\n    if (this.options.fileBlobPermalinkUrl) {\n      const hash = getLocationHash();\n      const hashUrlString = hash ? `#${hash}` : '';\n      visitUrl(`${this.options.fileBlobPermalinkUrl}${hashUrlString}`);\n    }\n  }\n}\n","import LineHighlighter from '~/line_highlighter';\nimport BlobLinePermalinkUpdater from '~/blob/blob_line_permalink_updater';\nimport ShortcutsNavigation from '~/shortcuts_navigation';\nimport ShortcutsBlob from '~/shortcuts_blob';\nimport BlobForkSuggestion from '~/blob/blob_fork_suggestion';\nimport initBlobBundle from '~/blob_edit/blob_bundle';\n\nexport default () => {\n  new LineHighlighter(); // eslint-disable-line no-new\n\n  // eslint-disable-next-line no-new\n  new BlobLinePermalinkUpdater(\n    document.querySelector('#blob-content-holder'),\n    '.diff-line-num[data-line-number]',\n    document.querySelectorAll('.js-data-file-blob-permalink-url, .js-blob-blame-link'),\n  );\n\n  const fileBlobPermalinkUrlElement = document.querySelector('.js-data-file-blob-permalink-url');\n  const fileBlobPermalinkUrl = fileBlobPermalinkUrlElement && fileBlobPermalinkUrlElement.getAttribute('href');\n\n  new ShortcutsNavigation(); // eslint-disable-line no-new\n\n  // eslint-disable-next-line no-new\n  new ShortcutsBlob({\n    skipResetBindings: true,\n    fileBlobPermalinkUrl,\n  });\n\n  new BlobForkSuggestion({\n    openButtons: document.querySelectorAll('.js-edit-blob-link-fork-toggler'),\n    forkButtons: document.querySelectorAll('.js-fork-suggestion-button'),\n    cancelButtons: document.querySelectorAll('.js-cancel-fork-suggestion-button'),\n    suggestionSections: document.querySelectorAll('.js-file-fork-suggestion-section'),\n    actionTextPieces: document.querySelectorAll('.js-file-fork-suggestion-section-action'),\n  }).init();\n\n  initBlobBundle();\n};\n","export const BYTES_IN_KIB = 1024;\nexport const HIDDEN_CLASS = 'hidden';\n"],"sourceRoot":""}