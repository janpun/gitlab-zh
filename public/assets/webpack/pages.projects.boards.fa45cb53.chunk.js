(this.webpackJsonp=this.webpackJsonp||[]).push([[169,7],{103:function(e,t,s){"use strict";var i=s(0),n=s.n(i),a=s(73),r=s.n(a),o=s(111),l=s.n(o),d=s(1),u=s(5),c=s(38),h=s(36),p=function(){function e(e,t){for(var s=0;s<t.length;s++){var i=t[s];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,s,i){return s&&e(t.prototype,s),i&&e(t,i),t}}();function f(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var g=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},s=t.$dropdown,i=t.$loading;f(this,e);var a=s.closest(".dropdown"),r=s.closest(".block");this.$loading=i,this.$dropdown=s,this.$dropdownParent=a,this.$datePicker=a.find(".js-due-date-calendar"),this.$block=r,this.$sidebarCollapsedValue=r.find(".sidebar-collapsed-icon"),this.$selectbox=s.closest(".selectbox"),this.$value=r.find(".value"),this.$valueContent=r.find(".value-content"),this.$sidebarValue=n()(".js-due-date-sidebar-value",r),this.fieldName=s.data("fieldName"),this.abilityName=s.data("abilityName"),this.issueUpdateURL=s.data("issueUpdate"),this.rawSelectedDate=null,this.displayedDate=null,this.datePayload=null,this.initGlDropdown(),this.initRemoveDueDate(),this.initDatePicker()}return p(e,[{key:"initGlDropdown",value:function(){var e=this;this.$dropdown.glDropdown({opened:function(){e.$datePicker.data("pikaday").show()},hidden:function(){e.$selectbox.hide(),e.$value.css("display","")}})}},{key:"initDatePicker",value:function(){var e=this,t=n()("input[name='"+this.fieldName+"']"),s=new r.a({field:t.get(0),theme:"gitlab-theme",format:"yyyy-mm-dd",parse:function(e){return Object(h.a)(e)},toString:function(e){return Object(h.b)(e)},onSelect:function(i){t.val(s.toString(i)),e.$dropdown.hasClass("js-issue-boards-due-date")?(gl.issueBoards.BoardsStore.detail.issue.dueDate=t.val(),e.updateIssueBoardIssue()):e.saveDueDate(!0)}});s.setDate(Object(h.a)(t.val())),this.$datePicker.append(s.el),this.$datePicker.data("pikaday",s)}},{key:"initRemoveDueDate",value:function(){var e=this;this.$block.on("click",".js-remove-due-date",function(t){var s=e.$datePicker.data("pikaday");t.preventDefault(),s.setDate(null),e.$dropdown.hasClass("js-issue-boards-due-date")?(gl.issueBoards.BoardsStore.detail.issue.dueDate="",e.updateIssueBoardIssue()):(n()("input[name='"+e.fieldName+"']").val(""),e.saveDueDate(!1))})}},{key:"saveDueDate",value:function(e){this.parseSelectedDate(),this.prepSelectedDate(),this.submitSelectedDate(e)}},{key:"parseSelectedDate",value:function(){if(this.rawSelectedDate=n()("input[name='"+this.fieldName+"']").val(),this.rawSelectedDate.length){var e=this.rawSelectedDate.split("-").map(function(e){return parseInt(e,10)}),t=new Date(e[0],e[1]-1,e[2]);this.displayedDate=l()(t,"mmm d, yyyy")}else this.displayedDate="No due date"}},{key:"prepSelectedDate",value:function(){var e={};e[this.abilityName]={},e[this.abilityName].due_date=this.rawSelectedDate,this.datePayload=e}},{key:"updateIssueBoardIssue",value:function(){var e=this;this.$loading.fadeIn(),this.$dropdown.trigger("loading.gl.dropdown"),this.$selectbox.hide(),this.$value.css("display","");var t=function(){e.$loading.fadeOut()};gl.issueBoards.BoardsStore.detail.issue.update(this.$dropdown.attr("data-issue-update")).then(t).catch(t)}},{key:"submitSelectedDate",value:function(e){var t=this,s=this.datePayload[this.abilityName].due_date,i="No due date"!==this.displayedDate,a=i?"bold":"no-value";return this.$loading.removeClass("hidden").fadeIn(),e&&(this.$dropdown.trigger("loading.gl.dropdown"),this.$selectbox.hide()),this.$value.css("display",""),this.$valueContent.html("<span class='"+a+"'>"+this.displayedDate+"</span>"),this.$sidebarValue.html(this.displayedDate),n()(".js-remove-due-date-holder").toggleClass("hidden",s.length),u.a.put(this.issueUpdateURL,this.datePayload).then(function(){var n=i?Object(d.a)("Due date")+"<br />"+s+" ("+Object(c.f)(s)+")":Object(d.a)("Due date");return e&&(t.$dropdown.trigger("loaded.gl.dropdown"),t.$dropdown.dropdown("toggle")),t.$sidebarCollapsedValue.attr("data-original-title",n),t.$loading.fadeOut()})}}]),e}(),v=function(){function e(){f(this,e),this.initMilestoneDatePicker(),this.initIssuableSelect()}return p(e,[{key:"initMilestoneDatePicker",value:function(){n()(".datepicker").each(function(){var e=n()(this),t=e.val(),s=new r.a({field:e.get(0),theme:"gitlab-theme animate-picker",format:"yyyy-mm-dd",container:e.parent().get(0),parse:function(e){return Object(h.a)(e)},toString:function(e){return Object(h.b)(e)},onSelect:function(t){e.val(s.toString(t))}});s.setDate(Object(h.a)(t)),e.data("pikaday",s)}),n()(".js-clear-due-date,.js-clear-start-date").on("click",function(e){e.preventDefault(),n()(e.target).siblings(".datepicker").data("pikaday").setDate(null)})}},{key:"initIssuableSelect",value:function(){var e=n()(".js-issuable-update .due_date").find(".block-loading").hide();n()(".js-due-date-select").each(function(t,s){var i=n()(s);new g({$dropdown:i,$loading:e})})}}]),e}();t.a=v},1047:function(e,t,s){"use strict";s.r(t);var i=s(81),n=s(87),a=s(446);document.addEventListener("DOMContentLoaded",function(){new i.a,new n.a,Object(a.a)()})},1048:function(e,t,s){s(31),s(57),e.exports=s(1047)},107:function(e,t,s){"use strict";var i=s(0),n=s.n(i),a=s(3),r=s.n(a),o=s(1),l=s(5),d=s(79),u=s(64),c=s(117),h=s(7),p=s(47),f=function(){return function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var s=[],i=!0,n=!1,a=void 0;try{for(var r,o=e[Symbol.iterator]();!(i=(r=o.next()).done)&&(s.push(r.value),!t||s.length!==t);i=!0);}catch(e){n=!0,a=e}finally{try{!i&&o.return&&o.return()}finally{if(n)throw a}}return s}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),g=function(){function e(e,t){for(var s=0;s<t.length;s++){var i=t[s];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,s,i){return s&&e(t.prototype,s),i&&e(t,i),t}}();var v=function(){function e(t){var s,i,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),s=this,i=n()(t),t||(i=n()(".js-label-select")),i.each(function(t,i){var d,g,v,b,m,y,w,k,S,_,C,I,E,j,L,D,B,T,x,A,O,P;P=(g=n()(i)).closest(".labels-filter"),g.find(".dropdown-toggle-text"),I=g.data("namespacePath"),E=g.data("projectPath"),C=g.data("labels"),_=g.data("issueUpdate"),null==(L=g.data("selected"))||g.hasClass("js-multiselect")||(L=L.split(",")),B=g.data("showNo"),D=g.data("showAny"),O=g.data("showMenuAbove"),S=g.data("defaultLabel")||"Label",k=g.data("abilityName"),d=(m=g.closest(".selectbox")).closest(".block"),v=g.closest("form, .js-issuable-update"),y=d.find(".sidebar-collapsed-icon span"),T=d.find(".js-sidebar-labels-tooltip"),w=d.find(".value"),b=d.find(".block-loading").fadeOut(),A=g.data("fieldName"),g.is(".js-issuable-form-dropdown, .js-filter-bulk-update, .js-label-sidebar-dropdown"),x=m.find('input[name="'+g.data("fieldName")+'"]').map(function(){return this.value}).get();var $=a.handleClick;T.tooltip(),g.closest(".dropdown").find(".dropdown-new-label").length&&new c.a(g.closest(".dropdown").find(".dropdown-new-label"),I,E),j=function(){var t,s;s=g.closest(".selectbox").find("input[name='"+A+"']").map(function(){return this.value}).get(),r.a.isEqual(x,s)||(x=s,(t={})[k]={},t[k].label_ids=s,s.length||(t[k].label_ids=[""]),b.removeClass("hidden").fadeIn(),g.trigger("loading.gl.dropdown"),l.a.put(_,t).then(function(t){var s,i,a,r,l=t.data;b.fadeOut(),g.trigger("loaded.gl.dropdown"),m.hide(),l.issueUpdateURL=_,s=0,l.labels.length&&_?(i=e.getLabelTemplate({labels:l.labels,issueUpdateURL:_}),s=l.labels.length):i='<span class="no-value">None</span>',w.removeAttr("style").html(i),y.text(s),l.labels.length?((r=l.labels.map(function(e){return e.title})).length>5&&(r=r.slice(0,5)).push("and "+(l.labels.length-5)+" more"),a=r.join(", ")):a=Object(o.a)("Labels"),T.attr("title",a).tooltip("_fixTitle"),n()(".has-tooltip",w).tooltip({container:"body"})}).catch(function(){return Object(h.a)(Object(o.a)("Error saving label update."))}))},g.glDropdown({showMenuAbove:O,data:function(e,t){l.a.get(C).then(function(e){var s=r.a.chain(e.data).groupBy(function(e){return e.title}).map(function(e){var t;return t=r.a.map(e,function(e){return e.color}),{id:e[0].id,title:e[0].title,color:t,duplicate:t.length>1}}).value();if(g.hasClass("js-extra-options")){var i=[];B&&i.unshift({id:0,title:"No Label"}),D&&i.unshift({isAny:!0,title:"Any Label"}),i.length&&(i.push("divider"),s=i.concat(s))}t(s),O&&g.data("glDropdown").positionMenuAbove()}).catch(function(){return Object(h.a)(Object(o.a)("Error fetching labels."))})},renderRow:function(e,t){var s,i,a,o,l,d,c,h,p,b,m;(i=n()("<li>"),s=n()('<a href="#">'),c=[],d=e.id<=0||null==e.id,g.hasClass("js-filter-bulk-update")?(l=g.data("indeterminate")||[],p=g.data("marked")||[],-1!==l.indexOf(e.id)&&c.push("is-indeterminate"),-1!==p.indexOf(e.id)&&(-1!==(h=c.indexOf("is-indeterminate"))&&c.splice(h,1),c.push("is-active"))):(this.id(e)&&(b=g.data("fieldName"),m=this.id(e).toString().replace(/'/g,"\\'"),v.find("input[type='hidden'][name='"+b+"'][value='"+m+"']").length&&c.push("is-active")),g.hasClass("js-multiselect")&&d&&c.push("dropdown-clear-active")),e.duplicate)?a=u.a.duplicateLabelColor(e.color):null!=e.color&&(a=f(e.color,1)[0]);return o=a?"<span class='dropdown-label-box' style='background: "+a+"'></span>":"",e.id&&(c.push("label-item"),s.attr("data-label-id",e.id)),s.addClass(c.join(" ")).html(o+" "+r.a.escape(e.title)),i.html(s).prop("outerHTML")},search:{fields:["title"]},selectable:!0,filterable:!0,selected:g.data("selected")||[],toggleLabel:function(e,t){var s=g.parent(),i=s.find(".dropdown-input-field"),n=null!==t&&t.hasClass("is-active"),a=e?e.title:null,r=this.selected;if(i.length&&i.val().length&&s.find(".dropdown-input-clear").trigger("click"),e&&0===e.id)return this.selected=[],"No Label";if(n)this.selected.push(a);else if(!n&&a){var o=this.selected.indexOf(a);this.selected.splice(o,1)}return 1===r.length?r:r.length?r[0]+" +"+(r.length-1)+" more":S},fieldName:g.data("fieldName"),id:function(e){return e.id<=0?e.title:g.hasClass("js-issuable-form-dropdown")?e.id:g.hasClass("js-filter-submit")&&null==e.isAny?e.title:e.id},hidden:function(){var e,t,s;e="projects:issues:index"===(s=n()("body").attr("data-page")),t="projects:merge_requests:index"===s,m.hide(),w.removeAttr("style"),g.hasClass("js-issuable-form-dropdown")||n()("html").hasClass("issue-boards-page")||g.hasClass("js-multiselect")&&(g.hasClass("js-filter-submit")&&(e||t)?(g.closest("form").find("input:hidden[name='"+g.data("fieldName")+"']"),Issuable.filterResults(g.closest("form"))):g.hasClass("js-filter-submit")?g.closest("form").submit():g.hasClass("js-filter-bulk-update")||j())},multiSelect:g.hasClass("js-multiselect"),vue:g.hasClass("js-issue-board-sidebar"),clicked:function(e){var t,i,a,r,o=e.$el,l=e.e,d=e.isMarking,u=e.selectedObj,c=function(){b.fadeOut()};if(t="projects:issues:index"===(a=n()("body").attr("data-page")),i="projects:merge_requests:index"===a,g.parent().find(".is-active:not(.dropdown-clear-active)").length&&g.parent().find(".dropdown-clear-active").removeClass("is-active"),!g.hasClass("js-issuable-form-dropdown")){if(g.hasClass("js-filter-bulk-update"))return s.enableBulkLabelDropdown(),void s.setDropdownData(g,d,u.id);if(g.closest(".add-issues-modal").length&&(r=p.a.store.filter),r)return u.isAny?r.label_name=[]:o.hasClass("is-active")&&r.label_name.push(u.title),void l.preventDefault();if(g.hasClass("js-filter-submit")&&(t||i)){if(!g.hasClass("js-multiselect"))return L=u.title,Issuable.filterResults(g.closest("form"))}else{if(g.hasClass("js-filter-submit"))return g.closest("form").submit();if(g.hasClass("js-issue-board-sidebar")){if(o.hasClass("is-active"))gl.issueBoards.BoardsStore.detail.issue.labels.push(new ListLabel({id:u.id,title:u.title,color:u.color[0],textColor:"#fff"}));else{var h=gl.issueBoards.BoardsStore.detail.issue.labels;h=h.filter(function(e){return e.id!==u.id}),gl.issueBoards.BoardsStore.detail.issue.labels=h}b.fadeIn(),gl.issueBoards.BoardsStore.detail.issue.update(g.attr("data-issue-update")).then(c).catch(c)}else if($)l.preventDefault(),$(u);else if(!g.hasClass("js-multiselect"))return j()}}},opened:function(e){if(g.hasClass("js-issue-board-sidebar")){var t=g.attr("data-selected");this.selected=t?t.split(","):[],g.data("glDropdown").updateLabel()}},preserveContext:!0}),s.setOriginalDropdownData(P,g)}),this.bindEvents()}return g(e,[{key:"bindEvents",value:function(){return n()("body").on("change",".selected_issue",this.onSelectCheckboxIssue)}},{key:"onSelectCheckboxIssue",value:function(){if(!n()(".selected_issue:checked").length)return n()(".issues-bulk-update .labels-filter .dropdown-toggle-text").text("Label")}},{key:"enableBulkLabelDropdown",value:function(){d.a.willUpdateLabels=!0}},{key:"setDropdownData",value:function(e,t,s){var i,n,a,r;n=e.data("marked")||[],a=e.data("unmarked")||[],r=e.data("indeterminate")||[],t?(n.push(s),(i=r.indexOf(s))>-1&&r.splice(i,1),(i=a.indexOf(s))>-1&&a.splice(i,1)):((i=n.indexOf(s))>-1&&n.splice(i,1),d.a.getOriginalIndeterminateIds().indexOf(s)>-1&&a.push(s),d.a.getOriginalCommonIds().indexOf(s)>-1&&a.push(s)),e.data("marked",n),e.data("unmarked",a),e.data("indeterminate",r)}},{key:"setOriginalDropdownData",value:function(e,t){var s=[];e.find('[name="label_name[]"]').map(function(){return s.push(this.value)}),t.data("marked",s)}}],[{key:"getLabelTemplate",value:function(e){return r.a.template(["<% _.each(labels, function(label){ %>",'<a href="<%- issueUpdateURL.slice(0, issueUpdateURL.lastIndexOf("/")) %>?label_name[]=<%- encodeURIComponent(label.title) %>">','<span class="badge label has-tooltip color-label" title="<%- label.description %>" style="background-color: <%- label.color %>; color: <%- label.text_color %>;">',"<%- label.title %>","</span>","</a>","<% }); %>"].join(""))(e)}}]),e}();t.a=v},117:function(e,t,s){"use strict";var i=s(0),n=s.n(i),a=s(33),r=s(45),o=function(){function e(e,t){for(var s=0;s<t.length;s++){var i=t[s];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,s,i){return s&&e(t.prototype,s),i&&e(t,i),t}}();var l=function(){function e(t,s,i){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.$el=t,this.namespacePath=s,this.projectPath=i,this.$dropdownBack=n()(".dropdown-menu-back",this.$el.closest(".dropdown")),this.$cancelButton=n()(".js-cancel-label-btn",this.$el),this.$newLabelField=n()("#new_label_name",this.$el),this.$newColorField=n()("#new_label_color",this.$el),this.$colorPreview=n()(".js-dropdown-label-color-preview",this.$el),this.$newLabelError=n()(".js-label-error",this.$el),this.$newLabelCreateButton=n()(".js-new-label-btn",this.$el),this.$colorSuggestions=n()(".suggest-colors-dropdown a",this.$el),this.$newLabelError.hide(),this.$newLabelCreateButton.disable(),this.cleanBinding(),this.addBinding()}return o(e,[{key:"cleanBinding",value:function(){this.$colorSuggestions.off("click"),this.$newLabelField.off("keyup change"),this.$newColorField.off("keyup change"),this.$dropdownBack.off("click"),this.$cancelButton.off("click"),this.$newLabelCreateButton.off("click")}},{key:"addBinding",value:function(){var e=this;this.$colorSuggestions.on("click",function(t){var s=n()(this);e.addColorValue(t,s)}),this.$newLabelField.on("keyup change",this.enableLabelCreateButton.bind(this)),this.$newColorField.on("keyup change",this.enableLabelCreateButton.bind(this)),this.$dropdownBack.on("click",this.resetForm.bind(this)),this.$cancelButton.on("click",function(t){t.preventDefault(),t.stopPropagation(),e.resetForm(),e.$dropdownBack.trigger("click")}),this.$newLabelCreateButton.on("click",this.saveLabel.bind(this))}},{key:"addColorValue",value:function(e,t){e.preventDefault(),e.stopPropagation(),this.$newColorField.val(t.data("color")).trigger("change"),this.$colorPreview.css("background-color",t.data("color")).parent().addClass("is-active")}},{key:"enableLabelCreateButton",value:function(){""!==this.$newLabelField.val()&&""!==this.$newColorField.val()?(this.$newLabelError.hide(),this.$newLabelCreateButton.enable()):this.$newLabelCreateButton.disable()}},{key:"resetForm",value:function(){this.$newLabelField.val("").trigger("change"),this.$newColorField.val("").trigger("change"),this.$colorPreview.css("background-color","").parent().removeClass("is-active")}},{key:"saveLabel",value:function(e){var t=this;e.preventDefault(),e.stopPropagation(),a.a.newLabel(this.namespacePath,this.projectPath,{title:this.$newLabelField.val(),color:this.$newColorField.val()},function(e){if(t.$newLabelCreateButton.enable(),e.message){var s=void 0;s="string"==typeof e.message?e.message:Object.keys(e.message).map(function(t){return Object(r.h)(t)+" "+e.message[t].join(", ")}).join("<br/>"),t.$newLabelError.html(s).show()}else t.$dropdownBack.trigger("click"),n()(document).trigger("created.label",e)})}}]),e}();t.a=l},12:function(e,t,s){"use strict";var i=s(0),n=s.n(i);t.a={bind:function(e){n()(e).tooltip({trigger:"hover"})},componentUpdated:function(e){n()(e).tooltip("_fixTitle")},unbind:function(e){n()(e).tooltip("dispose")}}},145:function(e,t,s){"use strict";var i=s(0),n=s.n(i),a=s(3),r=s.n(a),o=s(39),l=s.n(o),d=s(7),u=s(5),c=s(1);function h(e){this.toggleTodo=this.toggleTodo.bind(this),this.sidebar=n()("aside"),this.removeListeners(),this.addEventListeners()}h.initialize=function(e){this.instance||(this.instance=new h(e))},h.prototype.removeListeners=function(){this.sidebar.off("click",".sidebar-collapsed-icon"),this.sidebar.off("hidden.gl.dropdown"),n()(".dropdown").off("loading.gl.dropdown"),n()(".dropdown").off("loaded.gl.dropdown"),n()(document).off("click",".js-sidebar-toggle")},h.prototype.addEventListeners=function(){var e=n()(document);return this.sidebar.on("click",".sidebar-collapsed-icon",this,this.sidebarCollapseClicked),this.sidebar.on("hidden.gl.dropdown",this,this.onSidebarDropdownHidden),n()(".dropdown").on("loading.gl.dropdown",this.sidebarDropdownLoading),n()(".dropdown").on("loaded.gl.dropdown",this.sidebarDropdownLoaded),e.on("click",".js-sidebar-toggle",this.sidebarToggleClicked),n()(document).off("click",".js-issuable-todo").on("click",".js-issuable-todo",this.toggleTodo)},h.prototype.sidebarToggleClicked=function(e,t){var s,i,a,r;e.preventDefault(),r=(a=(i=n()(this)).find("i").hasClass("fa-angle-double-right"))?Object(c.a)("Expand sidebar"):Object(c.a)("Collapse sidebar"),s=n()(".js-sidebar-toggle i"),a?(s.removeClass("fa-angle-double-right").addClass("fa-angle-double-left"),n()("aside.right-sidebar").removeClass("right-sidebar-expanded").addClass("right-sidebar-collapsed"),n()(".layout-page").removeClass("right-sidebar-expanded").addClass("right-sidebar-collapsed")):(s.removeClass("fa-angle-double-left").addClass("fa-angle-double-right"),n()("aside.right-sidebar").removeClass("right-sidebar-collapsed").addClass("right-sidebar-expanded"),n()(".layout-page").removeClass("right-sidebar-collapsed").addClass("right-sidebar-expanded"),gl.lazyLoader&&gl.lazyLoader.loadCheck()),i.attr("data-original-title",r),t||l.a.set("collapsed_gutter",n()(".right-sidebar").hasClass("right-sidebar-collapsed"))},h.prototype.toggleTodo=function(e){var t,s,i,a=this;t=n()(e.currentTarget),s=t.attr("data-delete-path")?"delete":"post",i=t.attr("data-delete-path")?""+t.attr("data-delete-path"):""+t.data("url"),t.tooltip("hide"),n()(".js-issuable-todo").disable().addClass("is-loading"),u.a[s](i,{issuable_id:t.data("issuableId"),issuable_type:t.data("issuableType")}).then(function(e){var t=e.data;a.todoUpdateDone(t)}).catch(function(){return Object(d.a)("There was an error "+("post"===s?"adding a":"deleting the")+" todo.")})},h.prototype.todoUpdateDone=function(e){var t=e.delete_path?e.delete_path:null,s=t?"mark":"todo",i=n()(".js-issuable-todo");n()(document).trigger("todo:toggle",e.count),i.each(function(e,i){var a=n()(i),r=a.find(".js-issuable-todo-inner");a.removeClass("is-loading").enable().attr("aria-label",a.data(s+"Text")).attr("data-delete-path",t).attr("title",a.data(s+"Text")),a.hasClass("has-tooltip")&&a.tooltip("_fixTitle"),a.data(s+"Icon")?r.html(a.data(s+"Icon")):r.text(a.data(s+"Text"))})},h.prototype.sidebarDropdownLoading=function(e){var t,s,i,a;return a=(s=n()(this).closest(".block").find(".sidebar-collapsed-icon")).find("img"),i=s.find("i"),t=n()('<i class="fa fa-spinner fa-spin"></i>'),a.length?(a.before(t),a.hide()):i.length?(i.before(t),i.hide()):void 0},h.prototype.sidebarDropdownLoaded=function(e){var t,s,i;return i=(t=n()(this).closest(".block").find(".sidebar-collapsed-icon")).find("img"),t.find("i.fa-spin").remove(),s=t.find("i"),i.length?i.show():s.show()},h.prototype.sidebarCollapseClicked=function(e){var t,s;if(!n()(e.currentTarget).hasClass("dont-change-state"))return s=e.data,e.preventDefault(),t=n()(this).closest(".block"),s.openDropdown(t)},h.prototype.openDropdown=function(e){var t;t=r.a.isString(e)?this.getBlock(e):e,this.isOpen()||(this.setCollapseAfterUpdate(t),this.toggleSidebar("open")),setTimeout(function(){t.find(".js-sidebar-dropdown-toggle").trigger("click")})},h.prototype.setCollapseAfterUpdate=function(e){return e.addClass("collapse-after-update"),n()(".layout-page").addClass("with-overlay")},h.prototype.onSidebarDropdownHidden=function(e){var t,s;return s=e.data,e.preventDefault(),t=n()(e.target).closest(".block"),s.sidebarDropdownHidden(t)},h.prototype.sidebarDropdownHidden=function(e){if(e.hasClass("collapse-after-update"))return e.removeClass("collapse-after-update"),n()(".layout-page").removeClass("with-overlay"),this.toggleSidebar("hide")},h.prototype.triggerOpenSidebar=function(){return this.sidebar.find(".js-sidebar-toggle").trigger("click")},h.prototype.toggleSidebar=function(e){if(null==e&&(e="toggle"),"toggle"===e&&this.triggerOpenSidebar(),"open"===e&&(this.isOpen()||this.triggerOpenSidebar()),"hide"===e&&this.isOpen())return this.triggerOpenSidebar()},h.prototype.isOpen=function(){return this.sidebar.is(".right-sidebar-expanded")},h.prototype.getBlock=function(e){return this.sidebar.find(".block."+e)},t.a=h},15:function(e,t,s){"use strict";var i=[8,10,12,16,18,24,32,48,72],n={props:{name:{type:String,required:!0,validator:function(){return!0}},size:{type:Number,required:!1,default:16,validator:function(e){return i.includes(e)}},cssClasses:{type:String,required:!1,default:""},width:{type:Number,required:!1,default:null},height:{type:Number,required:!1,default:null},y:{type:Number,required:!1,default:null},x:{type:Number,required:!1,default:null},tabIndex:{type:String,required:!1,default:null}},computed:{spriteHref:function(){return gon.sprite_icons+"#"+this.name},iconTestClass:function(){return"ic-"+this.name},iconSizeClass:function(){return this.size?"s"+this.size:""}}},a=s(2),r=Object(a.a)(n,function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("svg",{class:[e.iconSizeClass,e.iconTestClass,e.cssClasses],attrs:{width:e.width,height:e.height,x:e.x,y:e.y,tabindex:e.tabIndex}},[s("use",e._b({},"use",{"xlink:href":e.spriteHref},!1))])},[],!1,null,null,null);t.a=r.exports},177:function(e,t,s){"use strict";var i=s(1),n=s(15),a=s(27),r=Object(i.e)("ToggleButton|Toggle Status: ON"),o=Object(i.e)("ToggleButton|Toggle Status: OFF"),l={components:{icon:n.a,loadingIcon:a.a},model:{prop:"value",event:"change"},props:{name:{type:String,required:!1,default:null},value:{type:Boolean,required:!1,default:null},disabledInput:{type:Boolean,required:!1,default:!1},isLoading:{type:Boolean,required:!1,default:!1}},computed:{toggleIcon:function(){return this.value?"status_success_borderless":"status_failed_borderless"},ariaLabel:function(){return this.value?r:o}},methods:{toggleFeature:function(){this.disabledInput||this.$emit("change",!this.value)}}},d=s(2),u=Object(d.a)(l,function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("label",{staticClass:"toggle-wrapper"},[e.name?s("input",{attrs:{name:e.name,type:"hidden"},domProps:{value:e.value}}):e._e(),e._v(" "),s("button",{staticClass:"project-feature-toggle",class:{"is-checked":e.value,"is-disabled":e.disabledInput,"is-loading":e.isLoading},attrs:{"aria-label":e.ariaLabel,type:"button"},on:{click:e.toggleFeature}},[s("loadingIcon",{staticClass:"loading-icon"}),e._v(" "),s("span",{staticClass:"toggle-icon"},[s("icon",{attrs:{name:e.toggleIcon,"css-classes":"toggle-icon-svg"}})],1)],1)])},[],!1,null,null,null);t.a=u.exports},201:function(e,t,s){"use strict";var i=s(3),n=s.n(i),a=s(11),r=s(21),o=s(7),l=s(104),d=s(249),u=s(8),c=new u.default,h=s(147),p={name:"RecentSearchesDropdownContent",props:{items:{type:Array,required:!0},isLocalStorageAvailable:{type:Boolean,required:!1,default:!0},allowedKeys:{type:Array,required:!0}},computed:{processedItems:function(){var e=this;return this.items.map(function(t){var s=h.a.processTokens(t,e.allowedKeys),i=s.tokens,n=s.searchToken;return{text:t,tokens:i.map(function(e){return{prefix:e.key+":",suffix:""+e.symbol+e.value}}),searchToken:n}})},hasItems:function(){return this.items.length>0}},methods:{onItemActivated:function(e){c.$emit("recentSearchesItemSelected",e)},onRequestClearRecentSearches:function(e){e.stopPropagation(),c.$emit("requestClearRecentSearches")}}},f=s(2),g=Object(f.a)(p,function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",[e.isLocalStorageAvailable?e.hasItems?s("ul",[e._l(e.processedItems,function(t,i){return s("li",{key:"processed-items-"+i},[s("button",{staticClass:"filtered-search-history-dropdown-item",attrs:{type:"button"},on:{click:function(s){e.onItemActivated(t.text)}}},[s("span",e._l(t.tokens,function(t,i){return s("span",{key:"dropdown-token-"+i,staticClass:"filtered-search-history-dropdown-token"},[s("span",{staticClass:"name"},[e._v(e._s(t.prefix))]),e._v(" "),s("span",{staticClass:"value"},[e._v(e._s(t.suffix))])])})),e._v(" "),s("span",{staticClass:"filtered-search-history-dropdown-search-token"},[e._v("\n          "+e._s(t.searchToken)+"\n        ")])])])}),e._v(" "),s("li",{staticClass:"divider"}),e._v(" "),s("li",[s("button",{staticClass:"filtered-search-history-clear-button",attrs:{type:"button"},on:{click:function(t){e.onRequestClearRecentSearches(t)}}},[e._v("\n        Clear recent searches\n      ")])])],2):s("div",{staticClass:"dropdown-info-note"},[e._v("\n    You don't have any recent searches\n  ")]):s("div",{staticClass:"dropdown-info-note"},[e._v("\n    This feature requires local storage to be enabled\n  ")])])},[],!1,null,null,null).exports,v=function(){function e(e,t){for(var s=0;s<t.length;s++){var i=t[s];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,s,i){return s&&e(t.prototype,s),i&&e(t,i),t}}();var b=function(){function e(t,s,i){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.store=t,this.service=s,this.wrapperElement=i}return v(e,[{key:"init",value:function(){this.bindEvents(),this.render()}},{key:"bindEvents",value:function(){this.onRequestClearRecentSearchesWrapper=this.onRequestClearRecentSearches.bind(this),c.$on("requestClearRecentSearches",this.onRequestClearRecentSearchesWrapper)}},{key:"unbindEvents",value:function(){c.$off("requestClearRecentSearches",this.onRequestClearRecentSearchesWrapper)}},{key:"render",value:function(){var e=this.store.state;this.vm=new u.default({el:this.wrapperElement,components:{RecentSearchesDropdownContent:g},data:function(){return e},template:'\n        <recent-searches-dropdown-content\n          :items="recentSearches"\n          :is-local-storage-available="isLocalStorageAvailable"\n          :allowed-keys="allowedKeys"\n          />\n      '})}},{key:"onRequestClearRecentSearches",value:function(){var e=this.store.setRecentSearches([]);this.service.save(e)}},{key:"destroy",value:function(){this.unbindEvents(),this.vm&&this.vm.$destroy()}}]),e}(),m=function(){function e(e,t){for(var s=0;s<t.length;s++){var i=t[s];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,s,i){return s&&e(t.prototype,s),i&&e(t,i),t}}();var y=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},s=arguments[1];!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.state=Object.assign({isLocalStorageAvailable:!0,recentSearches:[],allowedKeys:s},t)}return m(e,[{key:"addRecentSearch",value:function(e){return this.setRecentSearches([e].concat(this.state.recentSearches)),this.state.recentSearches}},{key:"setRecentSearches",value:function(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:[]).map(function(e){return e.trim()});return this.state.recentSearches=n.a.uniq(e).slice(0,5),this.state.recentSearches}}]),e}();var w=function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.name="RecentSearchesServiceError",this.message=t||"Recent Searches Service is unavailable"};w.prototype=Error.prototype;var k=w,S=s(76),_=function(){function e(e,t){for(var s=0;s<t.length;s++){var i=t[s];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,s,i){return s&&e(t.prototype,s),i&&e(t,i),t}}();var C=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"issuable-recent-searches";!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.localStorageKey=t}return _(e,[{key:"fetch",value:function(){if(!e.isAvailable()){var t=new k;return Promise.reject(t)}var s=window.localStorage.getItem(this.localStorageKey),i=[];if(s&&s.length>0)try{i=JSON.parse(s)}catch(e){return Promise.reject(e)}return Promise.resolve(i)}},{key:"save",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];e.isAvailable()&&window.localStorage.setItem(this.localStorageKey,JSON.stringify(t))}}],[{key:"isAvailable",value:function(){return S.a.isLocalStorageAccessSafe()}}]),e}(),I=s(181),E=s(267),j=s(54),L=s(64),D=function(){function e(e,t){for(var s=0;s<t.length;s++){var i=t[s];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,s,i){return s&&e(t.prototype,s),i&&e(t,i),t}}();var B=function(){function e(t){var s=t.page,i=t.isGroup,n=void 0!==i&&i,a=t.isGroupAncestor,r=void 0===a||a,o=t.isGroupDecendent,u=void 0!==o&&o,c=t.filteredSearchTokenKeys,h=void 0===c?d.a:c,p=t.stateFiltersSelector,f=void 0===p?".issues-state-filters":p;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.isGroup=n,this.isGroupAncestor=r,this.isGroupDecendent=u,this.states=["opened","closed","merged","all"],this.page=s,this.container=l.a.container,this.filteredSearchInput=this.container.querySelector(".filtered-search"),this.filteredSearchInputForm=this.filteredSearchInput.form,this.clearSearchButton=this.container.querySelector(".clear-search"),this.tokensContainer=this.container.querySelector(".tokens-container"),this.filteredSearchTokenKeys=h,this.stateFiltersSelector=f,this.recentsStorageKeyNames={issues:"issue-recent-searches",merge_requests:"merge-request-recent-searches"},this.recentSearchesStore=new y({isLocalStorageAvailable:C.isAvailable(),allowedKeys:this.filteredSearchTokenKeys.getKeys()}),this.searchHistoryDropdownElement=document.querySelector(".js-filtered-search-history-dropdown");var g=(this.searchHistoryDropdownElement?this.searchHistoryDropdownElement.dataset.fullPath:"project")+"-"+this.recentsStorageKeyNames[this.page];this.recentSearchesService=new C(g)}return D(e,[{key:"setup",value:function(){var e=this;this.fetchingRecentSearchesPromise=this.recentSearchesService.fetch().catch(function(e){if("RecentSearchesServiceError"!==e.name)return new o.a("An error occurred while parsing recent searches"),[]}).then(function(t){if(t){var s=e.recentSearchesStore.setRecentSearches(e.recentSearchesStore.state.recentSearches.concat(t));e.recentSearchesService.save(s)}}),this.filteredSearchInput&&(this.tokenizer=h.a,this.dropdownManager=new E.a({baseEndpoint:this.filteredSearchInput.getAttribute("data-base-endpoint")||"",tokenizer:this.tokenizer,page:this.page,isGroup:this.isGroup,isGroupAncestor:this.isGroupAncestor,isGroupDecendent:this.isGroupDecendent,filteredSearchTokenKeys:this.filteredSearchTokenKeys}),this.recentSearchesRoot=new b(this.recentSearchesStore,this.recentSearchesService,this.searchHistoryDropdownElement),this.recentSearchesRoot.init(),this.bindEvents(),this.loadSearchParamsFromURL(),this.dropdownManager.setDropdown(),this.cleanupWrapper=this.cleanup.bind(this),document.addEventListener("beforeunload",this.cleanupWrapper))}},{key:"cleanup",value:function(){this.unbindEvents(),document.removeEventListener("beforeunload",this.cleanupWrapper),this.recentSearchesRoot&&this.recentSearchesRoot.destroy()}},{key:"bindStateEvents",value:function(){var e=this;this.stateFilters=document.querySelector(".container-fluid "+this.stateFiltersSelector),this.stateFilters&&(this.searchStateWrapper=this.searchState.bind(this),this.applyToStateFilters(function(t){t.addEventListener("click",e.searchStateWrapper)}))}},{key:"unbindStateEvents",value:function(){var e=this;this.stateFilters&&this.applyToStateFilters(function(t){t.removeEventListener("click",e.searchStateWrapper)})}},{key:"applyToStateFilters",value:function(e){var t=this;this.stateFilters.querySelectorAll("a[data-state]").forEach(function(s){t.states.indexOf(s.dataset.state)>-1&&e(s)})}},{key:"bindEvents",value:function(){this.handleFormSubmit=this.handleFormSubmit.bind(this),this.setDropdownWrapper=this.dropdownManager.setDropdown.bind(this.dropdownManager),this.toggleClearSearchButtonWrapper=this.toggleClearSearchButton.bind(this),this.handleInputPlaceholderWrapper=this.handleInputPlaceholder.bind(this),this.handleInputVisualTokenWrapper=this.handleInputVisualToken.bind(this),this.checkForEnterWrapper=this.checkForEnter.bind(this),this.onClearSearchWrapper=this.onClearSearch.bind(this),this.checkForBackspaceWrapper=this.checkForBackspace.call(this),this.removeSelectedTokenKeydownWrapper=this.removeSelectedTokenKeydown.bind(this),this.unselectEditTokensWrapper=this.unselectEditTokens.bind(this),this.editTokenWrapper=this.editToken.bind(this),this.tokenChange=this.tokenChange.bind(this),this.addInputContainerFocusWrapper=this.addInputContainerFocus.bind(this),this.removeInputContainerFocusWrapper=this.removeInputContainerFocus.bind(this),this.onrecentSearchesItemSelectedWrapper=this.onrecentSearchesItemSelected.bind(this),this.removeTokenWrapper=this.removeToken.bind(this),this.filteredSearchInputForm.addEventListener("submit",this.handleFormSubmit),this.filteredSearchInput.addEventListener("input",this.setDropdownWrapper),this.filteredSearchInput.addEventListener("input",this.toggleClearSearchButtonWrapper),this.filteredSearchInput.addEventListener("input",this.handleInputPlaceholderWrapper),this.filteredSearchInput.addEventListener("input",this.handleInputVisualTokenWrapper),this.filteredSearchInput.addEventListener("keydown",this.checkForEnterWrapper),this.filteredSearchInput.addEventListener("keyup",this.checkForBackspaceWrapper),this.filteredSearchInput.addEventListener("click",this.tokenChange),this.filteredSearchInput.addEventListener("keyup",this.tokenChange),this.filteredSearchInput.addEventListener("focus",this.addInputContainerFocusWrapper),this.tokensContainer.addEventListener("click",this.removeTokenWrapper),this.tokensContainer.addEventListener("click",this.editTokenWrapper),this.clearSearchButton.addEventListener("click",this.onClearSearchWrapper),document.addEventListener("click",this.unselectEditTokensWrapper),document.addEventListener("click",this.removeInputContainerFocusWrapper),document.addEventListener("keydown",this.removeSelectedTokenKeydownWrapper),c.$on("recentSearchesItemSelected",this.onrecentSearchesItemSelectedWrapper),this.bindStateEvents()}},{key:"unbindEvents",value:function(){this.filteredSearchInputForm.removeEventListener("submit",this.handleFormSubmit),this.filteredSearchInput.removeEventListener("input",this.setDropdownWrapper),this.filteredSearchInput.removeEventListener("input",this.toggleClearSearchButtonWrapper),this.filteredSearchInput.removeEventListener("input",this.handleInputPlaceholderWrapper),this.filteredSearchInput.removeEventListener("input",this.handleInputVisualTokenWrapper),this.filteredSearchInput.removeEventListener("keydown",this.checkForEnterWrapper),this.filteredSearchInput.removeEventListener("keyup",this.checkForBackspaceWrapper),this.filteredSearchInput.removeEventListener("click",this.tokenChange),this.filteredSearchInput.removeEventListener("keyup",this.tokenChange),this.filteredSearchInput.removeEventListener("focus",this.addInputContainerFocusWrapper),this.tokensContainer.removeEventListener("click",this.removeTokenWrapper),this.tokensContainer.removeEventListener("click",this.editTokenWrapper),this.clearSearchButton.removeEventListener("click",this.onClearSearchWrapper),document.removeEventListener("click",this.unselectEditTokensWrapper),document.removeEventListener("click",this.removeInputContainerFocusWrapper),document.removeEventListener("keydown",this.removeSelectedTokenKeydownWrapper),c.$off("recentSearchesItemSelected",this.onrecentSearchesItemSelectedWrapper),this.unbindStateEvents()}},{key:"checkForBackspace",value:function(){var e=this,t=0;return function(s){if(8===s.keyCode||46===s.keyCode){var i=j.a.getLastVisualTokenBeforeInput().lastVisualToken,n=L.a.getVisualTokenValues(i),a=n.tokenName,r=n.tokenValue,o=a&&e.canEdit&&e.canEdit(a,r);""===e.filteredSearchInput.value&&i&&o&&2===(t+=1)&&(t=0,e.filteredSearchInput.value=j.a.getLastTokenPartial(),j.a.removeLastTokenPartial()),e.dropdownManager.updateCurrentDropdownOffset()}else t=0}}},{key:"checkForEnter",value:function(e){if(38===e.keyCode||40===e.keyCode){var t=this.filteredSearchInput.selectionStart;e.preventDefault(),this.filteredSearchInput.setSelectionRange(t,t)}if(13===e.keyCode){var s=this.dropdownManager.mapping[this.dropdownManager.currentDropdown].element.querySelectorAll(".droplab-item-active");e.preventDefault(),s.length||(this.isHandledAsync?(e.stopImmediatePropagation(),this.filteredSearchInput.blur(),this.dropdownManager.resetDropdowns()):this.dropdownManager.destroyDroplab(),this.search())}}},{key:"addInputContainerFocus",value:function(){Object(I.a)(this.filteredSearchInput.closest(".filtered-search-box"),"focus")}},{key:"removeInputContainerFocus",value:function(e){var t=this.filteredSearchInput.closest(".filtered-search-box"),s=t&&t.contains(e.target),i=null!==e.target.closest(".filter-dropdown"),n=null!==e.target.closest("ul[data-dropdown]");s||i||n||!t||t.classList.remove("focus")}},{key:"removeToken",value:function(e){if(e.target.closest(".remove-token")){e.preventDefault(),e.stopImmediatePropagation();var t=e.target.closest(".selectable");j.a.selectToken(t,!0),this.removeSelectedToken()}}},{key:"unselectEditTokens",value:function(e){var t=this.container.querySelector(".filtered-search-box"),s=t&&t.contains(e.target),i=null!==e.target.closest(".filter-dropdown"),n=e.target.classList.contains("tokens-container");(!s&&!i||n)&&(j.a.moveInputToTheRight(),this.dropdownManager.resetDropdowns())}},{key:"editToken",value:function(e){var t=e.target.closest(".js-visual-token"),s=t&&t.querySelector(".name").textContent.trim(),i=this.canEdit&&this.canEdit(s);t&&i&&(e.preventDefault(),e.stopPropagation(),j.a.editToken(t),this.tokenChange())}},{key:"toggleClearSearchButton",value:function(){var e=L.a.getSearchQuery(),t=this.clearSearchButton.classList.contains("hidden");0!==e.length||t?e.length&&t&&this.clearSearchButton.classList.remove("hidden"):this.clearSearchButton.classList.add("hidden")}},{key:"handleInputPlaceholder",value:function(){var e=L.a.getSearchQuery(),t=this.filteredSearchInput.placeholder;0===e.length&&"Search or filter results..."!==t?this.filteredSearchInput.placeholder="Search or filter results...":e.length>0&&""!==t&&(this.filteredSearchInput.placeholder="")}},{key:"removeSelectedTokenKeydown",value:function(e){8!==e.keyCode&&46!==e.keyCode||this.removeSelectedToken()}},{key:"removeSelectedToken",value:function(){j.a.removeSelectedToken(),this.handleInputPlaceholder(),this.toggleClearSearchButton(),this.dropdownManager.updateCurrentDropdownOffset()}},{key:"onClearSearch",value:function(e){e.preventDefault(),this.clearSearch()}},{key:"clearSearch",value:function(){var e=this;this.filteredSearchInput.value="";var t=[];[].forEach.call(this.tokensContainer.children,function(s){var i=s.classList.contains("js-visual-token");if(i){var n=L.a.getVisualTokenValues(s),a=n.tokenName,r=n.tokenValue;i=e.canEdit&&e.canEdit(a,r)}i&&t.push(s)}),t.forEach(function(e){e.parentElement.removeChild(e)}),this.clearSearchButton.classList.add("hidden"),this.handleInputPlaceholder(),this.dropdownManager.resetDropdowns(),this.isHandledAsync&&this.search()}},{key:"handleInputVisualToken",value:function(){var e=this.filteredSearchInput,t=this.tokenizer.processTokens(e.value,this.filteredSearchTokenKeys.getKeys()),s=t.tokens,i=t.searchToken;if(j.a.getLastVisualTokenBeforeInput().isLastVisualTokenValid){s.forEach(function(t){e.value=e.value.replace(t.key+":"+t.symbol+t.value,""),j.a.addFilterVisualToken(t.key,""+t.symbol+t.value)});var a=i.split(":");if(a.length>1){var r=a[0].split(" "),o=n.a.last(r);if(r.length>1){r.pop();var l=r.join(" ");e.value=e.value.replace(l,""),j.a.addSearchVisualToken(l)}j.a.addFilterVisualToken(o),e.value=e.value.replace(o+":","")}}else{i.match(/([~%@]{0,1}".+")|([~%@]{0,1}'.+')|^((?![~%@]')(?![~%@]")(?!')(?!")).*/g)&&" "===e.value[e.value.length-1]&&(j.a.addFilterVisualToken(i),e.value=e.value.replace(i,"").trim())}}},{key:"handleFormSubmit",value:function(e){e.preventDefault(),this.search()}},{key:"saveCurrentSearchQuery",value:function(){var e=this;this.fetchingRecentSearchesPromise.then(function(){var t=L.a.getSearchQuery();if(t.length>0){var s=e.recentSearchesStore.addRecentSearch(t);e.recentSearchesService.save(s)}}).catch(function(){})}},{key:"getAllParams",value:function(e){return this.modifyUrlParams?this.modifyUrlParams(e):e}},{key:"loadSearchParamsFromURL",value:function(){var e=this,t=Object(a.m)(),s=this.getAllParams(t),i=this.getUsernameParams(),n=!1;s.forEach(function(t){var s=t.split("="),a=decodeURIComponent(s[0]),r=s[1],o=e.filteredSearchTokenKeys.searchByConditionUrl(t);if(o){n=!0;var l=e.canEdit&&e.canEdit(o.tokenKey);j.a.addFilterVisualToken(o.tokenKey,o.value,l)}else{var d=r?decodeURIComponent(r.replace(/\+/g," ")):r,u=e.filteredSearchTokenKeys.searchByKeyParam(a);if(u){var c=a.lastIndexOf("_"),h=-1!==c?a.slice(0,c):a;h=h.replace("_","-");var p=u.symbol,f="";-1!==d.indexOf(" ")&&(f=-1===d.indexOf('"')?'"':"'"),n=!0;var g=e.canEdit&&e.canEdit(h,d);j.a.addFilterVisualToken(h,""+p+f+d+f,g)}else if(u||"assignee_id"!==a)if(u||"author_id"!==a)u||"search"!==a||(n=!0,e.filteredSearchInput.value=d);else{var v=parseInt(r,10);if(i[v]){n=!0;var b=e.canEdit&&e.canEdit("author");j.a.addFilterVisualToken("author","@"+i[v],b)}}else{var m=parseInt(r,10);if(i[m]){n=!0;var y=e.canEdit&&e.canEdit("assignee");j.a.addFilterVisualToken("assignee","@"+i[m],y)}}}}),this.saveCurrentSearchQuery(),n&&(this.clearSearchButton.classList.remove("hidden"),this.handleInputPlaceholder())}},{key:"searchState",value:function(e){e.preventDefault();var t=e.currentTarget;t.blur();var s=t.dataset&&t.dataset.state;s&&this.search(s)}},{key:"search",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,s=[],i=L.a.getSearchQuery();this.saveCurrentSearchQuery();var n=this.tokenizer.processTokens(i,this.filteredSearchTokenKeys.getKeys()),o=n.tokens,l=n.searchToken,d=t||Object(a.j)("state")||"opened";if(s.push("state="+d),o.forEach(function(t){var i=e.filteredSearchTokenKeys.searchByConditionKeyValue(t.key,t.value.toLowerCase()),n=(e.filteredSearchTokenKeys.searchByKey(t.key)||{}).param,a=t.key.replace("-","_"),r=n?a+"_"+n:a,o="";if(i)o=i.url;else{var l=t.value;("'"===l[0]&&"'"===l[l.length-1]||'"'===l[0]&&'"'===l[l.length-1])&&(l=l.slice(1,l.length-1)),o=r+"="+encodeURIComponent(l)}s.push(o)}),l){var u=l.split(" ").map(function(e){return encodeURIComponent(e)}).join("+");s.push("search="+u)}var c="?scope=all&utf8=%E2%9C%93&"+s.join("&");this.updateObject?this.updateObject(c):Object(r.g)(c)}},{key:"getUsernameParams",value:function(){var e={};try{var t=this.filteredSearchInput.getAttribute("data-username-params");JSON.parse(t).forEach(function(t){e[t.id]=t.username})}catch(e){}return e}},{key:"tokenChange",value:function(){var e=this.dropdownManager.mapping[this.dropdownManager.currentDropdown];if(e){var t=e.reference;this.setDropdownWrapper(),t.dispatchInputEvent()}}},{key:"onrecentSearchesItemSelected",value:function(e){this.clearSearch(),this.filteredSearchInput.value=e,this.filteredSearchInput.dispatchEvent(new CustomEvent("input")),this.search()}},{key:"canEdit",value:function(){return!0}}]),e}();t.a=B},224:function(e,t,s){"use strict";var i={name:"AssigneeTitle",props:{loading:{type:Boolean,required:!1,default:!1},numberOfAssignees:{type:Number,required:!0},editable:{type:Boolean,required:!0},showToggle:{type:Boolean,required:!1,default:!1}},computed:{assigneeTitle:function(){var e=this.numberOfAssignees;return e>1?e+" Assignees":"Assignee"}}},n=s(2),a=Object(n.a)(i,function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"title hide-collapsed"},[e._v("\n  "+e._s(e.assigneeTitle)+"\n  "),e.loading?s("i",{staticClass:"fa fa-spinner fa-spin block-loading",attrs:{"aria-hidden":"true"}}):e._e(),e._v(" "),e.editable?s("a",{staticClass:"js-sidebar-dropdown-toggle edit-link float-right",attrs:{href:"#"}},[e._v("\n    "+e._s(e.__("Edit"))+"\n  ")]):e._e(),e._v(" "),e.showToggle?s("a",{staticClass:"gutter-toggle float-right js-sidebar-toggle",attrs:{"aria-label":"Toggle sidebar",href:"#",role:"button"}},[s("i",{staticClass:"fa fa-angle-double-right",attrs:{"aria-hidden":"true","data-hidden":"true"}})]):e._e()])},[],!1,null,null,null);t.a=a.exports},225:function(e,t,s){"use strict";var i=s(1),n=s(15),a=s(177),r=s(12),o=s(43),l=Object(i.a)("Notifications on"),d=Object(i.a)("Notifications off"),u={directives:{tooltip:r.a},components:{icon:n.a,toggleButton:a.a},props:{loading:{type:Boolean,required:!1,default:!1},subscribed:{type:Boolean,required:!1,default:null},id:{type:Number,required:!1,default:null}},computed:{showLoadingState:function(){return null===this.subscribed},notificationIcon:function(){return this.subscribed?"notifications":"notifications-off"},notificationTooltip:function(){return this.subscribed?l:d}},methods:{toggleSubscription:function(){o.a.$emit("toggleSubscription",this.id),this.$emit("toggleSubscription",this.id)},onClickCollapsedIcon:function(){this.$emit("toggleSidebar")}}},c=s(2),h=Object(c.a)(u,function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",[s("div",{staticClass:"sidebar-collapsed-icon",on:{click:e.onClickCollapsedIcon}},[s("span",{directives:[{name:"tooltip",rawName:"v-tooltip"}],attrs:{title:e.notificationTooltip,"data-container":"body","data-placement":"left","data-boundary":"viewport"}},[s("icon",{staticClass:"sidebar-item-icon is-active",attrs:{name:e.notificationIcon,size:16,"aria-hidden":"true"}})],1)]),e._v(" "),s("span",{staticClass:"issuable-header-text hide-collapsed float-left"},[e._v("\n    "+e._s(e.__("Notifications"))+"\n  ")]),e._v(" "),s("toggle-button",{ref:"toggleButton",staticClass:"float-right hide-collapsed js-issuable-subscribe-button",attrs:{"is-loading":e.showLoadingState,value:e.subscribed},on:{change:e.toggleSubscription}})],1)},[],!1,null,null,null);t.a=h.exports},227:function(e,t,s){"use strict";var i=s(1),n={name:"Assignees",directives:{tooltip:s(12).a},props:{rootPath:{type:String,required:!0},users:{type:Array,required:!0},editable:{type:Boolean,required:!0},issuableType:{type:String,require:!0,default:"issue"}},data:function(){return{defaultRenderCount:5,defaultMaxCounter:99,showLess:!0}},computed:{firstUser:function(){return this.users[0]},hasMoreThanTwoAssignees:function(){return this.users.length>2},hasMoreThanOneAssignee:function(){return this.users.length>1},hasAssignees:function(){return this.users.length>0},hasNoUsers:function(){return!this.users.length},hasOneUser:function(){return 1===this.users.length},renderShowMoreSection:function(){return this.users.length>this.defaultRenderCount},numberOfHiddenAssignees:function(){return this.users.length-this.defaultRenderCount},isHiddenAssignees:function(){return this.numberOfHiddenAssignees>0},hiddenAssigneesLabel:function(){return"+ "+this.numberOfHiddenAssignees+" more"},collapsedTooltipTitle:function(){var e=Math.min(this.defaultRenderCount,this.users.length),t=this.users.slice(0,e).map(function(e){return e.name});if(this.users.length>e&&t.push("+ "+(this.users.length-e)+" more"),!this.users.length){var s="issue"===this.issuableType?Object(i.a)("Assignee(s)"):Object(i.a)("Assignee");t.push(s)}return t.join(", ")},sidebarAvatarCounter:function(){var e="+"+(this.users.length-1);return this.users.length>this.defaultMaxCounter&&(e=this.defaultMaxCounter+"+"),e}},methods:{assignSelf:function(){this.$emit("assign-self")},toggleShowLess:function(){this.showLess=!this.showLess},renderAssignee:function(e){return!this.showLess||e<this.defaultRenderCount&&this.showLess},avatarUrl:function(e){return e.avatar||e.avatar_url||gon.default_avatar_url},assigneeUrl:function(e){return""+this.rootPath+e.username},assigneeAlt:function(e){return e.name+"'s avatar"},assigneeUsername:function(e){return"@"+e.username},shouldRenderCollapsedAssignee:function(e){var t=this.users.length<=2&&e<=2;return 0===e||t}}},a=s(2),r=Object(a.a)(n,function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",[s("div",{directives:[{name:"tooltip",rawName:"v-tooltip"}],staticClass:"sidebar-collapsed-icon sidebar-collapsed-user",class:{"multiple-users":e.hasMoreThanOneAssignee},attrs:{title:e.collapsedTooltipTitle,"data-container":"body","data-placement":"left","data-boundary":"viewport"}},[e.hasNoUsers?s("i",{staticClass:"fa fa-user",attrs:{"aria-label":"No Assignee"}}):e._e(),e._v(" "),e._l(e.users,function(t,i){return e.shouldRenderCollapsedAssignee(i)?s("button",{key:t.id,staticClass:"btn-link",attrs:{type:"button"}},[s("img",{staticClass:"avatar avatar-inline s24",attrs:{alt:e.assigneeAlt(t),src:e.avatarUrl(t),width:"24"}}),e._v(" "),s("span",{staticClass:"author"},[e._v("\n        "+e._s(t.name)+"\n      ")])]):e._e()}),e._v(" "),e.hasMoreThanTwoAssignees?s("button",{staticClass:"btn-link",attrs:{type:"button"}},[s("span",{staticClass:"avatar-counter sidebar-avatar-counter"},[e._v("\n        "+e._s(e.sidebarAvatarCounter)+"\n      ")])]):e._e()],2),e._v(" "),s("div",{staticClass:"value hide-collapsed"},[e.hasNoUsers?[s("span",{staticClass:"assign-yourself no-value"},[e._v("\n        No assignee\n        "),e.editable?[e._v("\n          -\n          "),s("button",{staticClass:"btn-link",attrs:{type:"button"},on:{click:e.assignSelf}},[e._v("\n            assign yourself\n          ")])]:e._e()],2)]:e.hasOneUser?[s("a",{staticClass:"author-link bold",attrs:{href:e.assigneeUrl(e.firstUser)}},[s("img",{staticClass:"avatar avatar-inline s32",attrs:{alt:e.assigneeAlt(e.firstUser),src:e.avatarUrl(e.firstUser),width:"32"}}),e._v(" "),s("span",{staticClass:"author"},[e._v("\n          "+e._s(e.firstUser.name)+"\n        ")]),e._v(" "),s("span",{staticClass:"username"},[e._v("\n          "+e._s(e.assigneeUsername(e.firstUser))+"\n        ")])])]:[s("div",{staticClass:"user-list"},e._l(e.users,function(t,i){return e.renderAssignee(i)?s("div",{key:t.id,staticClass:"user-item"},[s("a",{staticClass:"user-link has-tooltip",attrs:{href:e.assigneeUrl(t),"data-title":t.name,"data-container":"body","data-placement":"bottom"}},[s("img",{staticClass:"avatar avatar-inline s32",attrs:{alt:e.assigneeAlt(t),src:e.avatarUrl(t),width:"32"}})])]):e._e()})),e._v(" "),e.renderShowMoreSection?s("div",{staticClass:"user-list-more"},[s("button",{staticClass:"btn-link",attrs:{type:"button"},on:{click:e.toggleShowLess}},[e.showLess?[e._v("\n            "+e._s(e.hiddenAssigneesLabel)+"\n          ")]:[e._v("\n            - show less\n          ")]],2)]):e._e()]],2)])},[],!1,null,null,null);t.a=r.exports},231:function(e,t,s){"use strict";var i=s(0),n=s.n(i),a=s(39),r=s.n(a),o=s(91),l=s(81);t.a=function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.userSelect=new l.a(t),n()("select.select2").select2({width:"resolve",dropdownAutoWidth:!0}),n()(".issuable-sidebar .inline-update").on("change","select",function(){return n()(this).submit()}),n()(".issuable-sidebar .inline-update").on("change",".js-assignee",function(){return n()(this).submit()}),n()(document).off("click",".issuable-sidebar .dropdown-content a").on("click",".issuable-sidebar .dropdown-content a",function(e){return e.preventDefault()}),n()(document).off("click",".edit-link").on("click",".edit-link",function(e){e.preventDefault();var t=n()(this).parents(".block"),s=t.find(".selectbox");s.is(":visible")?(s.hide(),t.find(".value:not(.dont-hide)").show()):(s.show(),t.find(".value:not(.dont-hide)").hide()),s.is(":visible")&&setTimeout(function(){return t.find(".dropdown-menu-toggle").trigger("click")},0)}),window.addEventListener("beforeunload",function(){var e=o.a.getBreakpointSize();"xs"!==e&&"sm"!==e||r.a.set("collapsed_gutter",!0)})}},266:function(e,t,s){var i,n;
/**!
 * Sortable
 * @author	RubaXa   <trash@rubaxa.org>
 * @license MIT
 */
/**!
 * Sortable
 * @author	RubaXa   <trash@rubaxa.org>
 * @license MIT
 */
!function(a){"use strict";void 0===(n="function"==typeof(i=a)?i.call(t,s,t,e):i)||(e.exports=n)}(function(){"use strict";if("undefined"==typeof window||!window.document)return function(){throw new Error("Sortable.js requires a window with a document")};var e,t,s,i,n,a,r,o,l,d,u,c,h,p,f,g,v,b,m,y,w,k={},S=/\s+/g,_=/left|right|inline/,C="Sortable"+(new Date).getTime(),I=window,E=I.document,j=I.parseInt,L=I.setTimeout,D=I.jQuery||I.Zepto,B=I.Polymer,T=!1,x="draggable"in E.createElement("div"),A=!navigator.userAgent.match(/(?:Trident.*rv[ :]?11\.|msie)/i)&&((w=E.createElement("x")).style.cssText="pointer-events:auto","auto"===w.style.pointerEvents),O=!1,P=Math.abs,$=Math.min,U=[],N=[],q=ie(function(e,t,s){if(s&&t.scroll){var i,n,a,r,u,c,h=s[C],p=t.scrollSensitivity,f=t.scrollSpeed,g=e.clientX,v=e.clientY,b=window.innerWidth,m=window.innerHeight;if(l!==s&&(o=t.scroll,l=s,d=t.scrollFn,!0===o)){o=s;do{if(o.offsetWidth<o.scrollWidth||o.offsetHeight<o.scrollHeight)break}while(o=o.parentNode)}o&&(i=o,n=o.getBoundingClientRect(),a=(P(n.right-g)<=p)-(P(n.left-g)<=p),r=(P(n.bottom-v)<=p)-(P(n.top-v)<=p)),a||r||(r=(m-v<=p)-(v<=p),((a=(b-g<=p)-(g<=p))||r)&&(i=I)),k.vx===a&&k.vy===r&&k.el===i||(k.el=i,k.vx=a,k.vy=r,clearInterval(k.pid),i&&(k.pid=setInterval(function(){if(c=r?r*f:0,u=a?a*f:0,"function"==typeof d)return d.call(h,u,c,e);i===I?I.scrollTo(I.pageXOffset+u,I.pageYOffset+c):(i.scrollTop+=c,i.scrollLeft+=u)},24)))}},30),F=function(e){function t(e,t){return void 0!==e&&!0!==e||(e=s.name),"function"==typeof e?e:function(s,i){var n=i.options.group.name;return t?e:e&&(e.join?e.indexOf(n)>-1:n==e)}}var s={},i=e.group;i&&"object"==typeof i||(i={name:i}),s.name=i.name,s.checkPull=t(i.pull,!0),s.checkPut=t(i.put),s.revertClone=i.revertClone,e.group=s};try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:function(){T={capture:!1,passive:!1}}}))}catch(e){}function R(e,t){if(!e||!e.nodeType||1!==e.nodeType)throw"Sortable: `el` must be HTMLElement, and not "+{}.toString.call(e);this.el=e,this.options=t=ne({},t),e[C]=this;var s={group:Math.random(),sort:!0,disabled:!1,store:null,handle:null,scroll:!0,scrollSensitivity:30,scrollSpeed:10,draggable:/[uo]l/i.test(e.nodeName)?"li":">*",ghostClass:"sortable-ghost",chosenClass:"sortable-chosen",dragClass:"sortable-drag",ignore:"a, img",filter:null,preventOnFilter:!0,animation:0,setData:function(e,t){e.setData("Text",t.textContent)},dropBubble:!1,dragoverBubble:!1,dataIdAttr:"data-id",delay:0,forceFallback:!1,fallbackClass:"sortable-fallback",fallbackOnBody:!1,fallbackTolerance:0,fallbackOffset:{x:0,y:0},supportPointer:!1!==R.supportPointer};for(var i in s)!(i in t)&&(t[i]=s[i]);for(var n in F(t),this)"_"===n.charAt(0)&&"function"==typeof this[n]&&(this[n]=this[n].bind(this));this.nativeDraggable=!t.forceFallback&&x,H(e,"mousedown",this._onTapStart),H(e,"touchstart",this._onTapStart),t.supportPointer&&H(e,"pointerdown",this._onTapStart),this.nativeDraggable&&(H(e,"dragover",this),H(e,"dragenter",this)),N.push(this._onDragOver),t.store&&this.sort(t.store.get(this))}function M(t,s){"clone"!==t.lastPullMode&&(s=!0),i&&i.state!==s&&(Y(i,"display",s?"none":""),s||i.state&&(t.options.group.revertClone?(n.insertBefore(i,a),t._animate(e,i)):n.insertBefore(i,e)),i.state=s)}function W(e,t,s){if(e){s=s||E;do{if(">*"===t&&e.parentNode===s||se(e,t))return e}while(e=z(e))}return null}function z(e){var t=e.host;return t&&t.nodeType?t:e.parentNode}function H(e,t,s){e.addEventListener(t,s,T)}function V(e,t,s){e.removeEventListener(t,s,T)}function K(e,t,s){if(e)if(e.classList)e.classList[s?"add":"remove"](t);else{var i=(" "+e.className+" ").replace(S," ").replace(" "+t+" "," ");e.className=(i+(s?" "+t:"")).replace(S," ")}}function Y(e,t,s){var i=e&&e.style;if(i){if(void 0===s)return E.defaultView&&E.defaultView.getComputedStyle?s=E.defaultView.getComputedStyle(e,""):e.currentStyle&&(s=e.currentStyle),void 0===t?s:s[t];t in i||(t="-webkit-"+t),i[t]=s+("string"==typeof s?"":"px")}}function X(e,t,s){if(e){var i=e.getElementsByTagName(t),n=0,a=i.length;if(s)for(;n<a;n++)s(i[n],n);return i}return[]}function G(e,t,s,n,a,r,o,l){e=e||t[C];var d=E.createEvent("Event"),u=e.options,c="on"+s.charAt(0).toUpperCase()+s.substr(1);d.initEvent(s,!0,!0),d.to=a||t,d.from=r||t,d.item=n||t,d.clone=i,d.oldIndex=o,d.newIndex=l,t.dispatchEvent(d),u[c]&&u[c].call(e,d)}function J(e,t,s,i,n,a,r,o){var l,d,u=e[C],c=u.options.onMove;return(l=E.createEvent("Event")).initEvent("move",!0,!0),l.to=t,l.from=e,l.dragged=s,l.draggedRect=i,l.related=n||t,l.relatedRect=a||t.getBoundingClientRect(),l.willInsertAfter=o,e.dispatchEvent(l),c&&(d=c.call(u,l,r)),d}function Q(e){e.draggable=!1}function Z(){O=!1}function ee(e){for(var t=e.tagName+e.className+e.src+e.href+e.textContent,s=t.length,i=0;s--;)i+=t.charCodeAt(s);return i.toString(36)}function te(e,t){var s=0;if(!e||!e.parentNode)return-1;for(;e&&(e=e.previousElementSibling);)"TEMPLATE"===e.nodeName.toUpperCase()||">*"!==t&&!se(e,t)||s++;return s}function se(e,t){if(e){var s=(t=t.split(".")).shift().toUpperCase(),i=new RegExp("\\s("+t.join("|")+")(?=\\s)","g");return!(""!==s&&e.nodeName.toUpperCase()!=s||t.length&&((" "+e.className+" ").match(i)||[]).length!=t.length)}return!1}function ie(e,t){var s,i;return function(){void 0===s&&(s=arguments,i=this,L(function(){1===s.length?e.call(i,s[0]):e.apply(i,s),s=void 0},t))}}function ne(e,t){if(e&&t)for(var s in t)t.hasOwnProperty(s)&&(e[s]=t[s]);return e}function ae(e){return B&&B.dom?B.dom(e).cloneNode(!0):D?D(e).clone(!0)[0]:e.cloneNode(!0)}function re(e){return L(e,0)}function oe(e){return clearTimeout(e)}return R.prototype={constructor:R,_onTapStart:function(t){var s,i=this,n=this.el,a=this.options,o=a.preventOnFilter,l=t.type,d=t.touches&&t.touches[0],u=(d||t).target,c=t.target.shadowRoot&&t.path&&t.path[0]||u,h=a.filter;if(function(e){var t=e.getElementsByTagName("input"),s=t.length;for(;s--;){var i=t[s];i.checked&&U.push(i)}}(n),!e&&!(/mousedown|pointerdown/.test(l)&&0!==t.button||a.disabled)&&!c.isContentEditable&&(u=W(u,a.draggable,n))&&r!==u){if(s=te(u,a.draggable),"function"==typeof h){if(h.call(this,t,u,this))return G(i,c,"filter",u,n,n,s),void(o&&t.preventDefault())}else if(h&&(h=h.split(",").some(function(e){if(e=W(c,e.trim(),n))return G(i,e,"filter",u,n,n,s),!0})))return void(o&&t.preventDefault());a.handle&&!W(c,a.handle,n)||this._prepareDragStart(t,d,u,s)}},_prepareDragStart:function(s,i,o,l){var d,u=this,c=u.el,h=u.options,f=c.ownerDocument;o&&!e&&o.parentNode===c&&(b=s,n=c,t=(e=o).parentNode,a=e.nextSibling,r=o,g=h.group,p=l,this._lastX=(i||s).clientX,this._lastY=(i||s).clientY,e.style["will-change"]="all",d=function(){u._disableDelayedDrag(),e.draggable=u.nativeDraggable,K(e,h.chosenClass,!0),u._triggerDragStart(s,i),G(u,n,"choose",e,n,n,p)},h.ignore.split(",").forEach(function(t){X(e,t.trim(),Q)}),H(f,"mouseup",u._onDrop),H(f,"touchend",u._onDrop),H(f,"touchcancel",u._onDrop),H(f,"selectstart",u),h.supportPointer&&H(f,"pointercancel",u._onDrop),h.delay?(H(f,"mouseup",u._disableDelayedDrag),H(f,"touchend",u._disableDelayedDrag),H(f,"touchcancel",u._disableDelayedDrag),H(f,"mousemove",u._disableDelayedDrag),H(f,"touchmove",u._disableDelayedDrag),h.supportPointer&&H(f,"pointermove",u._disableDelayedDrag),u._dragStartTimer=L(d,h.delay)):d())},_disableDelayedDrag:function(){var e=this.el.ownerDocument;clearTimeout(this._dragStartTimer),V(e,"mouseup",this._disableDelayedDrag),V(e,"touchend",this._disableDelayedDrag),V(e,"touchcancel",this._disableDelayedDrag),V(e,"mousemove",this._disableDelayedDrag),V(e,"touchmove",this._disableDelayedDrag),V(e,"pointermove",this._disableDelayedDrag)},_triggerDragStart:function(t,s){(s=s||("touch"==t.pointerType?t:null))?(b={target:e,clientX:s.clientX,clientY:s.clientY},this._onDragStart(b,"touch")):this.nativeDraggable?(H(e,"dragend",this),H(n,"dragstart",this._onDragStart)):this._onDragStart(b,!0);try{E.selection?re(function(){E.selection.empty()}):window.getSelection().removeAllRanges()}catch(e){}},_dragStarted:function(){if(n&&e){var t=this.options;K(e,t.ghostClass,!0),K(e,t.dragClass,!1),R.active=this,G(this,n,"start",e,n,n,p)}else this._nulling()},_emulateDragOver:function(){if(m){if(this._lastX===m.clientX&&this._lastY===m.clientY)return;this._lastX=m.clientX,this._lastY=m.clientY,A||Y(s,"display","none");var e=E.elementFromPoint(m.clientX,m.clientY),t=e,i=N.length;if(e&&e.shadowRoot&&(t=e=e.shadowRoot.elementFromPoint(m.clientX,m.clientY)),t)do{if(t[C]){for(;i--;)N[i]({clientX:m.clientX,clientY:m.clientY,target:e,rootEl:t});break}e=t}while(t=t.parentNode);A||Y(s,"display","")}},_onTouchMove:function(e){if(b){var t=this.options,i=t.fallbackTolerance,n=t.fallbackOffset,a=e.touches?e.touches[0]:e,r=a.clientX-b.clientX+n.x,o=a.clientY-b.clientY+n.y,l=e.touches?"translate3d("+r+"px,"+o+"px,0)":"translate("+r+"px,"+o+"px)";if(!R.active){if(i&&$(P(a.clientX-this._lastX),P(a.clientY-this._lastY))<i)return;this._dragStarted()}this._appendGhost(),y=!0,m=a,Y(s,"webkitTransform",l),Y(s,"mozTransform",l),Y(s,"msTransform",l),Y(s,"transform",l),e.preventDefault()}},_appendGhost:function(){if(!s){var t,i=e.getBoundingClientRect(),a=Y(e),r=this.options;K(s=e.cloneNode(!0),r.ghostClass,!1),K(s,r.fallbackClass,!0),K(s,r.dragClass,!0),Y(s,"top",i.top-j(a.marginTop,10)),Y(s,"left",i.left-j(a.marginLeft,10)),Y(s,"width",i.width),Y(s,"height",i.height),Y(s,"opacity","0.8"),Y(s,"position","fixed"),Y(s,"zIndex","100000"),Y(s,"pointerEvents","none"),r.fallbackOnBody&&E.body.appendChild(s)||n.appendChild(s),t=s.getBoundingClientRect(),Y(s,"width",2*i.width-t.width),Y(s,"height",2*i.height-t.height)}},_onDragStart:function(t,s){var a=this,r=t.dataTransfer,o=a.options;a._offUpEvents(),g.checkPull(a,a,e,t)&&((i=ae(e)).draggable=!1,i.style["will-change"]="",Y(i,"display","none"),K(i,a.options.chosenClass,!1),a._cloneId=re(function(){n.insertBefore(i,e),G(a,n,"clone",e)})),K(e,o.dragClass,!0),s?("touch"===s?(H(E,"touchmove",a._onTouchMove),H(E,"touchend",a._onDrop),H(E,"touchcancel",a._onDrop),o.supportPointer&&(H(E,"pointermove",a._onTouchMove),H(E,"pointerup",a._onDrop))):(H(E,"mousemove",a._onTouchMove),H(E,"mouseup",a._onDrop)),a._loopId=setInterval(a._emulateDragOver,50)):(r&&(r.effectAllowed="move",o.setData&&o.setData.call(a,r,e)),H(E,"drop",a),a._dragStartId=re(a._dragStarted))},_onDragOver:function(r){var o,l,d,p,f=this.el,b=this.options,m=b.group,w=R.active,k=g===m,S=!1,I=b.sort;if(void 0!==r.preventDefault&&(r.preventDefault(),!b.dragoverBubble&&r.stopPropagation()),!e.animated&&(y=!0,w&&!b.disabled&&(k?I||(p=!n.contains(e)):v===this||(w.lastPullMode=g.checkPull(this,w,e,r))&&m.checkPut(this,w,e,r))&&(void 0===r.rootEl||r.rootEl===this.el))){if(q(r,b,this.el),O)return;if(o=W(r.target,b.draggable,f),l=e.getBoundingClientRect(),v!==this&&(v=this,S=!0),p)return M(w,!0),t=n,void(i||a?n.insertBefore(e,i||a):I||n.appendChild(e));if(0===f.children.length||f.children[0]===s||f===r.target&&function(e,t){var s=e.lastElementChild.getBoundingClientRect();return t.clientY-(s.top+s.height)>5||t.clientX-(s.left+s.width)>5}(f,r)){if(0!==f.children.length&&f.children[0]!==s&&f===r.target&&(o=f.lastElementChild),o){if(o.animated)return;d=o.getBoundingClientRect()}M(w,k),!1!==J(n,f,e,l,o,d,r)&&(e.contains(f)||(f.appendChild(e),t=f),this._animate(l,e),o&&this._animate(d,o))}else if(o&&!o.animated&&o!==e&&void 0!==o.parentNode[C]){u!==o&&(u=o,c=Y(o),h=Y(o.parentNode));var E=(d=o.getBoundingClientRect()).right-d.left,j=d.bottom-d.top,D=_.test(c.cssFloat+c.display)||"flex"==h.display&&0===h["flex-direction"].indexOf("row"),B=o.offsetWidth>e.offsetWidth,T=o.offsetHeight>e.offsetHeight,x=(D?(r.clientX-d.left)/E:(r.clientY-d.top)/j)>.5,A=o.nextElementSibling,P=!1;if(D){var $=e.offsetTop,U=o.offsetTop;P=$===U?o.previousElementSibling===e&&!B||x&&B:o.previousElementSibling===e||e.previousElementSibling===o?(r.clientY-d.top)/j>.5:U>$}else S||(P=A!==e&&!T||x&&T);var N=J(n,f,e,l,o,d,r,P);!1!==N&&(1!==N&&-1!==N||(P=1===N),O=!0,L(Z,30),M(w,k),e.contains(f)||(P&&!A?f.appendChild(e):o.parentNode.insertBefore(e,P?A:o)),t=e.parentNode,this._animate(l,e),this._animate(d,o))}}},_animate:function(e,t){var s=this.options.animation;if(s){var i=t.getBoundingClientRect();1===e.nodeType&&(e=e.getBoundingClientRect()),Y(t,"transition","none"),Y(t,"transform","translate3d("+(e.left-i.left)+"px,"+(e.top-i.top)+"px,0)"),t.offsetWidth,Y(t,"transition","all "+s+"ms"),Y(t,"transform","translate3d(0,0,0)"),clearTimeout(t.animated),t.animated=L(function(){Y(t,"transition",""),Y(t,"transform",""),t.animated=!1},s)}},_offUpEvents:function(){var e=this.el.ownerDocument;V(E,"touchmove",this._onTouchMove),V(E,"pointermove",this._onTouchMove),V(e,"mouseup",this._onDrop),V(e,"touchend",this._onDrop),V(e,"pointerup",this._onDrop),V(e,"touchcancel",this._onDrop),V(e,"pointercancel",this._onDrop),V(e,"selectstart",this)},_onDrop:function(r){var o=this.el,l=this.options;clearInterval(this._loopId),clearInterval(k.pid),clearTimeout(this._dragStartTimer),oe(this._cloneId),oe(this._dragStartId),V(E,"mouseover",this),V(E,"mousemove",this._onTouchMove),this.nativeDraggable&&(V(E,"drop",this),V(o,"dragstart",this._onDragStart)),this._offUpEvents(),r&&(y&&(r.preventDefault(),!l.dropBubble&&r.stopPropagation()),s&&s.parentNode&&s.parentNode.removeChild(s),n!==t&&"clone"===R.active.lastPullMode||i&&i.parentNode&&i.parentNode.removeChild(i),e&&(this.nativeDraggable&&V(e,"dragend",this),Q(e),e.style["will-change"]="",K(e,this.options.ghostClass,!1),K(e,this.options.chosenClass,!1),G(this,n,"unchoose",e,t,n,p),n!==t?(f=te(e,l.draggable))>=0&&(G(null,t,"add",e,t,n,p,f),G(this,n,"remove",e,t,n,p,f),G(null,t,"sort",e,t,n,p,f),G(this,n,"sort",e,t,n,p,f)):e.nextSibling!==a&&(f=te(e,l.draggable))>=0&&(G(this,n,"update",e,t,n,p,f),G(this,n,"sort",e,t,n,p,f)),R.active&&(null!=f&&-1!==f||(f=p),G(this,n,"end",e,t,n,p,f),this.save()))),this._nulling()},_nulling:function(){n=e=t=s=a=i=r=o=l=b=m=y=f=u=c=v=g=R.active=null,U.forEach(function(e){e.checked=!0}),U.length=0},handleEvent:function(t){switch(t.type){case"drop":case"dragend":this._onDrop(t);break;case"dragover":case"dragenter":e&&(this._onDragOver(t),function(e){e.dataTransfer&&(e.dataTransfer.dropEffect="move");e.preventDefault()}(t));break;case"mouseover":this._onDrop(t);break;case"selectstart":t.preventDefault()}},toArray:function(){for(var e,t=[],s=this.el.children,i=0,n=s.length,a=this.options;i<n;i++)W(e=s[i],a.draggable,this.el)&&t.push(e.getAttribute(a.dataIdAttr)||ee(e));return t},sort:function(e){var t={},s=this.el;this.toArray().forEach(function(e,i){var n=s.children[i];W(n,this.options.draggable,s)&&(t[e]=n)},this),e.forEach(function(e){t[e]&&(s.removeChild(t[e]),s.appendChild(t[e]))})},save:function(){var e=this.options.store;e&&e.set(this)},closest:function(e,t){return W(e,t||this.options.draggable,this.el)},option:function(e,t){var s=this.options;if(void 0===t)return s[e];s[e]=t,"group"===e&&F(s)},destroy:function(){var e=this.el;e[C]=null,V(e,"mousedown",this._onTapStart),V(e,"touchstart",this._onTapStart),V(e,"pointerdown",this._onTapStart),this.nativeDraggable&&(V(e,"dragover",this),V(e,"dragenter",this)),Array.prototype.forEach.call(e.querySelectorAll("[draggable]"),function(e){e.removeAttribute("draggable")}),N.splice(N.indexOf(this._onDragOver),1),this._onDrop(),this.el=e=null}},H(E,"touchmove",function(e){R.active&&e.preventDefault()}),R.utils={on:H,off:V,css:Y,find:X,is:function(e,t){return!!W(e,t,e)},extend:ne,throttle:ie,closest:W,toggleClass:K,clone:ae,index:te,nextTick:re,cancelNextTick:oe},R.create=function(e,t){return new R(e,t)},R.version="1.7.0",R})},43:function(e,t,s){"use strict";var i=new(s(8).default);window.emitSidebarEvent=function(){return i.$emit.apply(i,arguments)},t.a=i},446:function(e,t,s){"use strict";var i=s(0),n=s.n(i),a=s(3),r=s.n(a),o=s(8),l=s(7),d=s(1);var u=function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.id=t.id,this.title=t.title,this.type=t.type,this.color=t.color,this.textColor=t.text_color,this.description=t.description,this.priority=null!==t.priority?t.priority:1/0},c=u;window.ListLabel=u;var h=function e(t,s){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.id=t.id,this.name=t.name,this.username=t.username,this.avatar=t.avatar_url||t.avatar||s,this.path=t.path,this.state=t.state,this.webUrl=t.web_url||t.webUrl},p=h;window.ListAssignee=h;var f=s(104),g=s(201),v="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},b=function(){function e(e,t){for(var s=0;s<t.length;s++){var i=t[s];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,s,i){return s&&e(t.prototype,s),i&&e(t,i),t}}();var m=function(e){function t(e){var s=arguments.length>1&&void 0!==arguments[1]&&arguments[1],i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,{page:"boards",isGroupDecendent:!0,stateFiltersSelector:".issues-state-filters"}));return n.store=e,n.updateUrl=s,n.isHandledAsync=!0,n.cantEdit=i.filter(function(e){return"string"==typeof e}),n.cantEditWithValue=i.filter(function(e){return"object"===(void 0===e?"undefined":v(e))}),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,g["a"]),b(t,[{key:"updateObject",value:function(e){this.store.path=e.substr(1),this.updateUrl&&gl.issueBoards.BoardsStore.updateFiltersUrl()}},{key:"removeTokens",value:function(){var e=f.a.container.querySelectorAll(".js-visual-token");[].forEach.call(e,function(e){e.parentNode.removeChild(e)}),this.filteredSearchInput.value=""}},{key:"updateTokens",value:function(){this.removeTokens(),this.loadSearchParamsFromURL(),this.filteredSearchInput.dispatchEvent(new Event("input"))}},{key:"canEdit",value:function(e,t){return!this.cantEdit.includes(e)&&-1===this.cantEditWithValue.findIndex(function(s){return s.name===e&&s.value===t})}}]),t}(),y=new o.default,w=s(43);var k=function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.id=t.id,this.path=t.path},S=function(){function e(e,t){for(var s=0;s<t.length;s++){var i=t[s];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,s,i){return s&&e(t.prototype,s),i&&e(t,i),t}}();var _=function(){function e(t,s){var i=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.id=t.id,this.iid=t.iid,this.title=t.title,this.confidential=t.confidential,this.dueDate=t.due_date,this.subscribed=t.subscribed,this.labels=[],this.assignees=[],this.selected=!1,this.position=t.relative_position||1/0,this.isFetching={subscriptions:!0},this.isLoading={},this.sidebarInfoEndpoint=t.issue_sidebar_endpoint,this.referencePath=t.reference_path,this.path=t.real_path,this.toggleSubscriptionEndpoint=t.toggle_subscription_endpoint,this.milestone_id=t.milestone_id,this.project_id=t.project_id,t.project&&(this.project=new k(t.project)),t.milestone&&(this.milestone=new ListMilestone(t.milestone)),t.labels.forEach(function(e){i.labels.push(new ListLabel(e))}),this.assignees=t.assignees.map(function(e){return new ListAssignee(e,s)})}return S(e,[{key:"addLabel",value:function(e){this.findLabel(e)||this.labels.push(new ListLabel(e))}},{key:"findLabel",value:function(e){return this.labels.filter(function(t){return t.title===e.title})[0]}},{key:"removeLabel",value:function(e){e&&(this.labels=this.labels.filter(function(t){return e.title!==t.title}))}},{key:"removeLabels",value:function(e){e.forEach(this.removeLabel.bind(this))}},{key:"addAssignee",value:function(e){this.findAssignee(e)||this.assignees.push(new ListAssignee(e))}},{key:"findAssignee",value:function(e){return this.assignees.filter(function(t){return t.id===e.id})[0]}},{key:"removeAssignee",value:function(e){e&&(this.assignees=this.assignees.filter(function(t){return t.id!==e.id}))}},{key:"removeAllAssignees",value:function(){this.assignees=[]}},{key:"getLists",value:function(){var e=this;return gl.issueBoards.BoardsStore.state.lists.filter(function(t){return t.findIssue(e.id)})}},{key:"updateData",value:function(e){Object.assign(this,e)}},{key:"setFetchingState",value:function(e,t){this.isFetching[e]=t}},{key:"setLoadingState",value:function(e,t){this.isLoading[e]=t}},{key:"update",value:function(){var e={issue:{milestone_id:this.milestone?this.milestone.id:null,due_date:this.dueDate,assignee_ids:this.assignees.length>0?this.assignees.map(function(e){return e.id}):[0],label_ids:this.labels.map(function(e){return e.id})}};e.issue.label_ids.length||(e.issue.label_ids=[""]);this.project&&this.project.path;return o.default.http.patch(this.path+".json",e)}}]),e}();window.ListIssue=_;var C=_,I=function(e,t){return e.split("&").reduce(function(e,t){if(""===t)return e;var s=e,i=t.split("="),n=i[0].replace("[]",""),a=i[0].indexOf("[]"),r=decodeURIComponent(i[1].replace(/\+/g," "));return-1!==a?(s[n]||(s[n]=[]),s[n].push(r)):s[n]=r,s},t)},E=function(){function e(e,t){for(var s=0;s<t.length;s++){var i=t[s];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,s,i){return s&&e(t.prototype,s),i&&e(t,i),t}}();var j={backlog:{isPreset:!0,isExpandable:!0,isBlank:!1},closed:{isPreset:!0,isExpandable:!0,isBlank:!1},blank:{isPreset:!0,isExpandable:!1,isBlank:!0}},L=function(){function e(t,s){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.id=t.id,this._uid=this.guid(),this.position=t.position,this.title=t.title,this.type=t.list_type;var i=this.getTypeInfo(this.type);this.preset=!!i.isPreset,this.isExpandable=!!i.isExpandable,this.isExpanded=!0,this.page=1,this.loading=!0,this.loadingMore=!1,this.issues=[],this.issuesSize=0,this.defaultAvatar=s,t.label?this.label=new c(t.label):t.user&&(this.assignee=new p(t.user),this.title=this.assignee.name),!i.isBlank&&this.id&&this.getIssues().catch(function(){})}return E(e,[{key:"guid",value:function(){var e=function(){return Math.floor(65536*(1+Math.random())).toString(16).substring(1)};return""+e()+e()+"-"+e()+"-"+e()+"-"+e()+"-"+e()+e()+e()}},{key:"save",value:function(){var e=this,t=this.label||this.assignee,s="";return s=this.label?"label_id":"assignee_id",gl.boardService.createList(t.id,s).then(function(e){return e.data}).then(function(t){return e.id=t.id,e.type=t.list_type,e.position=t.position,e.getIssues()})}},{key:"destroy",value:function(){var e=gl.issueBoards.BoardsStore.state.lists.indexOf(this);gl.issueBoards.BoardsStore.state.lists.splice(e,1),gl.issueBoards.BoardsStore.updateNewListDropdown(this.id),gl.boardService.destroyList(this.id).catch(function(){})}},{key:"update",value:function(){gl.boardService.updateList(this.id,this.position).catch(function(){})}},{key:"nextPage",value:function(){if(this.issuesSize>this.issues.length)return this.issues.length/20>=1&&(this.page+=1),this.getIssues(!1)}},{key:"getIssues",value:function(){var e=this,t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],s=I(gl.issueBoards.BoardsStore.filter.path,{page:this.page});return this.label&&s.label_name&&(s.label_name=s.label_name.filter(function(t){return t!==e.label.title})),t&&(this.loading=!0),gl.boardService.getIssuesForList(this.id,s).then(function(e){return e.data}).then(function(s){return e.loading=!1,e.issuesSize=s.size,t&&(e.issues=[]),e.createIssues(s.issues),s})}},{key:"newIssue",value:function(e){var t=this;return this.addIssue(e,null,0),this.issuesSize+=1,gl.boardService.newIssue(this.id,e).then(function(e){return e.data}).then(function(s){return t.onNewIssueResponse(e,s)})}},{key:"createIssues",value:function(e){var t=this;e.forEach(function(e){t.addIssue(new ListIssue(e,t.defaultAvatar))})}},{key:"addIssue",value:function(e,t,s){var i=null,n=null;this.findIssue(e.id)||(void 0!==s?(this.issues.splice(s,0,e),this.issues[s-1]&&(i=this.issues[s-1].id),this.issues[s+1]&&(n=this.issues[s+1].id)):this.issues.push(e),this.label&&e.addLabel(this.label),this.assignee&&(t&&"assignee"===t.type&&e.removeAssignee(t.assignee),e.addAssignee(this.assignee)),t&&(this.issuesSize+=1,this.updateIssueLabel(e,t,i,n)))}},{key:"moveIssue",value:function(e,t,s,i,n){this.issues.splice(t,1),this.issues.splice(s,0,e),gl.boardService.moveIssue(e.id,null,null,i,n).catch(function(){})}},{key:"updateIssueLabel",value:function(e,t,s,i){gl.boardService.moveIssue(e.id,t.id,this.id,s,i).catch(function(){})}},{key:"findIssue",value:function(e){return this.issues.find(function(t){return t.id===e})}},{key:"removeIssue",value:function(e){var t=this;this.issues=this.issues.filter(function(s){var i=e.id===s.id;return i&&(t.issuesSize-=1,s.removeLabel(t.label)),!i})}},{key:"getTypeInfo",value:function(e){return j[e]||{}}},{key:"onNewIssueResponse",value:function(e,t){if(e.id=t.id,e.iid=t.iid,e.project=t.project,e.path=t.real_path,e.referencePath=t.reference_path,this.issuesSize>1){var s=this.issues[1].id;gl.boardService.moveIssue(e.id,null,null,null,s)}}}]),e}();window.List=L;s(625);var D=s(39),B=s.n(D),T=s(11);window.gl=window.gl||{},window.gl.issueBoards=window.gl.issueBoards||{},gl.issueBoards.BoardsStore={disabled:!1,filter:{path:""},state:{},detail:{issue:{}},moving:{issue:{},list:{}},create:function(){this.state.lists=[],this.filter.path=Object(T.m)().join("&"),this.detail={issue:{}}},addList:function(e,t){var s=new List(e,t);return this.state.lists.push(s),s},new:function(e){var t=this,s=this.addList(e),i=this.findList("type","backlog","backlog");s.save().then(function(){s.issues.forEach(i.removeIssue.bind(i)),t.state.lists=r.a.sortBy(t.state.lists,"position")}).catch(function(){}),this.removeBlankState()},updateNewListDropdown:function(e){n()(".js-board-list-"+e).removeClass("is-active")},shouldAddBlankState:function(){return!this.state.lists.filter(function(e){return"backlog"!==e.type&&"closed"!==e.type})[0]},addBlankState:function(){!this.shouldAddBlankState()||this.welcomeIsHidden()||this.disabled||(this.addList({id:"blank",list_type:"blank",title:"Welcome to your Issue Board!",position:0}),this.state.lists=r.a.sortBy(this.state.lists,"position"))},removeBlankState:function(){this.removeList("blank"),B.a.set("issue_board_welcome_hidden","true",{expires:3650,path:""})},welcomeIsHidden:function(){return"true"===B.a.get("issue_board_welcome_hidden")},removeList:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"blank";this.findList("id",e,t)&&(this.state.lists=this.state.lists.filter(function(t){return t.id!==e}))},moveList:function(e,t){var s=this;t.forEach(function(e,t){s.findList("id",parseInt(e,10)).position=t}),e.update()},moveIssueToList:function(e,t,s,i){var n=t.findIssue(s.id),a=s.getLists(),r=a.map(function(e){return e.label});if(n)t.updateIssueLabel(s,e),n.removeLabel(e.label);else if("assignee"===t.type&&"assignee"===e.type&&s.findAssignee(t.assignee))t.findIssue(s.id).removeAssignee(e.assignee);else if("milestone"===t.type){var o=s.milestone,l=this.state.lists.filter(function(e){return"milestone"===e.type&&e.id!==t.id}).filter(function(e){return e.issues.some(function(e){return s.id===e.id})});s.removeMilestone(o),s.addMilestone(t.milestone),l.forEach(function(e){return e.removeIssue(s)}),t.addIssue(s,e,i)}else t.addIssue(s,e,i);"closed"===t.type&&"backlog"!==e.type?(a.forEach(function(e){e.removeIssue(s)}),s.removeLabels(r)):"backlog"===t.type&&"assignee"===e.type?(s.removeAssignee(e.assignee),e.removeIssue(s)):"backlog"===t.type&&"milestone"===e.type?(s.removeMilestone(e.milestone),e.removeIssue(s)):this.shouldRemoveIssue(e,t)&&e.removeIssue(s)},shouldRemoveIssue:function(e,t){return"label"!==t.type&&"assignee"===e.type||"assignee"!==t.type&&"label"===e.type||"backlog"===e.type},moveIssueInList:function(e,t,s,i,n){var a=parseInt(n[i-1],10)||null,r=parseInt(n[i+1],10)||null;e.moveIssue(t,s,i,a,r)},findList:function(e,t){var s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"label";return this.state.lists.filter(function(i){var n=!s||(i.type===s||"assignee"===i.type||"milestone"===i.type);return i[e]===t&&n})[0]},updateFiltersUrl:function(){window.history.pushState(null,null,"?"+this.filter.path)}};var x=s(47),A=s(5),O=s(21),P=function(){function e(e,t){for(var s=0;s<t.length;s++){var i=t[s];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,s,i){return s&&e(t.prototype,s),i&&e(t,i),t}}();var $=function(){function e(t){var s=t.boardsEndpoint,i=t.listsEndpoint,n=t.bulkUpdatePath,a=t.boardId;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.boardsEndpoint=s,this.boardId=a,this.listsEndpoint=i,this.listsEndpointGenerate=i+"/generate.json",this.bulkUpdatePath=n}return P(e,[{key:"generateBoardsPath",value:function(e){return this.boardsEndpoint+(e?"/"+e:"")+".json"}},{key:"generateIssuesPath",value:function(e){return this.listsEndpoint+(e?"/"+e:"")+"/issues"}},{key:"all",value:function(){return A.a.get(this.listsEndpoint)}},{key:"generateDefaultLists",value:function(){return A.a.post(this.listsEndpointGenerate,{})}},{key:"createList",value:function(e,t){var s,i,n,a=(n=e,(i=t)in(s={})?Object.defineProperty(s,i,{value:n,enumerable:!0,configurable:!0,writable:!0}):s[i]=n,s);return A.a.post(this.listsEndpoint,{list:a})}},{key:"updateList",value:function(e,t){return A.a.put(this.listsEndpoint+"/"+e,{list:{position:t}})}},{key:"destroyList",value:function(e){return A.a.delete(this.listsEndpoint+"/"+e)}},{key:"getIssuesForList",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},s={id:e};return Object.keys(t).forEach(function(e){s[e]=t[e]}),A.a.get(Object(O.c)(s,this.generateIssuesPath(e)))}},{key:"moveIssue",value:function(t){var s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null;return A.a.put(e.generateIssuePath(this.boardId,t),{from_list_id:s,to_list_id:i,move_before_id:n,move_after_id:a})}},{key:"newIssue",value:function(e,t){return A.a.post(this.generateIssuesPath(e),{issue:t})}},{key:"getBacklog",value:function(e){return A.a.get(Object(O.c)(e,gon.relative_url_root+"/-/boards/"+this.boardId+"/issues.json"))}},{key:"bulkUpdate",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},s={update:Object.assign(t,{issuable_ids:e.join(",")})};return A.a.post(this.bulkUpdatePath,s)}}],[{key:"generateIssuePath",value:function(e,t){return gon.relative_url_root+"/-/boards/"+(e?""+e:"")+"/issues"+(t?"/"+t:"")}},{key:"getIssueInfo",value:function(e){return A.a.get(e)}},{key:"toggleIssueSubscription",value:function(e){return A.a.post(e)}}]),e}(),U=$;window.BoardService=$;var N={methods:{toggleModal:function(e){x.a.store.showAddIssuesModal=e},changeTab:function(e){x.a.store.activeTab=e}}},q={animation:200,forceFallback:!0,fallbackClass:"is-dragging",fallbackOnBody:!0,ghostClass:"is-ghost"};window.gl=window.gl||{},window.gl.issueBoards=window.gl.issueBoards||{},gl.issueBoards.onStart=function(){n()(".has-tooltip").tooltip("hide").tooltip("disable"),document.body.classList.add("is-dragging")},gl.issueBoards.onEnd=function(){n()(".has-tooltip").tooltip("enable"),document.body.classList.remove("is-dragging")},gl.issueBoards.touchEnabled="ontouchstart"in window||window.DocumentTouch&&document instanceof DocumentTouch,gl.issueBoards.getBoardSortableDefaultOptions=function(e){var t=Object.assign({},q,{filter:".board-delete, .btn",delay:gl.issueBoards.touchEnabled?100:0,scrollSensitivity:gl.issueBoards.touchEnabled?60:100,scrollSpeed:20,onStart:gl.issueBoards.onStart,onEnd:gl.issueBoards.onEnd});return Object.keys(e).forEach(function(s){t[s]=e[s]}),t};var F=s(111),R=s.n(F);o.default.filter("due-date",function(e){var t=new Date(e);return R()(t,"mmm d, yyyy",!0)});var M=s(266),W=s.n(M),z=s(15),H=s(12),V=s(76),K=s(27),Y=s(33),X={name:"BoardProjectSelect",components:{loadingIcon:K.a},props:{groupId:{type:Number,required:!0,default:0}},data:function(){return{loading:!0,selectedProject:{}}},computed:{selectedProjectName:function(){return this.selectedProject.name||"Select a project"}},mounted:function(){var e=this;n()(this.$refs.projectsDropdown).glDropdown({filterable:!0,filterRemote:!0,search:{fields:["name_with_namespace"]},clicked:function(t){var s=t.$el;t.e.preventDefault(),e.selectedProject={id:s.data("project-id"),name:s.data("project-name")},y.$emit("setSelectedProject",e.selectedProject)},selectable:!0,data:function(t,s){return e.loading=!0,Y.a.groupProjects(e.groupId,t,{},function(t){e.loading=!1,s(t)})},renderRow:function(e){return"\n            <li>\n              <a href='#' class='dropdown-menu-link' data-project-id=\""+e.id+'" data-project-name="'+e.name+'">\n                '+r.a.escape(e.name)+"\n              </a>\n            </li>\n          "},text:function(e){return e.name}})}},G=s(2),J=Object(G.a)(X,function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",[s("label",{staticClass:"label-bold prepend-top-10"},[e._v("\n    Project\n  ")]),e._v(" "),s("div",{ref:"projectsDropdown",staticClass:"dropdown"},[s("button",{staticClass:"dropdown-menu-toggle wide",attrs:{type:"button","data-toggle":"dropdown","aria-expanded":"false"}},[e._v("\n      "+e._s(e.selectedProjectName)+"\n      "),s("i",{staticClass:"fa fa-chevron-down",attrs:{"aria-hidden":"true"}})]),e._v(" "),s("div",{staticClass:"dropdown-menu dropdown-menu-selectable dropdown-menu-full-width"},[e._m(0),e._v(" "),e._m(1),e._v(" "),s("div",{staticClass:"dropdown-content"}),e._v(" "),s("div",{staticClass:"dropdown-loading"},[s("loading-icon")],1)])])])},[function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"dropdown-title"},[t("span",[this._v("Projects")]),this._v(" "),t("button",{staticClass:"dropdown-title-button dropdown-menu-close",attrs:{"aria-label":"Close",type:"button"}},[t("i",{staticClass:"fa fa-times dropdown-menu-close-icon",attrs:{"aria-hidden":"true","data-hidden":"true"}})])])},function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"dropdown-input"},[t("input",{staticClass:"dropdown-input-field",attrs:{type:"search",placeholder:"Search projects"}}),this._v(" "),t("i",{staticClass:"fa fa-search dropdown-input-search",attrs:{"aria-hidden":"true","data-hidden":"true"}})])}],!1,null,null,null).exports,Q=gl.issueBoards.BoardsStore,Z={name:"BoardNewIssue",components:{ProjectSelect:J},props:{groupId:{type:Number,required:!1,default:0},list:{type:Object,required:!0}},data:function(){return{title:"",error:!1,selectedProject:{}}},computed:{disabled:function(){return this.groupId?""===this.title||!this.selectedProject.name:""===this.title}},mounted:function(){this.$refs.input.focus(),y.$on("setSelectedProject",this.setSelectedProject)},methods:{submit:function(e){var t=this;if(e.preventDefault(),""===this.title.trim())return Promise.resolve();this.error=!1;var s=this.list.label?[this.list.label]:[],i=this.list.assignee?[this.list.assignee]:[],a=new C({title:this.title,labels:s,subscribed:!0,assignees:i,project_id:this.selectedProject.id});return y.$emit("scroll-board-list-"+this.list.id),this.cancel(),this.list.newIssue(a).then(function(){n()(t.$refs.submitButton).enable(),Q.detail.issue=a,Q.detail.list=t.list}).catch(function(){n()(t.$refs.submitButton).enable(),t.list.removeIssue(a),t.error=!0})},cancel:function(){this.title="",y.$emit("hide-issue-form-"+this.list.id)},setSelectedProject:function(e){this.selectedProject=e}}},ee=Object(G.a)(Z,function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"board-new-issue-form"},[s("div",{staticClass:"board-card"},[s("form",{on:{submit:function(t){e.submit(t)}}},[e.error?s("div",{staticClass:"flash-container"},[s("div",{staticClass:"flash-alert"},[e._v("\n          An error occurred. Please try again.\n        ")])]):e._e(),e._v(" "),s("label",{staticClass:"label-bold",attrs:{for:e.list.id+"-title"}},[e._v("\n        Title\n      ")]),e._v(" "),s("input",{directives:[{name:"model",rawName:"v-model",value:e.title,expression:"title"}],ref:"input",staticClass:"form-control",attrs:{id:e.list.id+"-title",type:"text",name:"issue_title",autocomplete:"off"},domProps:{value:e.title},on:{input:function(t){t.target.composing||(e.title=t.target.value)}}}),e._v(" "),e.groupId?s("project-select",{attrs:{"group-id":e.groupId}}):e._e(),e._v(" "),s("div",{staticClass:"clearfix prepend-top-10"},[s("button",{ref:"submit-button",staticClass:"btn btn-success float-left",attrs:{disabled:e.disabled,type:"submit"}},[e._v("\n          Submit issue\n        ")]),e._v(" "),s("button",{staticClass:"btn btn-default float-right",attrs:{type:"button"},on:{click:e.cancel}},[e._v("\n          Cancel\n        ")])])],1)])])},[],!1,null,null,null).exports,te=s(88),se=gl.issueBoards.BoardsStore,ie={components:{UserAvatarLink:te.a},directives:{tooltip:H.a},props:{issue:{type:Object,required:!0},issueLinkBase:{type:String,required:!0},list:{type:Object,required:!1,default:function(){return{}}},rootPath:{type:String,required:!0},updateFilters:{type:Boolean,required:!1,default:!1},groupId:{type:Number,required:!1,default:null}},data:function(){return{limitBeforeCounter:3,maxRender:4,maxCounter:99}},computed:{numberOverLimit:function(){return this.issue.assignees.length-this.limitBeforeCounter},assigneeCounterTooltip:function(){return this.assigneeCounterLabel+" more"},assigneeCounterLabel:function(){return this.numberOverLimit>this.maxCounter?this.maxCounter+"+":"+"+this.numberOverLimit},shouldRenderCounter:function(){return!(this.issue.assignees.length<=this.maxRender)&&this.issue.assignees.length>this.numberOverLimit},issueId:function(){return!!this.issue.iid&&"#"+this.issue.iid},showLabelFooter:function(){var e=this;return void 0!==this.issue.labels.find(function(t){return e.showLabel(t)})}},methods:{isIndexLessThanlimit:function(e){return e<this.limitBeforeCounter},shouldRenderAssignee:function(e){return this.issue.assignees.length<=this.maxRender?e<this.maxRender:e<this.limitBeforeCounter},assigneeUrl:function(e){return""+this.rootPath+e.username},assigneeUrlTitle:function(e){return"Assigned to "+e.name},avatarUrlTitle:function(e){return"Avatar for "+e.name},showLabel:function(e){return!!e.id},filterByLabel:function(e,t){if(this.updateFilters){var s=gl.issueBoards.BoardsStore.filter.path.split("&"),i="label_name[]="+encodeURIComponent(e.title),a=s.indexOf(i);n()(t.currentTarget).tooltip("hide"),-1===a?s.push(i):s.splice(a,1),gl.issueBoards.BoardsStore.filter.path=s.join("&"),se.updateFiltersUrl(),y.$emit("updateTokens")}},labelStyle:function(e){return{backgroundColor:e.color,color:e.textColor}}}},ne=Object(G.a)(ie,function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",[s("div",{staticClass:"board-card-header"},[s("h4",{staticClass:"board-card-title"},[e.issue.confidential?s("i",{staticClass:"fa fa-eye-slash confidential-icon",attrs:{"aria-hidden":"true"}}):e._e(),e._v(" "),s("a",{staticClass:"js-no-trigger",attrs:{href:e.issue.path,title:e.issue.title}},[e._v(e._s(e.issue.title))]),e._v(" "),e.issueId?s("span",{staticClass:"board-card-number"},[e._v("\n        "+e._s(e.issue.referencePath)+"\n      ")]):e._e()]),e._v(" "),s("div",{staticClass:"board-card-assignee"},[e._l(e.issue.assignees,function(t,i){return e.shouldRenderAssignee(i)?s("user-avatar-link",{key:t.id,staticClass:"js-no-trigger",attrs:{"link-href":e.assigneeUrl(t),"img-alt":e.avatarUrlTitle(t),"img-src":t.avatar,"tooltip-text":e.assigneeUrlTitle(t),"tooltip-placement":"bottom"}}):e._e()}),e._v(" "),e.shouldRenderCounter?s("span",{directives:[{name:"tooltip",rawName:"v-tooltip"}],staticClass:"avatar-counter",attrs:{title:e.assigneeCounterTooltip}},[e._v("\n        "+e._s(e.assigneeCounterLabel)+"\n      ")]):e._e()],2)]),e._v(" "),e.showLabelFooter?s("div",{staticClass:"board-card-footer"},e._l(e.issue.labels,function(t){return e.showLabel(t)?s("button",{directives:[{name:"tooltip",rawName:"v-tooltip"}],key:t.id,staticClass:"badge color-label",style:e.labelStyle(t),attrs:{title:t.description,type:"button","data-container":"body"},on:{click:function(s){e.filterByLabel(t,s)}}},[e._v("\n      "+e._s(t.title)+"\n    ")]):e._e()})):e._e()])},[],!1,null,null,null).exports,ae=gl.issueBoards.BoardsStore,re={name:"BoardsIssueCard",components:{IssueCardInner:ne},props:{list:{type:Object,default:function(){return{}}},issue:{type:Object,default:function(){return{}}},issueLinkBase:{type:String,default:""},disabled:{type:Boolean,default:!1},index:{type:Number,default:0},rootPath:{type:String,default:""},groupId:{type:Number}},data:function(){return{showDetail:!1,detailIssue:ae.detail}},computed:{issueDetailVisible:function(){return this.detailIssue.issue&&this.detailIssue.issue.id===this.issue.id}},methods:{mouseDown:function(){this.showDetail=!0},mouseMove:function(){this.showDetail=!1},showIssue:function(e){e.target.classList.contains("js-no-trigger")||this.showDetail&&(this.showDetail=!1,ae.detail.issue&&ae.detail.issue.id===this.issue.id?y.$emit("clearDetailIssue"):(y.$emit("newDetailIssue",this.issue),ae.detail.list=this.list))}}},oe=Object(G.a)(re,function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("li",{staticClass:"board-card",class:{"user-can-drag":!e.disabled&&e.issue.id,"is-disabled":e.disabled||!e.issue.id,"is-active":e.issueDetailVisible},attrs:{index:e.index,"data-issue-id":e.issue.id},on:{mousedown:e.mouseDown,mousemove:e.mouseMove,mouseup:function(t){e.showIssue(t)}}},[s("issue-card-inner",{attrs:{list:e.list,issue:e.issue,"issue-link-base":e.issueLinkBase,"group-id":e.groupId,"root-path":e.rootPath,"update-filters":!0}})],1)},[],!1,null,null,null).exports,le=gl.issueBoards.BoardsStore,de={name:"BoardList",components:{boardCard:oe,boardNewIssue:ee,loadingIcon:K.a},props:{groupId:{type:Number,required:!1,default:0},disabled:{type:Boolean,required:!0},list:{type:Object,required:!0},issues:{type:Array,required:!0},loading:{type:Boolean,required:!0},issueLinkBase:{type:String,required:!0},rootPath:{type:String,required:!0}},data:function(){return{scrollOffset:250,filters:le.state.filters,showCount:!1,showIssueForm:!1}},watch:{filters:{handler:function(){this.list.loadingMore=!1,this.$refs.list.scrollTop=0},deep:!0},issues:function(){var e=this;this.$nextTick(function(){e.scrollHeight()<=e.listHeight()&&e.list.issuesSize>e.list.issues.length&&(e.list.page+=1,e.list.getIssues(!1).catch(function(){})),e.scrollHeight()>Math.ceil(e.listHeight())?e.showCount=!0:e.showCount=!1})}},created:function(){y.$on("hide-issue-form-"+this.list.id,this.toggleForm),y.$on("scroll-board-list-"+this.list.id,this.scrollToTop)},mounted:function(){var e=this,t=gl.issueBoards.getBoardSortableDefaultOptions({scroll:!0,disabled:this.disabled,filter:".board-list-count, .is-disabled",dataIdAttr:"data-issue-id",group:{name:"issues",pull:function(t,s,i,n){if(n.target){var a=(n.target.closest(".js-board-list")||n.target.querySelector(".js-board-list")).dataset.boardType;if(a){var r=e.list.type;if(Object.entries({label:["milestone","assignee"],assignee:["milestone","label"],milestone:["label","assignee"]}).some(function(e){return r===e[0]&&e[1].includes(a)}))return"clone"}}return!0},revertClone:!0},onStart:function(t){var s=e.$refs.issue[t.oldIndex];s.showDetail=!1,le.moving.list=s.list,le.moving.issue=le.moving.list.findIssue(+t.item.dataset.issueId),gl.issueBoards.onStart()},onAdd:function(t){gl.issueBoards.BoardsStore.moveIssueToList(le.moving.list,e.list,le.moving.issue,t.newIndex),e.$nextTick(function(){t.item.remove()})},onUpdate:function(t){var s=e.sortable.toArray().filter(function(e){return"-1"!==e});gl.issueBoards.BoardsStore.moveIssueInList(e.list,le.moving.issue,t.oldIndex,t.newIndex,s)},onMove:function(e){return!e.related.classList.contains("board-list-count")}});this.sortable=W.a.create(this.$refs.list,t),this.$refs.list.addEventListener("scroll",this.onScroll)},beforeDestroy:function(){y.$off("hide-issue-form-"+this.list.id,this.toggleForm),y.$off("scroll-board-list-"+this.list.id,this.scrollToTop),this.$refs.list.removeEventListener("scroll",this.onScroll)},methods:{listHeight:function(){return this.$refs.list.getBoundingClientRect().height},scrollHeight:function(){return this.$refs.list.scrollHeight},scrollTop:function(){return this.$refs.list.scrollTop+this.listHeight()},scrollToTop:function(){this.$refs.list.scrollTop=0},loadNextPage:function(){var e=this,t=this.list.nextPage(),s=function(){e.list.loadingMore=!1};t&&(this.list.loadingMore=!0,t.then(s).catch(s))},toggleForm:function(){this.showIssueForm=!this.showIssueForm},onScroll:function(){!this.loadingMore&&this.scrollTop()>this.scrollHeight()-this.scrollOffset&&this.loadNextPage()}}},ue=Object(G.a)(de,function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"board-list-component"},[e.loading?s("div",{staticClass:"board-list-loading text-center",attrs:{"aria-label":"Loading issues"}},[s("loading-icon")],1):e._e(),e._v(" "),"closed"!==e.list.type&&e.showIssueForm?s("board-new-issue",{attrs:{"group-id":e.groupId,list:e.list}}):e._e(),e._v(" "),s("ul",{directives:[{name:"show",rawName:"v-show",value:!e.loading,expression:"!loading"}],ref:"list",staticClass:"board-list js-board-list",class:{"is-smaller":e.showIssueForm},attrs:{"data-board":e.list.id,"data-board-type":e.list.type}},[e._l(e.issues,function(t,i){return s("board-card",{key:t.id,ref:"issue",refInFor:!0,attrs:{index:i,list:e.list,issue:t,"issue-link-base":e.issueLinkBase,"group-id":e.groupId,"root-path":e.rootPath,disabled:e.disabled}})}),e._v(" "),e.showCount?s("li",{staticClass:"board-list-count text-center",attrs:{"data-issue-id":"-1"}},[s("loading-icon",{directives:[{name:"show",rawName:"v-show",value:e.list.loadingMore,expression:"list.loadingMore"}],attrs:{label:"Loading more issues"}}),e._v(" "),e.list.issues.length===e.list.issuesSize?s("span",[e._v("\n        Showing all issues\n      ")]):s("span",[e._v("\n        Showing "+e._s(e.list.issues.length)+" of "+e._s(e.list.issuesSize)+" issues\n      ")])],1):e._e()],2)],1)},[],!1,null,null,null).exports,ce=gl.issueBoards.BoardsStore,he={data:function(){return{predefinedLabels:[new ListLabel({title:"To Do",color:"#F0AD4E"}),new ListLabel({title:"Doing",color:"#5CB85C"})]}},methods:{addDefaultLists:function(){this.clearBlankState(),this.predefinedLabels.forEach(function(e,t){ce.addList({title:e.title,position:t,list_type:"label",label:{title:e.title,color:e.color}})}),ce.state.lists=r.a.sortBy(ce.state.lists,"position"),gl.boardService.generateDefaultLists().then(function(e){return e.data}).then(function(e){e.forEach(function(e){var t=ce.findList("title",e.title);t.id=e.id,t.label.id=e.label.id,t.getIssues().catch(function(){})})}).catch(function(){ce.removeList(void 0,"label"),B.a.remove("issue_board_welcome_hidden",{path:""}),ce.addBlankState()})},clearBlankState:ce.removeBlankState.bind(ce)}},pe=Object(G.a)(he,function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"board-blank-state"},[s("p",[e._v("\n    Add the following default lists to your Issue Board with one click:\n  ")]),e._v(" "),s("ul",{staticClass:"board-blank-state-list"},e._l(e.predefinedLabels,function(t,i){return s("li",{key:i},[s("span",{staticClass:"label-color",style:{backgroundColor:t.color}}),e._v("\n      "+e._s(t.title)+"\n    ")])})),e._v(" "),s("p",[e._v("\n    Starting out with the default set of lists will get you\n    right on the way to making the most of your board.\n  ")]),e._v(" "),s("button",{staticClass:"btn btn-create btn-inverted btn-block",attrs:{type:"button"},on:{click:function(t){return t.stopPropagation(),e.addDefaultLists(t)}}},[e._v("\n    Add default lists\n  ")]),e._v(" "),s("button",{staticClass:"btn btn-default btn-block",attrs:{type:"button"},on:{click:function(t){return t.stopPropagation(),e.clearBlankState(t)}}},[e._v("\n    Nevermind, I'll use my own\n  ")])])},[],!1,null,null,null).exports;window.gl=window.gl||{},window.gl.issueBoards=window.gl.issueBoards||{},gl.issueBoards.BoardDelete=o.default.extend({props:{list:{type:Object,default:function(){return{}}}},methods:{deleteBoard:function(){n()(this.$el).tooltip("hide"),window.confirm("Are you sure you want to delete this list?")&&this.list.destroy()}}});var fe=gl.issueBoards.BoardsStore;window.gl=window.gl||{},window.gl.issueBoards=window.gl.issueBoards||{},gl.issueBoards.Board=o.default.extend({components:{boardList:ue,"board-delete":gl.issueBoards.BoardDelete,BoardBlankState:pe,Icon:z.a},directives:{Tooltip:H.a},props:{list:{type:Object,default:function(){return{}}},disabled:{type:Boolean,required:!0},issueLinkBase:{type:String,required:!0},rootPath:{type:String,required:!0},boardId:{type:String,required:!0}},data:function(){return{detailIssue:fe.detail,filter:fe.filter}},computed:{counterTooltip:function(){var e=this.list.issuesSize;return""+Object(d.d)("%d issue","%d issues",e)}},watch:{filter:{handler:function(){this.list.page=1,this.list.getIssues(!0).catch(function(){})},deep:!0}},mounted:function(){var e=this;this.sortableOptions=gl.issueBoards.getBoardSortableDefaultOptions({disabled:this.disabled,group:"boards",draggable:".is-draggable",handle:".js-board-handle",onEnd:function(t){if(gl.issueBoards.onEnd(),void 0!==t.newIndex&&t.oldIndex!==t.newIndex){var s=e.sortable.toArray(),i=fe.findList("id",parseInt(t.item.dataset.id,10));e.$nextTick(function(){fe.moveList(i,s)})}}}),this.sortable=W.a.create(this.$el.parentNode,this.sortableOptions)},created:function(){if(this.list.isExpandable&&V.a.isLocalStorageAccessSafe()){var e="false"===localStorage.getItem("boards."+this.boardId+"."+this.list.type+".expanded");this.list.isExpanded=!e}},methods:{showNewIssueForm:function(){this.$refs["board-list"].showIssueForm=!this.$refs["board-list"].showIssueForm},toggleExpanded:function(e){this.list.isExpandable&&!e.target.classList.contains("js-no-trigger-collapse")&&(this.list.isExpanded=!this.list.isExpanded,V.a.isLocalStorageAccessSafe()&&localStorage.setItem("boards."+this.boardId+"."+this.list.type+".expanded",this.list.isExpanded))}},template:"#js-board-template"});var ge=s(145),ve=s(224),be=s(227),me=s(103),ye=gl.issueBoards.BoardsStore,we=o.default.extend({props:{issue:{type:Object,required:!0},list:{type:Object,required:!0}},computed:{updateUrl:function(){return this.issue.path}},methods:{removeIssue:function(){var e=this.issue,t=e.getLists(),s=this.buildPatchRequest(e,t),i={issue:this.seedPatchRequest(e,s)};0===i.issue.label_ids.length&&(i.issue.label_ids=[""]),o.default.http.patch(this.updateUrl,i).catch(function(){Object(l.a)(Object(d.a)("Failed to remove issue from board, please try again.")),t.forEach(function(t){t.addIssue(e)})}),t.forEach(function(t){t.removeIssue(e)}),ye.detail.issue={}},buildPatchRequest:function(e,t){var s=t.map(function(e){return e.label.id});return{label_ids:e.labels.map(function(e){return e.id}).filter(function(e){return!s.includes(e)})}},seedPatchRequest:function(e,t){return t}}}),ke=Object(G.a)(we,function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"block list"},[t("button",{staticClass:"btn btn-default btn-block",attrs:{type:"button"},on:{click:this.removeIssue}},[this._v("\n    Remove from board\n  ")])])},[],!1,null,null,null).exports,Se=s(231),_e=s(107),Ce=s(225),Ie=s(132),Ee=gl.issueBoards.BoardsStore;window.gl=window.gl||{},window.gl.issueBoards=window.gl.issueBoards||{},gl.issueBoards.BoardSidebar=o.default.extend({components:{AssigneeTitle:ve.a,Assignees:be.a,RemoveBtn:ke,Subscriptions:Ce.a},props:{currentUser:{type:Object,default:function(){return{}}}},data:function(){return{detail:Ee.detail,issue:{},list:{},loadingAssignees:!1}},computed:{showSidebar:function(){return Object.keys(this.issue).length},milestoneTitle:function(){return this.issue.milestone?this.issue.milestone.title:"No Milestone"},canRemove:function(){return!this.list.preset},hasLabels:function(){return this.issue.labels&&this.issue.labels.length},labelDropdownTitle:function(){return this.hasLabels?this.issue.labels[0].title+" "+(this.issue.labels.length-1)+"+ more":"Label"},selectedLabels:function(){return this.hasLabels?this.issue.labels.map(function(e){return e.title}).join(","):""}},watch:{detail:{handler:function(){this.issue.id!==this.detail.issue.id&&(n()(".block.assignee").find('input:not(.js-vue)[name="issue[assignee_ids][]"]').each(function(e,t){n()(t).remove()}),n()(".js-issue-board-sidebar",this.$el).each(function(e,t){n()(t).data("glDropdown").clearMenu()})),this.issue=this.detail.issue,this.list=this.detail.list},deep:!0}},created:function(){w.a.$on("sidebar.removeAssignee",this.removeAssignee),w.a.$on("sidebar.addAssignee",this.addAssignee),w.a.$on("sidebar.removeAllAssignees",this.removeAllAssignees),w.a.$on("sidebar.saveAssignees",this.saveAssignees)},beforeDestroy:function(){w.a.$off("sidebar.removeAssignee",this.removeAssignee),w.a.$off("sidebar.addAssignee",this.addAssignee),w.a.$off("sidebar.removeAllAssignees",this.removeAllAssignees),w.a.$off("sidebar.saveAssignees",this.saveAssignees)},mounted:function(){new Se.a(this.currentUser),new Ie.a,new me.a,new _e.a,new ge.a},methods:{closeSidebar:function(){this.detail.issue={}},assignSelf:function(){this.$refs.assigneeBlock.dispatchEvent(new Event("assignYourself")),this.addAssignee(this.currentUser),this.saveAssignees()},removeAssignee:function(e){gl.issueBoards.BoardsStore.detail.issue.removeAssignee(e)},addAssignee:function(e){gl.issueBoards.BoardsStore.detail.issue.addAssignee(e)},removeAllAssignees:function(){gl.issueBoards.BoardsStore.detail.issue.removeAllAssignees()},saveAssignees:function(){var e=this;this.loadingAssignees=!0,gl.issueBoards.BoardsStore.detail.issue.update().then(function(){e.loadingAssignees=!1}).catch(function(){e.loadingAssignees=!1,Object(l.a)(Object(d.a)("An error occurred while saving assignees"))})}}});var je=s(117);window.gl=window.gl||{},window.gl.issueBoards=window.gl.issueBoards||{};var Le=gl.issueBoards.BoardsStore;n()(document).off("created.label").on("created.label",function(e,t){Le.new({title:t.title,position:Le.state.lists.length-2,list_type:"label",label:{id:t.id,title:t.title,color:t.color}})}),gl.issueBoards.newListDropdownInit=function(){n()(".js-new-board-list").each(function(){var e=n()(this);new je.a(e.closest(".dropdown").find(".dropdown-new-label"),e.data("namespacePath"),e.data("projectPath")),e.glDropdown({data:function(t,s){A.a.get(e.attr("data-list-labels-path")).then(function(e){var t=e.data;s(t)})},renderRow:function(e){var t=Le.findList("title",e.title),s=n()("<li />"),i=n()("<a />",{class:t?"is-active js-board-list-"+t.id:"",text:e.title,href:"#"}),a=n()("<span />",{class:"dropdown-label-box",style:"background-color: "+e.color});return s.append(i.prepend(a))},search:{fields:["title"]},filterable:!0,selectable:!0,multiSelect:!0,containerSelector:".js-tab-container-labels .dropdown-page-one .dropdown-content",clicked:function(e){var t=e.e,s=e.selectedObj;t.preventDefault(),Le.findList("title",s.title)||(Le.new({title:s.title,position:Le.state.lists.length-2,list_type:"label",label:{id:s.id,title:s.title,color:s.color}}),Le.state.lists=r.a.sortBy(Le.state.lists,"position"))}})})};var De={name:"modal-filters",props:{store:{type:Object,required:!0}},mounted:function(){f.a.container=this.$el,this.filteredSearch=new m(this.store),this.filteredSearch.setup(),this.filteredSearch.removeTokens(),this.filteredSearch.handleInputPlaceholder(),this.filteredSearch.toggleClearSearchButton()},destroyed:function(){this.filteredSearch.cleanup(),f.a.container=document,this.store.path=""},template:"#js-board-modal-filter"},Be={mixins:[N],data:function(){return x.a.store},computed:{selectedCount:function(){return x.a.selectedCount()}},destroyed:function(){this.activeTab="all"}},Te={components:{ModalTabs:Object(G.a)(Be,function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"top-area prepend-top-10 append-bottom-10"},[s("ul",{staticClass:"nav-links issues-state-filters"},[s("li",{class:{active:"all"==e.activeTab}},[s("a",{attrs:{href:"#",role:"button"},on:{click:function(t){t.preventDefault(),e.changeTab("all")}}},[e._v("\n        Open issues\n        "),s("span",{staticClass:"badge badge-pill"},[e._v("\n          "+e._s(e.issuesCount)+"\n        ")])])]),e._v(" "),s("li",{class:{active:"selected"==e.activeTab}},[s("a",{attrs:{href:"#",role:"button"},on:{click:function(t){t.preventDefault(),e.changeTab("selected")}}},[e._v("\n        Selected issues\n        "),s("span",{staticClass:"badge badge-pill"},[e._v("\n          "+e._s(e.selectedCount)+"\n        ")])])])])])},[],!1,null,null,null).exports,ModalFilters:De},mixins:[N],props:{projectId:{type:Number,required:!0},milestonePath:{type:String,required:!0},labelPath:{type:String,required:!0}},data:function(){return x.a.store},computed:{selectAllText:function(){return x.a.selectedCount()!==this.issues.length||0===this.issues.length?"Select all":"Deselect all"},showSearch:function(){return"all"===this.activeTab&&!this.loading&&this.issuesCount>0}},methods:{toggleAll:function(){this.$refs.selectAllBtn.blur(),x.a.toggleAll()}}},xe=Object(G.a)(Te,function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",[s("header",{staticClass:"add-issues-header form-actions"},[s("h2",[e._v("\n      Add issues\n      "),s("button",{staticClass:"close",attrs:{type:"button","data-dismiss":"modal","aria-label":"Close"},on:{click:function(t){e.toggleModal(!1)}}},[s("span",{attrs:{"aria-hidden":"true"}},[e._v("×")])])])]),e._v(" "),!e.loading&&e.issuesCount>0?s("modal-tabs"):e._e(),e._v(" "),e.showSearch?s("div",{staticClass:"add-issues-search append-bottom-10"},[s("modal-filters",{attrs:{store:e.filter}}),e._v(" "),s("button",{ref:"selectAllBtn",staticClass:"btn btn-success btn-inverted prepend-left-10",attrs:{type:"button"},on:{click:e.toggleAll}},[e._v("\n      "+e._s(e.selectAllText)+"\n    ")])],1):e._e()],1)},[],!1,null,null,null).exports,Ae=s(91),Oe={components:{IssueCardInner:ne},props:{issueLinkBase:{type:String,required:!0},rootPath:{type:String,required:!0},emptyStateSvg:{type:String,required:!0}},data:function(){return x.a.store},computed:{loopIssues:function(){return"all"===this.activeTab?this.issues:this.selectedIssues},groupedIssues:function(){var e=this,t=[];return this.loopIssues.forEach(function(s,i){var n=i%e.columns;t[n]||t.push([]),t[n].push(s)}),t}},watch:{activeTab:function(){"all"===this.activeTab&&x.a.purgeUnselectedIssues()}},mounted:function(){this.scrollHandlerWrapper=this.scrollHandler.bind(this),this.setColumnCountWrapper=this.setColumnCount.bind(this),this.setColumnCount(),this.$refs.list.addEventListener("scroll",this.scrollHandlerWrapper),window.addEventListener("resize",this.setColumnCountWrapper)},beforeDestroy:function(){this.$refs.list.removeEventListener("scroll",this.scrollHandlerWrapper),window.removeEventListener("resize",this.setColumnCountWrapper)},methods:{scrollHandler:function(){var e=Math.floor(this.issues.length/this.perPage);this.scrollTop()>this.scrollHeight()-100&&!this.loadingNewPage&&e===this.page&&(this.loadingNewPage=!0,this.page+=1)},toggleIssue:function(e,t){"A"!==e.target.tagName&&x.a.toggleIssue(t)},listHeight:function(){return this.$refs.list.getBoundingClientRect().height},scrollHeight:function(){return this.$refs.list.scrollHeight},scrollTop:function(){return this.$refs.list.scrollTop+this.listHeight()},showIssue:function(e){return"all"===this.activeTab||-1!==x.a.selectedIssueIndex(e)},setColumnCount:function(){var e=Ae.a.getBreakpointSize();this.columns="lg"===e||"md"===e?3:"sm"===e?2:1}}},Pe=Object(G.a)(Oe,function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("section",{ref:"list",staticClass:"add-issues-list add-issues-list-columns"},[e.issuesCount>0&&0===e.issues.length?s("div",{staticClass:"empty-state add-issues-empty-state-filter text-center"},[s("div",{staticClass:"svg-content"},[s("img",{attrs:{src:e.emptyStateSvg}})]),e._v(" "),e._m(0)]):e._e(),e._v(" "),e._l(e.groupedIssues,function(t,i){return s("div",{key:i,staticClass:"add-issues-list-column"},e._l(t,function(t){return e.showIssue(t)?s("div",{key:t.id,staticClass:"board-card-parent"},[s("div",{staticClass:"board-card",class:{"is-active":t.selected},on:{click:function(s){e.toggleIssue(s,t)}}},[s("issue-card-inner",{attrs:{issue:t,"issue-link-base":e.issueLinkBase,"root-path":e.rootPath}}),e._v(" "),t.selected?s("span",{staticClass:"issue-card-selected text-center",attrs:{"aria-label":"Issue #"+t.id+" selected","aria-checked":"true"}},[s("i",{staticClass:"fa fa-check"})]):e._e()],1)]):e._e()}))})],2)},[function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"text-content"},[t("h4",[this._v("\n        There are no issues to show.\n      ")])])}],!1,null,null,null).exports,$e={data:function(){return{modal:x.a.store,state:gl.issueBoards.BoardsStore.state}},computed:{selected:function(){return this.modal.selectedList||this.state.lists[1]}},destroyed:function(){this.modal.selectedList=null}},Ue=Object(G.a)($e,function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"dropdown inline"},[s("button",{staticClass:"dropdown-menu-toggle",attrs:{type:"button","data-toggle":"dropdown","aria-expanded":"false"}},[s("span",{staticClass:"dropdown-label-box",style:{backgroundColor:e.selected.label.color}}),e._v("\n    "+e._s(e.selected.title)+"\n    "),s("i",{staticClass:"fa fa-chevron-down"})]),e._v(" "),s("div",{staticClass:"dropdown-menu dropdown-menu-selectable dropdown-menu-drop-up"},[s("ul",e._l(e.state.lists,function(t,i){return"label"==t.type?s("li",{key:i},[s("a",{class:{"is-active":t.id==e.selected.id},attrs:{href:"#",role:"button"},on:{click:function(s){s.preventDefault(),e.modal.selectedList=t}}},[s("span",{staticClass:"dropdown-label-box",style:{backgroundColor:t.label.color}}),e._v("\n          "+e._s(t.title)+"\n        ")])]):e._e()}))])])},[],!1,null,null,null).exports,Ne=s(45),qe={components:{ListsDropdown:Ue},mixins:[N],data:function(){return{modal:x.a.store,state:gl.issueBoards.BoardsStore.state}},computed:{submitDisabled:function(){return!x.a.selectedCount()},submitText:function(){var e=x.a.selectedCount();return"Add "+(e>0?e:"")+" "+Object(Ne.i)("issue",e)}},methods:{buildUpdateRequest:function(e){return{add_label_ids:[e.label.id]}},addIssues:function(){var e=this.modal.selectedList||this.state.lists[1],t=x.a.getSelectedIssues(),s=t.map(function(e){return e.id}),i=this.buildUpdateRequest(e);gl.boardService.bulkUpdate(s,i).catch(function(){Object(l.a)(Object(d.a)("Failed to update issues, please try again.")),t.forEach(function(t){e.removeIssue(t),e.issuesSize-=1})}),t.forEach(function(t){e.addIssue(t),e.issuesSize+=1}),this.toggleModal(!1)}}},Fe=Object(G.a)(qe,function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("footer",{staticClass:"form-actions add-issues-footer"},[s("div",{staticClass:"float-left"},[s("button",{staticClass:"btn btn-success",attrs:{disabled:e.submitDisabled,type:"button"},on:{click:e.addIssues}},[e._v("\n      "+e._s(e.submitText)+"\n    ")]),e._v(" "),s("span",{staticClass:"inline add-issues-footer-to-list"},[e._v("\n      to list\n    ")]),e._v(" "),s("lists-dropdown")],1),e._v(" "),s("button",{staticClass:"btn btn-default float-right",attrs:{type:"button"},on:{click:function(t){e.toggleModal(!1)}}},[e._v("\n    Cancel\n  ")])])},[],!1,null,null,null).exports,Re={mixins:[N],props:{newIssuePath:{type:String,required:!0},emptyStateSvg:{type:String,required:!0}},data:function(){return x.a.store},computed:{contents:function(){var e={title:"You haven't added any issues to your project yet",content:"\n          An issue can be a bug, a todo or a feature request that needs to be\n          discussed in a project. Besides, issues are searchable and filterable.\n        "};return"selected"===this.activeTab&&(e.title="You haven't selected any issues yet",e.content="\n          Go back to <strong>Open issues</strong> and select some issues\n          to add to your board.\n        "),e}}},Me={components:{EmptyState:Object(G.a)(Re,function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("section",{staticClass:"empty-state"},[s("div",{staticClass:"row"},[s("div",{staticClass:"col-12 col-md-6 order-md-last"},[s("aside",{staticClass:"svg-content"},[s("img",{attrs:{src:e.emptyStateSvg}})])]),e._v(" "),s("div",{staticClass:"col-12 col-md-6 order-md-first"},[s("div",{staticClass:"text-content"},[s("h4",[e._v(e._s(e.contents.title))]),e._v(" "),s("p",{domProps:{innerHTML:e._s(e.contents.content)}}),e._v(" "),"all"===e.activeTab?s("a",{staticClass:"btn btn-success btn-inverted",attrs:{href:e.newIssuePath}},[e._v("\n          New issue\n        ")]):e._e(),e._v(" "),"selected"===e.activeTab?s("button",{staticClass:"btn btn-default",attrs:{type:"button"},on:{click:function(t){e.changeTab("all")}}},[e._v("\n          Open issues\n        ")]):e._e()])])])])},[],!1,null,null,null).exports,ModalHeader:xe,ModalList:Pe,ModalFooter:Fe,loadingIcon:K.a},props:{newIssuePath:{type:String,required:!0},emptyStateSvg:{type:String,required:!0},issueLinkBase:{type:String,required:!0},rootPath:{type:String,required:!0},projectId:{type:Number,required:!0},milestonePath:{type:String,required:!0},labelPath:{type:String,required:!0}},data:function(){return x.a.store},computed:{showList:function(){return"selected"===this.activeTab?this.selectedIssues.length>0:this.issuesCount>0},showEmptyState:function(){return!this.loading&&0===this.issuesCount||"selected"===this.activeTab&&0===this.selectedIssues.length}},watch:{page:function(){this.loadIssues()},showAddIssuesModal:function(){var e=this;if(this.showAddIssuesModal&&!this.issues.length){this.loading=!0;var t=function(){e.loading=!1};this.loadIssues().then(t).catch(t)}else this.showAddIssuesModal||(this.issues=[],this.selectedIssues=[],this.issuesCount=!1)},filter:{handler:function(){var e=this;if(this.$el.tagName){this.page=1,this.filterLoading=!0;var t=function(){e.filterLoading=!1};this.loadIssues(!0).then(t).catch(t)}},deep:!0}},created:function(){this.page=1},methods:{loadIssues:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return!!this.showAddIssuesModal&&gl.boardService.getBacklog(I(this.filter.path,{page:this.page,per:this.perPage})).then(function(e){return e.data}).then(function(s){t&&(e.issues=[]),s.issues.forEach(function(t){var s=new ListIssue(t),i=x.a.findSelectedIssue(s);s.selected=!!i,e.issues.push(s)}),e.loadingNewPage=!1,e.issuesCount||(e.issuesCount=s.size)}).catch(function(){})}}},We=Object(G.a)(Me,function(){var e=this,t=e.$createElement,s=e._self._c||t;return e.showAddIssuesModal?s("div",{staticClass:"add-issues-modal"},[s("div",{staticClass:"add-issues-container"},[s("modal-header",{attrs:{"project-id":e.projectId,"milestone-path":e.milestonePath,"label-path":e.labelPath}}),e._v(" "),e.loading||!e.showList||e.filterLoading?e._e():s("modal-list",{attrs:{"issue-link-base":e.issueLinkBase,"root-path":e.rootPath,"empty-state-svg":e.emptyStateSvg}}),e._v(" "),e.showEmptyState?s("empty-state",{attrs:{"new-issue-path":e.newIssuePath,"empty-state-svg":e.emptyStateSvg}}):e._e(),e._v(" "),e.loading||e.filterLoading?s("section",{staticClass:"add-issues-list text-center"},[s("div",{staticClass:"add-issues-list-loading"},[s("loading-icon")],1)]):e._e(),e._v(" "),s("modal-footer")],1)]):e._e()},[],!1,null,null,null).exports;s(389),t.a=function(){var e=document.getElementById("board-app"),t=gl.issueBoards.BoardsStore;window.gl=window.gl||{},gl.IssueBoardsApp&&gl.IssueBoardsApp.$destroy(!0),t.create(),gl.issueBoards.boardStoreIssueSet=function(){for(var e=arguments.length,s=Array(e),i=0;i<e;i++)s[i]=arguments[i];return o.default.set.apply(o.default,[t.detail.issue].concat(s))},gl.issueBoards.boardStoreIssueDelete=function(){for(var e=arguments.length,s=Array(e),i=0;i<e;i++)s[i]=arguments[i];return o.default.delete.apply(o.default,[t.detail.issue].concat(s))},gl.IssueBoardsApp=new o.default({el:e,components:{board:gl.issueBoards.Board,"board-sidebar":gl.issueBoards.BoardSidebar,BoardAddIssuesModal:We},data:{state:t.state,loading:!0,boardsEndpoint:e.dataset.boardsEndpoint,listsEndpoint:e.dataset.listsEndpoint,boardId:e.dataset.boardId,disabled:"true"===e.dataset.disabled,issueLinkBase:e.dataset.issueLinkBase,rootPath:e.dataset.rootPath,bulkUpdatePath:e.dataset.bulkUpdatePath,detailIssue:t.detail,defaultAvatar:e.dataset.defaultAvatar},computed:{detailIssueVisible:function(){return Object.keys(this.detailIssue.issue).length}},created:function(){gl.boardService=new U({boardsEndpoint:this.boardsEndpoint,listsEndpoint:this.listsEndpoint,bulkUpdatePath:this.bulkUpdatePath,boardId:this.boardId}),t.rootPath=this.boardsEndpoint,y.$on("updateTokens",this.updateTokens),y.$on("newDetailIssue",this.updateDetailIssue),y.$on("clearDetailIssue",this.clearDetailIssue),w.a.$on("toggleSubscription",this.toggleSubscription)},beforeDestroy:function(){y.$off("updateTokens",this.updateTokens),y.$off("newDetailIssue",this.updateDetailIssue),y.$off("clearDetailIssue",this.clearDetailIssue),w.a.$off("toggleSubscription",this.toggleSubscription)},mounted:function(){var e=this;this.filterManager=new m(t.filter,!0,t.cantEdit),this.filterManager.setup(),t.disabled=this.disabled,gl.boardService.all().then(function(e){return e.data}).then(function(s){s.forEach(function(s){var i=t.addList(s,e.defaultAvatar);"closed"===i.type?i.position=1/0:"backlog"===i.type&&(i.position=-1)}),e.state.lists=r.a.sortBy(e.state.lists,"position"),t.addBlankState(),e.loading=!1}).catch(function(){Object(l.a)("An error occurred while fetching the board lists. Please try again.")})},methods:{updateTokens:function(){this.filterManager.updateTokens()},updateDetailIssue:function(e){var s=e.sidebarInfoEndpoint;s&&void 0===e.subscribed&&(e.setFetchingState("subscriptions",!0),U.getIssueInfo(s).then(function(e){return e.data}).then(function(t){e.setFetchingState("subscriptions",!1),e.updateData({subscribed:t.subscribed})}).catch(function(){e.setFetchingState("subscriptions",!1),Object(l.a)(Object(d.a)("An error occurred while fetching sidebar data"))})),t.detail.issue=e},clearDetailIssue:function(){t.detail.issue={}},toggleSubscription:function(e){var s=t.detail.issue;s.id===e&&s.toggleSubscriptionEndpoint&&(s.setFetchingState("subscriptions",!0),U.toggleIssueSubscription(s.toggleSubscriptionEndpoint).then(function(){s.setFetchingState("subscriptions",!1),s.updateData({subscribed:!s.subscribed})}).catch(function(){s.setFetchingState("subscriptions",!1),Object(l.a)(Object(d.a)("An error occurred when toggling the notification subscription"))}))}}}),gl.IssueBoardsSearch=new o.default({el:document.getElementById("js-add-list"),data:{filters:t.state.filters},mounted:function(){gl.issueBoards.newListDropdownInit()}});var s=document.getElementById("js-add-issues-btn");s&&(gl.IssueBoardsModalAddBtn=new o.default({el:s,mixins:[N],data:function(){return{modal:x.a.store,store:t.state,canAdminList:this.$options.el.hasAttribute("data-can-admin-list")}},computed:{disabled:function(){return!this.store||!this.store.lists.filter(function(e){return!e.preset}).length},tooltipTitle:function(){return this.disabled?"Please add a list to your board first":""}},watch:{disabled:function(){this.updateTooltip()}},mounted:function(){this.updateTooltip()},methods:{updateTooltip:function(){var e=this,t=n()(this.$refs.addIssuesButton);this.$nextTick(function(){e.disabled?t.tooltip():t.tooltip("dispose")})},openModal:function(){this.disabled||this.toggleModal(!0)}},template:'\n        <div class="board-extra-actions">\n          <button\n            class="btn btn-create prepend-left-10"\n            type="button"\n            data-placement="bottom"\n            ref="addIssuesButton"\n            :class="{ \'disabled\': disabled }"\n            :title="tooltipTitle"\n            :aria-disabled="disabled"\n            v-if="canAdminList"\n            @click="openModal">\n            Add issues\n          </button>\n        </div>\n      '}))}},625:function(e,t){window.ListMilestone=function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.id=t.id,this.title=t.title}},79:function(e,t,s){"use strict";var i=s(0),n=s.n(i),a=s(3),r=s.n(a),o=s(5),l=s(7);t.a={init:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=(e.container,e.form),s=e.issues,i=e.prefixId;this.prefixId=i||"issue_",this.form=t||this.getElement(".bulk-update"),this.$labelDropdown=this.form.find(".js-label-select"),this.issues=s||this.getElement(".issues-list .issue"),this.willUpdateLabels=!1,this.bindEvents()},bindEvents:function(){return this.form.off("submit").on("submit",this.onFormSubmit.bind(this))},onFormSubmit:function(e){return e.preventDefault(),this.submit()},submit:function(){var e=this;o.a[this.form.attr("method")](this.form.attr("action"),this.getFormDataAsObject()).then(function(){return window.location.reload()}).catch(function(){return e.onFormSubmitFailure()})},onFormSubmitFailure:function(){return this.form.find('[type="submit"]').enable(),new l.a("Issue update failed")},getSelectedIssues:function(){return this.issues.has(".selected_issue:checked")},getLabelsFromSelection:function(){var e=[];return this.getSelectedIssues().map(function(){var t=n()(this).data("labels");if(t)return t.map(function(t){if(-1===e.indexOf(t))return e.push(t)})}),e},getUnmarkedIndeterminedLabels:function(){var e=[],t=this.$labelDropdown.data("indeterminate");return this.getLabelsFromSelection().forEach(function(s){-1===t.indexOf(s)&&e.push(s)}),e},getFormDataAsObject:function(){var e={update:{state_event:this.form.find('input[name="update[state_event]"]').val(),assignee_id:this.form.find('input[name="update[assignee_id]"]').val(),assignee_ids:[this.form.find('input[name="update[assignee_ids][]"]').val()],milestone_id:this.form.find('input[name="update[milestone_id]"]').val(),issuable_ids:this.form.find('input[name="update[issuable_ids]"]').val(),subscription_event:this.form.find('input[name="update[subscription_event]"]').val(),add_label_ids:[],remove_label_ids:[]}};return this.willUpdateLabels&&(e.update.add_label_ids=this.$labelDropdown.data("marked"),e.update.remove_label_ids=this.$labelDropdown.data("unmarked")),e},setOriginalDropdownData:function(){var e=n()(".bulk-update .js-label-select");e.data("common",this.getOriginalCommonIds()),e.data("marked",this.getOriginalMarkedIds()),e.data("indeterminate",this.getOriginalIndeterminateIds())},getOriginalCommonIds:function(){var e=this,t=[];return this.getElement(".selected_issue:checked").each(function(s,i){t.push(e.getElement("#"+e.prefixId+i.dataset.id).data("labels"))}),r.a.intersection.apply(this,t)},getOriginalMarkedIds:function(){var e=this,t=[];return this.getElement(".selected_issue:checked").each(function(s,i){t.push(e.getElement("#"+e.prefixId+i.dataset.id).data("labels"))}),r.a.intersection.apply(this,t)},getOriginalIndeterminateIds:function(){var e=this,t=[],s=[],i=[];return this.getElement(".selected_issue:checked").each(function(n,a){(i=e.getElement("#"+e.prefixId+a.dataset.id).data("labels")).forEach(function(e){-1===t.indexOf(e)&&t.push(e)}),s.push(i)}),s.unshift(t),r.a.difference(t,r.a.intersection.apply(this,s))},getElement:function(e){return this.scopeEl=this.scopeEl||n()(".content"),this.scopeEl.find(e)}}},81:function(e,t,s){"use strict";var i=s(0),n=s.n(i),a=s(3),r=s.n(a),o=s(5),l=s(1),d=s(47),u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};function c(e,t){var s,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};this.users=this.users.bind(this),this.user=this.user.bind(this),this.usersPath="/autocomplete/users.json",this.userPath="/autocomplete/users/:id.json",null!=e&&("object"===(void 0===e?"undefined":u(e))?this.currentUser=e:this.currentUser=JSON.parse(e));var a,c=i.handleClick;s=n()(t),t||(s=n()(".js-user-search")),s.each((a=this,function(e,t){var s,i,u,h,p,f,g,v,b,m,y,w,k,S,_,C,I,E,j,L={};u=n()(t),L.projectId=u.data("projectId"),L.groupId=u.data("groupId"),L.showCurrentUser=u.data("currentUser"),L.todoFilter=u.data("todoFilter"),L.todoStateFilter=u.data("todoStateFilter"),E=u.data("nullUser"),w=u.data("nullUserDefault"),j=u.data("showMenuAbove"),I=u.data("anyUser"),k=u.data("firstUser"),L.authorId=u.data("authorId"),y=u.data("defaultLabel"),S=u.data("issueUpdate"),p=u.closest(".selectbox"),s=p.closest(".block"),g=u.data("abilityName"),f=s.find(".value"),i=s.find(".sidebar-collapsed-user"),h=s.find(".block-loading").fadeOut(),C=w&&E?0:null,void 0===(_=u.data("selected"))&&(_=C);var D=function(){var e=u.closest(".selectbox").find("input[name='"+u.data("fieldName")+"'][value=0]");e&&e.remove();var t=document.createElement("input");t.type="hidden",t.name=u.data("fieldName");var s=u.data("currentUserInfo");s?(t.value=s.id,t.dataset.meta=r.a.escape(s.name)):a.currentUser&&(t.value=a.currentUser.id),p?u.parent().before(t):u.after(t)};s[0]&&s[0].addEventListener("assignYourself",D);var B=function(){return p.find('input[name="'+u.data("fieldName")+'"]')},T=function(){return B().map(function(e,t){return parseInt(t.value,10)}).get()},x=function(){var e=u.data("maxSelect");if(e){var t=T();if(t.length>e){var s=t[0];u.closest(".selectbox").find("input[name='"+u.data("fieldName")+"'][value="+s+"]").remove(),emitSidebarEvent("sidebar.removeAssignee",{id:s})}}},A=function(e,t){var s=T().filter(function(e){return 0!==e}),i=B().map(function(e,t){return{name:t.dataset.meta,value:parseInt(t.value,10)}}).filter(function(e){return 0!==e.id}).get(0);if(0===s.length)return"Unassigned";if(1===s.length)return i.name;if(t){var n=s.filter(function(t){return t!==e.id});return e.name+" + "+n.length+" more"}return i.name+" + "+(s.length-1)+" more"};return n()(".assign-to-me-link").on("click",function(e){if(e.preventDefault(),n()(e.currentTarget).hide(),u.data("multiSelect")){D(),x();var t=u.data("currentUserInfo");u.find(".dropdown-toggle-text").text(A(t)).removeClass("is-default")}else{var s=n()('input[name="'+u.data("fieldName")+'"]');s.val(gon.current_user_id),_=s.val(),u.find(".dropdown-toggle-text").text(gon.current_user_fullname).removeClass("is-default")}}),s.on("click",".js-assign-yourself",function(e){return e.preventDefault(),v(a.currentUser.id)}),v=function(e){var t;return(t={})[g]={},t[g].assignee_id=null!=e?e:null,h.removeClass("hidden").fadeIn(),u.trigger("loading.gl.dropdown"),o.a.put(S,t).then(function(e){var t,s,n=e.data;return u.trigger("loaded.gl.dropdown"),h.fadeOut(),n.assignee?(t={name:n.assignee.name,username:n.assignee.username,avatar:n.assignee.avatar_url},s=r.a.escape(t.name)):(t={name:"Unassigned",username:"",avatar:""},s=Object(l.a)("Assignee")),f.html(b(t)),i.attr("title",s).tooltip("_fixTitle"),i.html(m(t))})},m=r.a.template('<% if( avatar ) { %> <a class="author-link" href="/<%- username %>"> <img width="24" class="avatar avatar-inline s24" alt="" src="<%- avatar %>"> </a> <% } else { %> <i class="fa fa-user"></i> <% } %>'),b=r.a.template('<% if (username) { %> <a class="author-link bold" href="/<%- username %>"> <% if( avatar ) { %> <img width="32" class="avatar avatar-inline s32" alt="" src="<%- avatar %>"> <% } %> <span class="author"><%- name %></span> <span class="username"> @<%- username %> </span> </a> <% } else { %> <span class="no-value assign-yourself"> No assignee - <a href="#" class="js-assign-yourself"> assign yourself </a> </span> <% } %>'),u.glDropdown({showMenuAbove:j,data:function(e,t){return a.users(e,L,function(s){(this.instance||this.options.instance).options.processData(e,s,t)}.bind(this))},processData:function(e,t,s){var i=t;if(u.hasClass("js-multiselect")&&0===e.length){var n=B(),a=r.a.uniq(n,!1,function(e){return e.value}).filter(function(e){var t=parseInt(e.value,10);return!i.find(function(e){return e.id===t})&&0!==t}).map(function(e){var t=parseInt(e.value,10),s=e.dataset,i=s.avatarUrl,n=s.avatar_url,a=s.name,r=s.username;return{avatar_url:i||n,id:t,name:a,username:r}});i=t.concat(a)}var o=void 0,l=void 0,d=void 0,c=void 0,h=void 0,p=void 0;if(0===e.length){if(p=0,k)for(l=0,d=i.length;l<d;l+=1)if((h=i[l]).username===k){i.splice(l,1),i.unshift(h);break}if(E&&(p+=1,i.unshift({beforeDivider:!0,name:"Unassigned",id:0})),I&&(p+=1,!0===(c=I)&&(c="Any User"),o={beforeDivider:!0,name:c,id:null},i.unshift(o)),p&&i.splice(p,0,"divider"),u.hasClass("js-multiselect")){var f=T().filter(function(e){return 0!==e});if(f.length>0){u.data("dropdownHeader")&&(p+=1,i.splice(p,0,{header:u.data("dropdownHeader")}));var g=i.filter(function(e){return-1!==f.indexOf(e.id)}).sort(function(e,t){return e.name>t.name});i=i.filter(function(e){return-1===f.indexOf(e.id)}),g.forEach(function(e){p+=1,i.splice(p,0,e)}),i.splice(p+1,0,"divider")}}}s(i),j&&u.data("glDropdown").positionMenuAbove()},filterable:!0,filterRemote:!0,search:{fields:["name","username"]},selectable:!0,fieldName:u.data("fieldName"),toggleLabel:function(e,t,s){var i=s.filterInput.val();if(this.multiSelect&&""===i){var a=s.filteredFullData(),r=s.parseData.bind(s);this.processData(i,a,r)}return this.multiSelect?A(e,n()(t).hasClass("is-active")):e&&"id"in e&&n()(t).hasClass("is-active")?(u.find(".dropdown-toggle-text").removeClass("is-default"),e.text?e.text:e.name):(u.find(".dropdown-toggle-text").addClass("is-default"),y)},defaultLabel:y,hidden:function(e){u.hasClass("js-multiselect")&&emitSidebarEvent("sidebar.saveAssignees"),u.data("alwaysShowSelectbox")||(p.hide(),s=p.closest(".block"),(f=s.find(".value")).css("display",""))},multiSelect:u.hasClass("js-multiselect"),inputMeta:u.data("inputMeta"),clicked:function(e){var t,s,i,a,r=e.$el,o=e.e,l=e.isMarking,h=e.selectedObj;if(u.hasClass("js-multiselect")){var p=r.hasClass("is-active"),f=u.closest(".selectbox").find("input[name='"+u.data("fieldName")+"'][value!=0]");if(x(),h.beforeDivider&&"unassigned"===h.name.toLowerCase())f.each(function(e,t){parseInt(t.value,10),t.remove()}),emitSidebarEvent("sidebar.removeAllAssignees");else if(p){emitSidebarEvent("sidebar.addAssignee",h);var g=u.closest(".selectbox").find("input[name='"+u.data("fieldName")+"'][value=0]");g&&g.remove()}else 0===f.length&&this.addInput(u.data("fieldName"),0,{}),emitSidebarEvent("sidebar.removeAssignee",h);T().find(function(e){return e===gon.current_user_id})?n()(".assign-to-me-link").hide():n()(".assign-to-me-link").show()}if(t="projects:issues:index"===(i=n()("body").attr("data-page")),s=i==i&&"projects:merge_requests:index"===i,u.hasClass("js-filter-bulk-update")||u.hasClass("js-issuable-form-dropdown")){o.preventDefault();var b=h.id!==_;(_=b?h.id:C)===gon.current_user_id?n()(".assign-to-me-link").hide():n()(".assign-to-me-link").show()}else{if(r.closest(".add-issues-modal").length)d.a.store.filter[u.data("fieldName")]=h.id;else if(c)o.preventDefault(),c(h,l);else{if(u.hasClass("js-filter-submit")&&(t||s))return Issuable.filterResults(u.closest("form"));if(u.hasClass("js-filter-submit"))return u.closest("form").submit();if(!u.hasClass("js-multiselect"))return a=u.closest(".selectbox").find("input[name='"+u.data("fieldName")+"']").val(),v(a)}u.data("maxSelect")&&T().length===u.data("maxSelect")&&u.dropdown("toggle")}},id:function(e){return e.id},opened:function(e){var t=n()(e.currentTarget),s=T();function i(e){t.find('li[data-user-id="'+e+'"] .dropdown-menu-user-link').addClass("is-active")}u.hasClass("js-issue-board-sidebar")&&0===s.length&&this.addInput(u.data("fieldName"),0,{}),t.find(".is-active").removeClass("is-active"),s.length>0?T().forEach(function(e){return i(e)}):u.hasClass("js-issue-board-sidebar")?i(0):i(_)},updateLabel:u.data("dropdownTitle"),renderRow:function(e){var t,s,i;i=e.username?"@"+e.username:"",t=e.avatar_url?e.avatar_url:gon.default_avatar_url;var n=!1;if(this.multiSelect){n=T().find(function(t){return e.id===t});var a=this.fieldName;u.closest(".selectbox").find("input[name='"+a+"'][value='"+e.id+"']").length&&(n=!0)}else n=e.id===_;return s="",null!=e.beforeDivider?r.a.escape(e.name):s="<img src='"+t+"' class='avatar avatar-inline' width='32' />","\n            <li data-user-id="+e.id+">\n              <a href='#' class='dropdown-menu-user-link "+(!0===n?"is-active":"")+"'>\n                "+s+"\n                <strong class='dropdown-menu-user-full-name'>\n                  "+r.a.escape(e.name)+"\n                </strong>\n                "+(i?"<span class='dropdown-menu-user-username'>"+i+"</span>":"")+"\n              </a>\n            </li>\n          "}})})),n()(".ajax-users-select").each(function(e){return function(t,s){var i,a,r,o,l={};return l.skipLdap=n()(s).hasClass("skip_ldap"),l.projectId=n()(s).data("projectId"),l.groupId=n()(s).data("groupId"),l.showCurrentUser=n()(s).data("currentUser"),l.authorId=n()(s).data("authorId"),l.skipUsers=n()(s).data("skipUsers"),o=n()(s).data("nullUser"),a=n()(s).data("anyUser"),r=n()(s).data("emailUser"),i=n()(s).data("firstUser"),n()(s).select2({placeholder:"Search for a user",multiple:n()(s).hasClass("multiselect"),minimumInputLength:0,query:function(t){return e.users(t.term,l,function(e){var s,n,l,d,u,c,h,p,f;if(n={results:e},0===t.term.length){if(i)for(d=0,u=(f=n.results).length;d<u;d+=1)if((p=f[d]).username===i){n.results.splice(d,1),n.results.unshift(p);break}o&&(h={name:"Unassigned",id:0},n.results.unshift(h)),a&&(!0===(c=a)&&(c="Any User"),s={name:c,id:null},n.results.unshift(s))}if(r&&0===n.results.length&&t.term.match(/^[^@]+@[^@]+$/)){var g=t.term.trim();l={name:'Invite "'+t.term+'" by email',username:g,id:g,invite:!0},n.results.unshift(l)}return t.callback(n)})},initSelection:function(){var t;return t=1<=arguments.length?[].slice.call(arguments,0):[],e.initSelection.apply(e,t)},formatResult:function(){var t;return t=1<=arguments.length?[].slice.call(arguments,0):[],e.formatResult.apply(e,t)},formatSelection:function(){var t;return t=1<=arguments.length?[].slice.call(arguments,0):[],e.formatSelection.apply(e,t)},dropdownCssClass:"ajax-users-dropdown",escapeMarkup:function(e){return e}})}}(this))}window.emitSidebarEvent=window.emitSidebarEvent||n.a.noop,c.prototype.initSelection=function(e,t){var s;return"0"===(s=n()(e).val())?t({name:"Unassigned"}):""!==s?this.user(s,t):void 0},c.prototype.formatResult=function(e){var t;return t=e.avatar_url?e.avatar_url:gon.default_avatar_url,"<div class='user-result "+(e.username?void 0:"no-username")+"'> <div class='user-image'><img class='avatar avatar-inline s32' src='"+t+"'></div> <div class='user-name dropdown-menu-user-full-name'>"+r.a.escape(e.name)+"</div> <div class='user-username dropdown-menu-user-username'>"+(e.invite?"":"@"+r.a.escape(e.username))+"</div> </div>"},c.prototype.formatSelection=function(e){return r.a.escape(e.name)},c.prototype.user=function(e,t){return!!/^\d+$/.test(e)&&(s=(s=this.buildUrl(this.userPath)).replace(":id",e),o.a.get(s).then(function(e){var s=e.data;t(s)}));var s},c.prototype.users=function(e,t,s){var i=this.buildUrl(this.usersPath),n={search:e,active:!0,project_id:t.projectId||null,group_id:t.groupId||null,skip_ldap:t.skipLdap||null,todo_filter:t.todoFilter||null,todo_state_filter:t.todoStateFilter||null,current_user:t.showCurrentUser||null,author_id:t.authorId||null,skip_users:t.skipUsers||null};return o.a.get(i,{params:n}).then(function(e){var t=e.data;s(t)})},c.prototype.buildUrl=function(e){return null!=gon.relative_url_root&&(e=gon.relative_url_root.replace(/\/$/,"")+e),e},t.a=c},82:function(e,t,s){"use strict";var i=s(89),n=s.n(i),a=s(128),r={name:"UserAvatarImage",directives:{tooltip:s(12).a},props:{lazy:{type:Boolean,required:!1,default:!1},imgSrc:{type:String,required:!1,default:n.a},cssClasses:{type:String,required:!1,default:""},imgAlt:{type:String,required:!1,default:"user avatar"},size:{type:Number,required:!1,default:20},tooltipText:{type:String,required:!1,default:""},tooltipPlacement:{type:String,required:!1,default:"top"}},computed:{sanitizedSource:function(){var e=""===this.imgSrc||null===this.imgSrc?n.a:this.imgSrc;return-1===e.indexOf("?")&&(e+="?width="+this.size),e},resultantSrcAttribute:function(){return this.lazy?a.b:this.sanitizedSource},tooltipContainer:function(){return this.tooltipText?"body":null},avatarSizeClass:function(){return"s"+this.size}}},o=s(2),l=Object(o.a)(r,function(){var e,t=this,s=t.$createElement;return(t._self._c||s)("img",{directives:[{name:"tooltip",rawName:"v-tooltip"}],staticClass:"avatar",class:(e={lazy:t.lazy},e[t.avatarSizeClass]=!0,e[t.cssClasses]=!0,e),attrs:{src:t.resultantSrcAttribute,width:t.size,height:t.size,alt:t.imgAlt,"data-src":t.sanitizedSource,"data-container":t.tooltipContainer,"data-placement":t.tooltipPlacement,title:t.tooltipText,"data-boundary":"window"}})},[],!1,null,null,null);t.a=l.exports},88:function(e,t,s){"use strict";var i=s(82),n=s(12),a={name:"UserAvatarLink",components:{userAvatarImage:i.a},directives:{tooltip:n.a},props:{linkHref:{type:String,required:!1,default:""},imgSrc:{type:String,required:!1,default:""},imgAlt:{type:String,required:!1,default:""},imgCssClasses:{type:String,required:!1,default:""},imgSize:{type:Number,required:!1,default:20},tooltipText:{type:String,required:!1,default:""},tooltipPlacement:{type:String,required:!1,default:"top"},username:{type:String,required:!1,default:""}},computed:{shouldShowUsername:function(){return this.username.length>0},avatarTooltipText:function(){return this.shouldShowUsername?"":this.tooltipText}}},r=s(2),o=Object(r.a)(a,function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("a",{staticClass:"user-avatar-link",attrs:{href:e.linkHref}},[s("user-avatar-image",{attrs:{"img-src":e.imgSrc,"img-alt":e.imgAlt,"css-classes":e.imgCssClasses,size:e.imgSize,"tooltip-text":e.avatarTooltipText,"tooltip-placement":e.tooltipPlacement}}),e.shouldShowUsername?s("span",{directives:[{name:"tooltip",rawName:"v-tooltip"}],attrs:{title:e.tooltipText,"tooltip-placement":e.tooltipPlacement}},[e._v(e._s(e.username))]):e._e()],1)},[],!1,null,null,null);t.a=o.exports},89:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEsAAABLCAAAAAAdJSU2AAACNElEQVR4AdXYBa7jMBCA4b3/JZahzIkjp2qt+BWUWnG5ln2XxaJJb2b5F2ukL4wvzK/rP7bUcbf92u6oftLSe1ldk8efsfaVeEjusZZeC6e1RllaCk/yG6ag1lZ4WwPX69uyD6tAe/g2ipAlNMRS37awDLaFrpcMWxXQOi0jnWCWjFkSZomYJWDWKmatYNZyEWkJsvQimoZYah5NgdaLxagCtF6GRy0DshZPkeYwS/KIJWGWYjwYUzDLxCwDtJ54OKglimBLqHWahii2g1pmHLLGBmwVoRjcKlmgOdw65H5qKuGWCVi5Qlhs6m1sENZi4q3AWNvca5UYy2RjT/SAsiZey6CsIvc0wVlV5lJ0ibPMyLUGCmlxQq0IM0hLdWyro7CWEc3sXsqaK4O2zLxOsmtpfW5Q1u68ZrVmepaaNXEewawtI9X5Xl3U3n1qND6+rfPzvqoIWz/fklNCSLY153YV53J/XUxGCJnKZ1lajsn3/Ffegf6Y5pV2LUsSNL2UHzxUfh3TlYpZqqTpXZm0KZk9zJcqaEmaWPHDw0pxe05K7bWOLHFLWXVetqpYmrjle4+1y0aBaF4UOQ1NU+lYezJClkjLUnSEjqhH6zjAW4OjtY39Ibq+sawUb6W2RQfoqG0VeKuwrRJvlba17faRdbe2pTtYq6Nty/S7yAbGsQjWIq41wVoT1+IdZNy1djUcVdu5lklQWC0xHkt1X31qNEE1Pr3qKv/9XiSNj6Aaifj3/69+AYujsR/MvkpZAAAAAElFTkSuQmCC"}},[[1048,0,1,2,4]]]);
//# sourceMappingURL=pages.projects.boards.fa45cb53.chunk.js.map