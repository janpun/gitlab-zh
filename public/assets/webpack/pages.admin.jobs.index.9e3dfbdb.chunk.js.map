{"version":3,"sources":["webpack:///./pages/admin/admin.js","webpack:///./pages/admin/index.js","webpack:///./pages/admin/jobs/index/components/stop_jobs_modal.vue?99ac","webpack:///pages/admin/jobs/index/components/stop_jobs_modal.vue","webpack:///./pages/admin/jobs/index/components/stop_jobs_modal.vue","webpack:///./pages/admin/jobs/index/components/stop_jobs_modal.vue?940d","webpack:///./pages/admin/jobs/index/index.js","webpack:///./vue_shared/components/gl_modal.vue?9762","webpack:///vue_shared/components/gl_modal.vue","webpack:///./vue_shared/components/gl_modal.vue?5765","webpack:///./vue_shared/components/gl_modal.vue"],"names":["showBlacklistType","jquery_default","val","show","hide","document","addEventListener","modal","on","$elems","this","attr","prop","e","preventDefault","toggleClass","tab","$visibleLog","animate","scrollTop","find","height","url_utility","components_stop_jobs_modalvue_type_script_lang_js","components","GlModal","gl_modal","props","url","type","String","required","computed","text","Object","locale","methods","onSubmit","axios_utils","post","then","response","request","responseURL","catch","error","flash","stop_jobs_modal","componentNormalizer","_h","$createElement","_self","_c","attrs","id","header-title-text","s__","footer-primary-button-text","footer-primary-button-variant","submit","_v","_s","vue_esm","use","translate","stopJobsButton","getElementById","el","stopJobsModal","mounted","classList","remove","render","createElement","dataset","buttonVariants","sizeVariants","components_gl_modalvue_type_script_lang_js","name","default","modalSize","validator","value","includes","headerTitleText","footerPrimaryButtonVariant","footerPrimaryButtonText","modalSizeClass","$el","opened","closed","beforeDestroy","off","emitCancel","event","$emit","emitSubmit","component","_vm","staticClass","tabindex","role","class","_t","aria-label","data-dismiss","click","$event","aria-hidden","__webpack_exports__"],"mappings":"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","file":"pages.admin.jobs.index.9e3dfbdb.chunk.js","sourcesContent":["import $ from 'jquery';\nimport { refreshCurrentPage } from '../../lib/utils/url_utility';\n\nfunction showBlacklistType() {\n  if ($('input[name=\"blacklist_type\"]:checked').val() === 'file') {\n    $('.blacklist-file').show();\n    $('.blacklist-raw').hide();\n  } else {\n    $('.blacklist-file').hide();\n    $('.blacklist-raw').show();\n  }\n}\n\nexport default function adminInit() {\n  const modal = $('.change-owner-holder');\n\n  $('input#user_force_random_password').on('change', function randomPasswordClick() {\n    const $elems = $('#user_password, #user_password_confirmation');\n    if ($(this).attr('checked')) {\n      $elems.val('').prop('disabled', true);\n    } else {\n      $elems.prop('disabled', false);\n    }\n  });\n\n  $('body').on('click', '.js-toggle-colors-link', (e) => {\n    e.preventDefault();\n    $('.js-toggle-colors-container').toggleClass('hide');\n  });\n\n  $('.log-tabs a').on('click', function logTabsClick(e) {\n    e.preventDefault();\n    $(this).tab('show');\n  });\n\n  $('.log-bottom').on('click', (e) => {\n    e.preventDefault();\n    const $visibleLog = $('.file-content:visible');\n    $visibleLog.animate({\n      scrollTop: $visibleLog.find('ol').height(),\n    }, 'fast');\n  });\n\n  $('.change-owner-link').on('click', function changeOwnerLinkClick(e) {\n    e.preventDefault();\n    $(this).hide();\n    modal.show();\n  });\n\n  $('.change-owner-cancel-link').on('click', (e) => {\n    e.preventDefault();\n    modal.hide();\n    $('.change-owner-link').show();\n  });\n\n  $('li.project_member, li.group_member').on('ajax:success', refreshCurrentPage);\n\n  $(\"input[name='blacklist_type']\").on('click', showBlacklistType);\n  showBlacklistType();\n}\n","import initAdmin from './admin';\n\ndocument.addEventListener('DOMContentLoaded', initAdmin);\n","import mod from \"-!../../../../../../../../node_modules/babel-loader/lib/index.js??ref--0!../../../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./stop_jobs_modal.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../../../../../../node_modules/babel-loader/lib/index.js??ref--0!../../../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./stop_jobs_modal.vue?vue&type=script&lang=js\"","<script>\n  import axios from '~/lib/utils/axios_utils';\n  import createFlash from '~/flash';\n  import GlModal from '~/vue_shared/components/gl_modal.vue';\n  import { redirectTo } from '~/lib/utils/url_utility';\n  import { s__ } from '~/locale';\n\n  export default {\n    components: {\n      GlModal,\n    },\n    props: {\n      url: {\n        type: String,\n        required: true,\n      },\n    },\n    computed: {\n      text() {\n        return s__('AdminArea|Youâ€™re about to stop all jobs.This will halt all current jobs that are running.');\n      },\n    },\n    methods: {\n      onSubmit() {\n        return axios.post(this.url)\n          .then((response) => {\n            // follow the rediect to refresh the page\n            redirectTo(response.request.responseURL);\n          })\n          .catch((error) => {\n            createFlash(s__('AdminArea|Stopping jobs failed'));\n            throw error;\n          });\n      },\n    },\n  };\n</script>\n\n<template>\n  <gl-modal\n    id=\"stop-jobs-modal\"\n    :header-title-text=\"s__('AdminArea|Stop all jobs?')\"\n    :footer-primary-button-text=\"s__('AdminArea|Stop jobs')\"\n    footer-primary-button-variant=\"danger\"\n    @submit=\"onSubmit\"\n  >\n    {{ text }}\n  </gl-modal>\n</template>\n","import { render, staticRenderFns } from \"./stop_jobs_modal.vue?vue&type=template&id=3416d6b3\"\nimport script from \"./stop_jobs_modal.vue?vue&type=script&lang=js\"\nexport * from \"./stop_jobs_modal.vue?vue&type=script&lang=js\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('gl-modal',{attrs:{\"id\":\"stop-jobs-modal\",\"header-title-text\":_vm.s__('AdminArea|Stop all jobs?'),\"footer-primary-button-text\":_vm.s__('AdminArea|Stop jobs'),\"footer-primary-button-variant\":\"danger\"},on:{\"submit\":_vm.onSubmit}},[_vm._v(\"\\n  \"+_vm._s(_vm.text)+\"\\n\")])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import Vue from 'vue';\nimport Translate from '~/vue_shared/translate';\nimport stopJobsModal from './components/stop_jobs_modal.vue';\n\nVue.use(Translate);\n\ndocument.addEventListener('DOMContentLoaded', () => {\n  const stopJobsButton = document.getElementById('stop-jobs-button');\n  if (stopJobsButton) {\n    // eslint-disable-next-line no-new\n    new Vue({\n      el: '#stop-jobs-modal',\n      components: {\n        stopJobsModal,\n      },\n      mounted() {\n        stopJobsButton.classList.remove('disabled');\n      },\n      render(createElement) {\n        return createElement('stop-jobs-modal', {\n          props: {\n            url: stopJobsButton.dataset.url,\n          },\n        });\n      },\n    });\n  }\n});\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"modal fade\",attrs:{\"id\":_vm.id,\"tabindex\":\"-1\",\"role\":\"dialog\"}},[_c('div',{staticClass:\"modal-dialog\",class:_vm.modalSizeClass,attrs:{\"role\":\"document\"}},[_c('div',{staticClass:\"modal-content\"},[_c('div',{staticClass:\"modal-header\"},[_vm._t(\"header\",[_c('h4',{staticClass:\"modal-title\"},[_vm._t(\"title\",[_vm._v(\"\\n              \"+_vm._s(_vm.headerTitleText)+\"\\n            \")])],2),_vm._v(\" \"),_c('button',{staticClass:\"close js-modal-close-action\",attrs:{\"aria-label\":_vm.s__('Modal|Close'),\"type\":\"button\",\"data-dismiss\":\"modal\"},on:{\"click\":function($event){_vm.emitCancel($event)}}},[_c('span',{attrs:{\"aria-hidden\":\"true\"}},[_vm._v(\"Ã—\")])])])],2),_vm._v(\" \"),_c('div',{staticClass:\"modal-body\"},[_vm._t(\"default\")],2),_vm._v(\" \"),_c('div',{staticClass:\"modal-footer\"},[_vm._t(\"footer\",[_c('button',{staticClass:\"btn js-modal-cancel-action\",attrs:{\"type\":\"button\",\"data-dismiss\":\"modal\"},on:{\"click\":function($event){_vm.emitCancel($event)}}},[_vm._v(\"\\n            \"+_vm._s(_vm.s__('Modal|Cancel'))+\"\\n          \")]),_vm._v(\" \"),_c('button',{staticClass:\"btn js-modal-primary-action\",class:(\"btn-\" + _vm.footerPrimaryButtonVariant),attrs:{\"type\":\"button\",\"data-dismiss\":\"modal\"},on:{\"click\":function($event){_vm.emitSubmit($event)}}},[_vm._v(\"\\n            \"+_vm._s(_vm.footerPrimaryButtonText)+\"\\n          \")])])],2)])])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<script>\nimport $ from 'jquery';\n\nconst buttonVariants = ['danger', 'primary', 'success', 'warning'];\nconst sizeVariants = ['sm', 'md', 'lg', 'xl'];\n\nexport default {\n  name: 'GlModal',\n  props: {\n    id: {\n      type: String,\n      required: false,\n      default: null,\n    },\n    modalSize: {\n      type: String,\n      required: false,\n      default: 'md',\n      validator: value => sizeVariants.includes(value),\n    },\n    headerTitleText: {\n      type: String,\n      required: false,\n      default: '',\n    },\n    footerPrimaryButtonVariant: {\n      type: String,\n      required: false,\n      default: 'primary',\n      validator: value => buttonVariants.includes(value),\n    },\n    footerPrimaryButtonText: {\n      type: String,\n      required: false,\n      default: '',\n    },\n  },\n  computed: {\n    modalSizeClass() {\n      return this.modalSize === 'md' ? '' : `modal-${this.modalSize}`;\n    },\n  },\n  mounted() {\n    $(this.$el).on('shown.bs.modal', this.opened).on('hidden.bs.modal', this.closed);\n  },\n  beforeDestroy() {\n    $(this.$el).off('shown.bs.modal', this.opened).off('hidden.bs.modal', this.closed);\n  },\n  methods: {\n    emitCancel(event) {\n      this.$emit('cancel', event);\n    },\n    emitSubmit(event) {\n      this.$emit('submit', event);\n    },\n    opened() {\n      this.$emit('open');\n    },\n    closed() {\n      this.$emit('closed');\n    },\n  },\n};\n</script>\n\n<template>\n  <div\n    :id=\"id\"\n    class=\"modal fade\"\n    tabindex=\"-1\"\n    role=\"dialog\"\n  >\n    <div\n      :class=\"modalSizeClass\"\n      class=\"modal-dialog\"\n      role=\"document\"\n    >\n      <div class=\"modal-content\">\n        <div class=\"modal-header\">\n          <slot name=\"header\">\n            <h4 class=\"modal-title\">\n              <slot name=\"title\">\n                {{ headerTitleText }}\n              </slot>\n            </h4>\n            <button\n              :aria-label=\"s__('Modal|Close')\"\n              type=\"button\"\n              class=\"close js-modal-close-action\"\n              data-dismiss=\"modal\"\n              @click=\"emitCancel($event)\"\n            >\n              <span aria-hidden=\"true\">&times;</span>\n            </button>\n          </slot>\n        </div>\n\n        <div class=\"modal-body\">\n          <slot></slot>\n        </div>\n\n        <div class=\"modal-footer\">\n          <slot name=\"footer\">\n            <button\n              type=\"button\"\n              class=\"btn js-modal-cancel-action\"\n              data-dismiss=\"modal\"\n              @click=\"emitCancel($event)\"\n            >\n              {{ s__('Modal|Cancel') }}\n            </button>\n            <button\n              :class=\"`btn-${footerPrimaryButtonVariant}`\"\n              type=\"button\"\n              class=\"btn js-modal-primary-action\"\n              data-dismiss=\"modal\"\n              @click=\"emitSubmit($event)\"\n            >\n              {{ footerPrimaryButtonText }}\n            </button>\n          </slot>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n","import mod from \"-!../../../../../node_modules/babel-loader/lib/index.js??ref--0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./gl_modal.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../../../node_modules/babel-loader/lib/index.js??ref--0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./gl_modal.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./gl_modal.vue?vue&type=template&id=de72a650\"\nimport script from \"./gl_modal.vue?vue&type=script&lang=js\"\nexport * from \"./gl_modal.vue?vue&type=script&lang=js\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}