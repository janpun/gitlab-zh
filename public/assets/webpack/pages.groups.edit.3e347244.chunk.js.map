{"version":3,"sources":["webpack:///./settings_panels.js","webpack:///./group_avatar.js","webpack:///./confirm_danger_modal.js","webpack:///./groups/transfer_dropdown.js","webpack:///./pages/groups/edit/index.js"],"names":["expandSection","$section","find","text","off","scrollTop","addClass","hasClass","one","removeClass","toggleSection","on","closeSection","initSettingsPanels","jquery__WEBPACK_IMPORTED_MODULE_0___default","each","i","elm","window","location","hash","$target","length","groupAvatar","this","closest","click","form","filename","val","replace","initConfirmDangerModal","document","e","preventDefault","$btn","target","$form","$input","modal","confirmTextMatch","$submit","disable","focus","Object","_lib_utils_common_utils__WEBPACK_IMPORTED_MODULE_1__","enable","submit","openConfirmDangerModal","data","TransferDropdown","_classCallCheck","groupDropdown","jquery_default","parentInput","init","buildDropdown","_this","glDropdown","selectable","filterable","toggleLabel","item","search","fields","id","concat","clicked","options","assignSelected","selectedObj","selected","addEventListener","group_avatar","transfer_dropdown","confirm_danger_modal","settings_panels"],"mappings":"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","file":"pages.groups.edit.3e347244.chunk.js","sourcesContent":["import $ from 'jquery';\n\nfunction expandSection($section) {\n  $section.find('.js-settings-toggle').text('Collapse');\n  $section.find('.settings-content').off('scroll.expandSection').scrollTop(0);\n  $section.addClass('expanded');\n  if (!$section.hasClass('no-animate')) {\n    $section.addClass('animating')\n      .one('animationend.animateSection', () => $section.removeClass('animating'));\n  }\n}\n\nfunction closeSection($section) {\n  $section.find('.js-settings-toggle').text('Expand');\n  $section.find('.settings-content').on('scroll.expandSection', () => expandSection($section));\n  $section.removeClass('expanded');\n  if (!$section.hasClass('no-animate')) {\n    $section.addClass('animating')\n      .one('animationend.animateSection', () => $section.removeClass('animating'));\n  }\n}\n\nfunction toggleSection($section) {\n  $section.removeClass('no-animate');\n  if ($section.hasClass('expanded')) {\n    closeSection($section);\n  } else {\n    expandSection($section);\n  }\n}\n\nexport default function initSettingsPanels() {\n  $('.settings').each((i, elm) => {\n    const $section = $(elm);\n    $section.on('click.toggleSection', '.js-settings-toggle', () => toggleSection($section));\n\n    if (!$section.hasClass('expanded')) {\n      $section.find('.settings-content').on('scroll.expandSection', () => {\n        $section.removeClass('no-animate');\n        expandSection($section);\n      });\n    }\n  });\n\n  if (window.location.hash) {\n    const $target = $(window.location.hash);\n    if ($target.length && $target.hasClass('settings')) {\n      expandSection($target);\n    }\n  }\n}\n","import $ from 'jquery';\n\nexport default function groupAvatar() {\n  $('.js-choose-group-avatar-button').on('click', function onClickGroupAvatar() {\n    const form = $(this).closest('form');\n    return form.find('.js-group-avatar-input').click();\n  });\n  $('.js-group-avatar-input').on('change', function onChangeAvatarInput() {\n    const form = $(this).closest('form');\n    // eslint-disable-next-line no-useless-escape\n    const filename = $(this).val().replace(/^.*[\\\\\\/]/, '');\n    return form.find('.js-avatar-filename').text(filename);\n  });\n}\n","import $ from 'jquery';\nimport { rstrip } from './lib/utils/common_utils';\n\nfunction openConfirmDangerModal($form, text) {\n  const $input = $('.js-confirm-danger-input');\n  $input.val('');\n\n  $('.js-confirm-text').text(text || '');\n  $('#modal-confirm-danger').modal('show');\n\n  const confirmTextMatch = $('.js-confirm-danger-match').text();\n  const $submit = $('.js-confirm-danger-submit');\n  $submit.disable();\n  $input.focus();\n\n  $('.js-confirm-danger-input').off('input').on('input', function handleInput() {\n    const confirmText = rstrip($(this).val());\n    if (confirmText === confirmTextMatch) {\n      $submit.enable();\n    } else {\n      $submit.disable();\n    }\n  });\n  $('.js-confirm-danger-submit').off('click').on('click', () => $form.submit());\n}\n\nexport default function initConfirmDangerModal() {\n  $(document).on('click', '.js-confirm-danger', (e) => {\n    e.preventDefault();\n    const $btn = $(e.target);\n    const $form = $btn.closest('form');\n    const text = $btn.data('confirmDangerMessage');\n    openConfirmDangerModal($form, text);\n  });\n}\n","import $ from 'jquery';\n\nexport default class TransferDropdown {\n  constructor() {\n    this.groupDropdown = $('.js-groups-dropdown');\n    this.parentInput = $('#new_parent_group_id');\n    this.data = this.groupDropdown.data('data');\n    this.init();\n  }\n\n  init() {\n    this.buildDropdown();\n  }\n\n  buildDropdown() {\n    const extraOptions = [{ id: '', text: 'No parent group' }, 'divider'];\n\n    this.groupDropdown.glDropdown({\n      selectable: true,\n      filterable: true,\n      toggleLabel: item => item.text,\n      search: { fields: ['text'] },\n      data: extraOptions.concat(this.data),\n      text: item => item.text,\n      clicked: (options) => {\n        const { e } = options;\n        e.preventDefault();\n        this.assignSelected(options.selectedObj);\n      },\n    });\n  }\n\n  assignSelected(selected) {\n    this.parentInput.val(selected.id);\n  }\n}\n","import groupAvatar from '~/group_avatar';\nimport TransferDropdown from '~/groups/transfer_dropdown';\nimport initConfirmDangerModal from '~/confirm_danger_modal';\nimport initSettingsPanels from '~/settings_panels';\n\ndocument.addEventListener('DOMContentLoaded', () => {\n  groupAvatar();\n  new TransferDropdown(); // eslint-disable-line no-new\n  initConfirmDangerModal();\n});\n\ndocument.addEventListener('DOMContentLoaded', () => {\n  // Initialize expandable settings panels\n  initSettingsPanels();\n});\n"],"sourceRoot":""}