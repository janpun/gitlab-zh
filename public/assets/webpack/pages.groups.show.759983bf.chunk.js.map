{"version":3,"sources":["webpack:///./droplab/plugins/input_setter.js","webpack:///./projects_list.js","webpack:///./notifications_form.js","webpack:///./notifications_dropdown.js","webpack:///./groups/new_group_child.js","webpack:///./pages/groups/show/index.js","webpack:///./shortcuts_navigation.js"],"names":["InputSetter","init","hook","this","destroyed","config","eventWrapper","addEvents","setInputs","bind","list","addEventListener","removeEvents","removeEventListener","e","_this","selectedItem","detail","selected","Array","isArray","forEach","setInput","input","trigger","newValue","getAttribute","valueAttribute","inputAttribute","hasAttribute","setAttribute","tagName","value","textContent","destroy","__webpack_exports__","ProjectsList","_classCallCheck","form","document","querySelector","filter","holder","_filterable_list__WEBPACK_IMPORTED_MODULE_0__","initSearch","NotificationsForm","toggleCheckbox","initEventListeners","jquery__WEBPACK_IMPORTED_MODULE_0___default","on","$checkbox","currentTarget","$parent","closest","saveEvent","addClass","find","removeClass","parents","showCheckboxLoadingSpinner","_lib_utils_axios_utils__WEBPACK_IMPORTED_MODULE_2__","attr","serialize","then","_ref","data","enable","saved","toggleClass","setTimeout","catch","Object","_flash__WEBPACK_IMPORTED_MODULE_3__","_locale__WEBPACK_IMPORTED_MODULE_1__","notificationsDropdown","preventDefault","is","notificationLevel","val","submit","replaceWith","html","_flash__WEBPACK_IMPORTED_MODULE_1__","assign","input_setter","NewGroupChild","buttonWrapper","newGroupChildButton","dropdownToggle","dropdownList","newGroupPath","dataset","projectPath","subgroupPath","initDroplab","bindEvents","droplab","drop_lab","getDroplabConfig","onClickNewGroupChildButton","target","action","url_utility","newGroupChildWrapper","shortcuts_navigation","notifications_form","notifications_dropdown","projects_list","new_group_child","groups","ShortcutsNavigation","_possibleConstructorReturn","__proto__","getPrototypeOf","call","mousetrap__WEBPACK_IMPORTED_MODULE_0___default","a","_shortcuts_dashboard_navigation__WEBPACK_IMPORTED_MODULE_1__","enabledHelp","push","_shortcuts__WEBPACK_IMPORTED_MODULE_2__"],"mappings":"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","file":"pages.groups.show.759983bf.chunk.js","sourcesContent":["/* eslint-disable */\n\nconst InputSetter = {\n  init(hook) {\n    this.hook = hook;\n    this.destroyed = false;\n    this.config = hook.config.InputSetter || (this.hook.config.InputSetter = {});\n\n    this.eventWrapper = {};\n\n    this.addEvents();\n  },\n\n  addEvents() {\n    this.eventWrapper.setInputs = this.setInputs.bind(this);\n    this.hook.list.list.addEventListener('click.dl', this.eventWrapper.setInputs);\n  },\n\n  removeEvents() {\n    this.hook.list.list.removeEventListener('click.dl', this.eventWrapper.setInputs);\n  },\n\n  setInputs(e) {\n    if (this.destroyed) return;\n\n    const selectedItem = e.detail.selected;\n\n    if (!Array.isArray(this.config)) this.config = [this.config];\n\n    this.config.forEach(config => this.setInput(config, selectedItem));\n  },\n\n  setInput(config, selectedItem) {\n    const input = config.input || this.hook.trigger;\n    const newValue = selectedItem.getAttribute(config.valueAttribute);\n    const inputAttribute = config.inputAttribute;\n\n    if (input.hasAttribute(inputAttribute)) return input.setAttribute(inputAttribute, newValue);\n    if (input.tagName === 'INPUT') return input.value = newValue;\n    return input.textContent = newValue;\n  },\n\n  destroy() {\n    this.destroyed = true;\n\n    this.removeEvents();\n  },\n};\n\nexport default InputSetter;\n","import FilterableList from './filterable_list';\n\n/**\n * Makes search request for projects when user types a value in the search input.\n * Updates the html content of the page with the received one.\n */\nexport default class ProjectsList {\n  constructor() {\n    const form = document.querySelector('form#project-filter-form');\n    const filter = document.querySelector('.js-projects-list-filter');\n    const holder = document.querySelector('.js-projects-list-holder');\n\n    if (form && filter && holder) {\n      const list = new FilterableList(form, filter, holder);\n      list.initSearch();\n    }\n  }\n}\n","import $ from 'jquery';\nimport { __ } from './locale';\nimport axios from './lib/utils/axios_utils';\nimport flash from './flash';\n\nexport default class NotificationsForm {\n  constructor() {\n    this.toggleCheckbox = this.toggleCheckbox.bind(this);\n    this.initEventListeners();\n  }\n\n  initEventListeners() {\n    $(document).on('change', '.js-custom-notification-event', this.toggleCheckbox);\n  }\n\n  toggleCheckbox(e) {\n    const $checkbox = $(e.currentTarget);\n    const $parent = $checkbox.closest('.form-check');\n\n    this.saveEvent($checkbox, $parent);\n  }\n\n  // eslint-disable-next-line class-methods-use-this\n  showCheckboxLoadingSpinner($parent) {\n    $parent.addClass('is-loading')\n      .find('.custom-notification-event-loading')\n      .removeClass('fa-check')\n      .addClass('fa-spin fa-spinner')\n      .removeClass('is-done');\n  }\n\n  saveEvent($checkbox, $parent) {\n    const form = $parent.parents('form:first');\n\n    this.showCheckboxLoadingSpinner($parent);\n\n    axios[form.attr('method')](form.attr('action'), form.serialize())\n      .then(({ data }) => {\n        $checkbox.enable();\n        if (data.saved) {\n          $parent.find('.custom-notification-event-loading').toggleClass('fa-spin fa-spinner fa-check is-done');\n          setTimeout(() => {\n            $parent.removeClass('is-loading')\n              .find('.custom-notification-event-loading')\n              .toggleClass('fa-spin fa-spinner fa-check is-done');\n          }, 2000);\n        }\n      })\n      .catch(() => flash(__('There was an error saving your notification settings.')));\n  }\n}\n","import $ from 'jquery';\nimport Flash from './flash';\n\nexport default function notificationsDropdown() {\n  $(document).on('click', '.update-notification', function updateNotificationCallback(e) {\n    e.preventDefault();\n    if ($(this).is('.is-active') && $(this).data('notificationLevel') === 'custom') {\n      return;\n    }\n\n    const notificationLevel = $(this).data('notificationLevel');\n    const form = $(this).parents('.notification-form:first');\n\n    form.find('.js-notification-loading').toggleClass('fa-bell fa-spin fa-spinner');\n    form.find('#notification_setting_level').val(notificationLevel);\n    form.submit();\n  });\n\n  $(document).on('ajax:success', '.notification-form', (e, data) => {\n    if (data.saved) {\n      $(e.currentTarget).closest('.js-notification-dropdown').replaceWith(data.html);\n    } else {\n      Flash('Failed to save new settings', 'alert');\n    }\n  });\n}\n","import { visitUrl } from '../lib/utils/url_utility';\nimport DropLab from '../droplab/drop_lab';\nimport ISetter from '../droplab/plugins/input_setter';\n\nconst InputSetter = Object.assign({}, ISetter);\n\nconst NEW_PROJECT = 'new-project';\nconst NEW_SUBGROUP = 'new-subgroup';\n\nexport default class NewGroupChild {\n  constructor(buttonWrapper) {\n    this.buttonWrapper = buttonWrapper;\n    this.newGroupChildButton = this.buttonWrapper.querySelector('.js-new-group-child');\n    this.dropdownToggle = this.buttonWrapper.querySelector('.js-dropdown-toggle');\n    this.dropdownList = this.buttonWrapper.querySelector('.dropdown-menu');\n\n    this.newGroupPath = this.buttonWrapper.dataset.projectPath;\n    this.subgroupPath = this.buttonWrapper.dataset.subgroupPath;\n\n    this.init();\n  }\n\n  init() {\n    this.initDroplab();\n    this.bindEvents();\n  }\n\n  initDroplab() {\n    this.droplab = new DropLab();\n    this.droplab.init(\n      this.dropdownToggle,\n      this.dropdownList,\n      [InputSetter],\n      this.getDroplabConfig(),\n    );\n  }\n\n  getDroplabConfig() {\n    return {\n      InputSetter: [{\n        input: this.newGroupChildButton,\n        valueAttribute: 'data-value',\n        inputAttribute: 'data-action',\n      }, {\n        input: this.newGroupChildButton,\n        valueAttribute: 'data-text',\n      }],\n    };\n  }\n\n  bindEvents() {\n    this.newGroupChildButton\n      .addEventListener('click', this.onClickNewGroupChildButton.bind(this));\n  }\n\n  onClickNewGroupChildButton(e) {\n    if (e.target.dataset.action === NEW_PROJECT) {\n      visitUrl(this.newGroupPath);\n    } else if (e.target.dataset.action === NEW_SUBGROUP) {\n      visitUrl(this.subgroupPath);\n    }\n  }\n}\n","/* eslint-disable no-new */\n\nimport NewGroupChild from '~/groups/new_group_child';\nimport notificationsDropdown from '~/notifications_dropdown';\nimport NotificationsForm from '~/notifications_form';\nimport ProjectsList from '~/projects_list';\nimport ShortcutsNavigation from '~/shortcuts_navigation';\nimport initGroupsList from '~/groups';\n\ndocument.addEventListener('DOMContentLoaded', () => {\n  const newGroupChildWrapper = document.querySelector('.js-new-project-subgroup');\n  new ShortcutsNavigation();\n  new NotificationsForm();\n  notificationsDropdown();\n  new ProjectsList();\n\n  if (newGroupChildWrapper) {\n    new NewGroupChild(newGroupChildWrapper);\n  }\n\n  initGroupsList();\n});\n","import Mousetrap from 'mousetrap';\nimport findAndFollowLink from './shortcuts_dashboard_navigation';\nimport Shortcuts from './shortcuts';\n\nexport default class ShortcutsNavigation extends Shortcuts {\n  constructor() {\n    super();\n\n    Mousetrap.bind('g p', () => findAndFollowLink('.shortcuts-project'));\n    Mousetrap.bind('g v', () => findAndFollowLink('.shortcuts-project-activity'));\n    Mousetrap.bind('g f', () => findAndFollowLink('.shortcuts-tree'));\n    Mousetrap.bind('g c', () => findAndFollowLink('.shortcuts-commits'));\n    Mousetrap.bind('g j', () => findAndFollowLink('.shortcuts-builds'));\n    Mousetrap.bind('g n', () => findAndFollowLink('.shortcuts-network'));\n    Mousetrap.bind('g d', () => findAndFollowLink('.shortcuts-repository-charts'));\n    Mousetrap.bind('g i', () => findAndFollowLink('.shortcuts-issues'));\n    Mousetrap.bind('g b', () => findAndFollowLink('.shortcuts-issue-boards'));\n    Mousetrap.bind('g m', () => findAndFollowLink('.shortcuts-merge_requests'));\n    Mousetrap.bind('g w', () => findAndFollowLink('.shortcuts-wiki'));\n    Mousetrap.bind('g s', () => findAndFollowLink('.shortcuts-snippets'));\n    Mousetrap.bind('g k', () => findAndFollowLink('.shortcuts-kubernetes'));\n    Mousetrap.bind('g e', () => findAndFollowLink('.shortcuts-environments'));\n    Mousetrap.bind('g l', () => findAndFollowLink('.shortcuts-metrics'));\n    Mousetrap.bind('i', () => findAndFollowLink('.shortcuts-new-issue'));\n\n    this.enabledHelp.push('.hidden-shortcut.project');\n  }\n}\n"],"sourceRoot":""}