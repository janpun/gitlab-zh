(this.webpackJsonp=this.webpackJsonp||[]).push([[159],{1029:function(t,e,i){"use strict";i.r(e);var n=i(0),a=i.n(n),s=i(457),o=i(340);document.addEventListener("DOMContentLoaded",function(){new s.a({container:".js-commit-pipeline-graph"}).bindEvents(),a()(".commit-info.branches").load(document.querySelector(".js-commit-box").dataset.commitPath),Object(o.a)()})},1030:function(t,e,i){i(31),i(57),t.exports=i(1029)},109:function(t,e,i){"use strict";var n={components:{loadingIcon:i(27).a},props:{loading:{type:Boolean,required:!1,default:!1},disabled:{type:Boolean,required:!1,default:!1},label:{type:String,required:!1},containerClass:{type:[String,Array,Object],required:!1,default:"btn btn-align-content"}},methods:{onClick:function(t){this.$emit("click",t)}}},a=i(2),s=Object(a.a)(n,function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("button",{class:t.containerClass,attrs:{disabled:t.loading||t.disabled,type:"button"},on:{click:t.onClick}},[i("transition",{attrs:{name:"fade"}},[t.loading?i("loading-icon",{staticClass:"js-loading-button-icon",class:{"append-right-5":t.label},attrs:{inline:!0}}):t._e()],1),t._v(" "),i("transition",{attrs:{name:"fade"}},[t._t("default",[t.label?i("span",{staticClass:"js-loading-button-label"},[t._v("\n        "+t._s(t.label)+"\n      ")]):t._e()])],2)],1)},[],!1,null,null,null);e.a=s.exports},122:function(t,e,i){"use strict";i.d(e,"a",function(){return n}),i.d(e,"b",function(){return a});var n="CANCEL_REQUEST",a="PIPELINES_TABLE"},141:function(t,e,i){"use strict";var n={components:{ciIcon:i(96).a},props:{name:{type:String,required:!0},status:{type:Object,required:!0}}},a=i(2),s=Object(a.a)(n,function(){var t=this.$createElement,e=this._self._c||t;return e("span",{staticClass:"ci-job-name-component"},[e("ci-icon",{attrs:{status:this.status}}),this._v(" "),e("span",{staticClass:"ci-status-text"},[this._v("\n    "+this._s(this.name)+"\n  ")])],1)},[],!1,null,null,null);e.a=s.exports},142:function(t,e,i){"use strict";var n=i(0),a=i.n(n),s=i(5),o=i(45),r=i(1),l=i(7),p=i(12),c={components:{Icon:i(15).a},directives:{tooltip:p.a},props:{tooltipText:{type:String,required:!0},link:{type:String,required:!0},actionIcon:{type:String,required:!0}},data:function(){return{isDisabled:!1}},computed:{cssClass:function(){var t=Object(o.e)(this.actionIcon);return t+" js-icon-"+t}},methods:{onClickAction:function(){var t=this;a()(this.$el).tooltip("hide"),this.isDisabled=!0,s.a.post(this.link+".json").then(function(){t.isDisabled=!1,t.$emit("pipelineActionRequestComplete")}).catch(function(){t.isDisabled=!1,Object(l.a)(Object(r.a)("An error occurred while making the request."))})}}},u=i(2),d={components:{ActionComponent:Object(u.a)(c,function(){var t=this.$createElement,e=this._self._c||t;return e("button",{directives:[{name:"tooltip",rawName:"v-tooltip"}],staticClass:"js-ci-action btn btn-blank\nbtn-transparent ci-action-icon-container ci-action-icon-wrapper",class:this.cssClass,attrs:{title:this.tooltipText,disabled:this.isDisabled,type:"button","data-container":"body","data-boundary":"viewport"},on:{click:this.onClickAction}},[e("icon",{attrs:{name:this.actionIcon}})],1)},[],!1,null,null,null).exports,JobNameComponent:i(141).a},directives:{tooltip:p.a},props:{job:{type:Object,required:!0},cssClassJobName:{type:String,required:!1,default:""},dropdownLength:{type:Number,required:!1,default:1/0}},computed:{status:function(){return this.job&&this.job.status?this.job.status:{}},tooltipText:function(){var t=[];return this.job.name&&t.push(this.job.name),this.job.name&&this.status.tooltip&&t.push("-"),this.status.tooltip&&t.push(this.job.status.tooltip),t.join(" ")},tooltipBoundary:function(){return this.dropdownLength<5?"viewport":null},hasAction:function(){return this.job.status&&this.job.status.action&&this.job.status.action.path}},methods:{pipelineActionRequestComplete:function(){this.$emit("pipelineActionRequestComplete")}}},h=Object(u.a)(d,function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"ci-job-component"},[t.status.has_details?i("a",{directives:[{name:"tooltip",rawName:"v-tooltip"}],staticClass:"js-pipeline-graph-job-link",class:t.cssClassJobName,attrs:{href:t.status.details_path,title:t.tooltipText,"data-boundary":t.tooltipBoundary,"data-container":"body"}},[i("job-name-component",{attrs:{name:t.job.name,status:t.job.status}})],1):i("div",{directives:[{name:"tooltip",rawName:"v-tooltip"}],staticClass:"js-job-component-tooltip non-details-job-component",class:t.cssClassJobName,attrs:{title:t.tooltipText,"data-container":"body"}},[i("job-name-component",{attrs:{name:t.job.name,status:t.job.status}})],1),t._v(" "),t.hasAction?i("action-component",{attrs:{"tooltip-text":t.status.action.title,link:t.status.action.path,"action-icon":t.status.action.icon},on:{pipelineActionRequestComplete:t.pipelineActionRequestComplete}}):t._e()],1)},[],!1,null,null,null);e.a=h.exports},223:function(t,e,i){"use strict";var n=i(88),a=i(12),s=i(15),o={directives:{tooltip:a.a},components:{UserAvatarLink:n.a,Icon:s.a},props:{tag:{type:Boolean,required:!1,default:!1},commitRef:{type:Object,required:!1,default:function(){return{}}},commitUrl:{type:String,required:!1,default:""},shortSha:{type:String,required:!1,default:""},title:{type:String,required:!1,default:""},author:{type:Object,required:!1,default:function(){return{}}},showBranch:{type:Boolean,required:!1,default:!0}},computed:{hasCommitRef:function(){return this.commitRef&&this.commitRef.name&&this.commitRef.ref_url},hasAuthor:function(){return this.author&&this.author.avatar_url&&this.author.path&&this.author.username},userImageAltDescription:function(){return this.author&&this.author.username?this.author.username+"'s avatar":null}}},r=i(2),l=Object(r.a)(o,function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"branch-commit"},[t.hasCommitRef&&t.showBranch?[i("div",{staticClass:"icon-container"},[t.tag?i("i",{staticClass:"fa fa-tag",attrs:{"aria-hidden":"true"}}):t._e(),t._v(" "),t.tag?t._e():i("icon",{attrs:{name:"fork"}})],1),t._v(" "),i("a",{directives:[{name:"tooltip",rawName:"v-tooltip"}],staticClass:"ref-name",attrs:{href:t.commitRef.ref_url,title:t.commitRef.name,"data-container":"body"}},[t._v("\n      "+t._s(t.commitRef.name)+"\n    ")])]:t._e(),t._v(" "),i("icon",{staticClass:"commit-icon js-commit-icon",attrs:{name:"commit"}}),t._v(" "),i("a",{staticClass:"commit-sha",attrs:{href:t.commitUrl}},[t._v("\n    "+t._s(t.shortSha)+"\n  ")]),t._v(" "),i("div",{staticClass:"commit-title flex-truncate-parent"},[t.title?i("span",{staticClass:"flex-truncate-child"},[t.hasAuthor?i("user-avatar-link",{staticClass:"avatar-image-container",attrs:{"link-href":t.author.path,"img-src":t.author.avatar_url,"img-alt":t.userImageAltDescription,"tooltip-text":t.author.username}}):t._e(),t._v(" "),i("a",{staticClass:"commit-row-message",attrs:{href:t.commitUrl}},[t._v("\n        "+t._s(t.title)+"\n      ")])],1):i("span",[t._v("\n      Can't find HEAD commit for this branch\n    ")])])],2)},[],!1,null,null,null);e.a=l.exports},226:function(t,e,i){"use strict";var n={name:"PipelinesEmptyState",props:{helpPagePath:{type:String,required:!0},emptyStateSvgPath:{type:String,required:!0},canSetCi:{type:Boolean,required:!0}}},a=i(2),s=Object(a.a)(n,function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"row empty-state js-empty-state"},[i("div",{staticClass:"col-12"},[i("div",{staticClass:"svg-content svg-250"},[i("img",{attrs:{src:t.emptyStateSvgPath}})])]),t._v(" "),i("div",{staticClass:"col-12"},[i("div",{staticClass:"text-content"},[t.canSetCi?[i("h4",{staticClass:"text-center"},[t._v("\n          "+t._s(t.s__("Pipelines|Build with confidence"))+"\n        ")]),t._v(" "),i("p",[t._v("\n          "+t._s(t.s__("Pipelines|Continuous Integration can help\n              catch bugs by running your tests automatically,\n              while Continuous Deployment can help you deliver\n              code to your product environment."))+"\n        ")]),t._v(" "),i("div",{staticClass:"text-center"},[i("a",{staticClass:"btn btn-primary js-get-started-pipelines",attrs:{href:t.helpPagePath}},[t._v("\n            "+t._s(t.s__("Pipelines|Get started with Pipelines"))+"\n          ")])])]:i("p",{staticClass:"text-center"},[t._v("\n        "+t._s(t.s__("Pipelines|This project is not currently set up to run pipelines."))+"\n      ")])],2)])])},[],!1,null,null,null);e.a=s.exports},230:function(t,e,i){"use strict";var n=i(0),a=i.n(n);e.a={bind:function(t,e){a()(t).popover(e.value)},unbind:function(t){a()(t).popover("dispose")}}},245:function(t,e,i){"use strict";var n=i(0),a=i.n(n),s=i(1),o=i(7),r=i(5),l=i(49),p=i(15),c=i(27),u=i(142),d=i(12),h=i(122),m={components:{LoadingIcon:c.a,Icon:p.a,JobComponent:u.a},directives:{tooltip:d.a},props:{stage:{type:Object,required:!0},updateDropdown:{type:Boolean,required:!1,default:!1},type:{type:String,required:!1,default:""}},data:function(){return{isLoading:!1,dropdownContent:""}},computed:{dropdownClass:function(){return this.dropdownContent.length>0?"js-builds-dropdown-container":"js-builds-dropdown-loading"},triggerButtonClass:function(){return"ci-status-icon-"+this.stage.status.group},borderlessIcon:function(){return this.stage.status.icon+"_borderless"}},watch:{updateDropdown:function(){this.updateDropdown&&this.isDropdownOpen()&&!this.isLoading&&this.fetchJobs()}},updated:function(){this.dropdownContent.length>0&&this.stopDropdownClickPropagation()},methods:{onClickStage:function(){this.isDropdownOpen()||(l.a.$emit("clickedDropdown"),this.isLoading=!0,this.fetchJobs())},fetchJobs:function(){var t=this;r.a.get(this.stage.dropdown_path).then(function(e){var i=e.data;t.dropdownContent=i.latest_statuses,t.isLoading=!1}).catch(function(){t.closeDropdown(),t.isLoading=!1,Object(o.a)(Object(s.a)("Something went wrong on our end."))})},stopDropdownClickPropagation:function(){a()(".js-builds-dropdown-list button, .js-builds-dropdown-list a.mini-pipeline-graph-dropdown-item",this.$el).on("click",function(t){t.stopPropagation()})},closeDropdown:function(){this.isDropdownOpen()&&a()(this.$refs.dropdown).dropdown("toggle")},isDropdownOpen:function(){return this.$el.classList.contains("open")},pipelineActionRequestComplete:function(){this.type===h.b?l.a.$emit("refreshPipelinesTable"):a()(this.$refs.dropdown).dropdown("toggle")}}},f=i(2),v=Object(f.a)(m,function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"dropdown"},[i("button",{directives:[{name:"tooltip",rawName:"v-tooltip"}],ref:"dropdown",staticClass:"mini-pipeline-graph-dropdown-toggle js-builds-dropdown-button",class:t.triggerButtonClass,attrs:{id:"stageDropdown",title:t.stage.title,"data-placement":"top","data-toggle":"dropdown","data-display":"static",type:"button","aria-haspopup":"true","aria-expanded":"false"},on:{click:t.onClickStage}},[i("span",{staticClass:"no-pointer-events",attrs:{"aria-label":t.stage.title,"aria-hidden":"true"}},[i("icon",{attrs:{name:t.borderlessIcon}})],1),t._v(" "),i("i",{staticClass:"fa fa-caret-down",attrs:{"aria-hidden":"true"}})]),t._v(" "),i("div",{staticClass:"dropdown-menu mini-pipeline-graph-dropdown-menu js-builds-dropdown-container",attrs:{"aria-labelledby":"stageDropdown"}},[t.isLoading?i("loading-icon"):i("ul",{staticClass:"js-builds-dropdown-list scrollable-menu"},t._l(t.dropdownContent,function(e){return i("li",{key:e.id},[i("job-component",{attrs:{"dropdown-length":t.dropdownContent.length,job:e,"css-class-job-name":"mini-pipeline-graph-dropdown-item"},on:{pipelineActionRequestComplete:t.pipelineActionRequestComplete}})],1)}))],1)])},[],!1,null,null,null);e.a=v.exports},273:function(t,e,i){"use strict";var n=i(61),a=i.n(n),s=i(1),o=i(7),r=i(97),l=i(226),p={name:"PipelinesSvgState",props:{svgPath:{type:String,required:!0},message:{type:String,required:!0}}},c=i(2),u=Object(c.a)(p,function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"row empty-state"},[e("div",{staticClass:"col-12"},[e("div",{staticClass:"svg-content"},[e("img",{attrs:{src:this.svgPath}})])]),this._v(" "),e("div",{staticClass:"col-12 text-center"},[e("div",{staticClass:"text-content"},[e("h4",[this._v(this._s(this.message))])])])])},[],!1,null,null,null).exports,d=i(27),h=i(95),m=i(49),f=i(15),v=i(12),g={directives:{tooltip:v.a},components:{loadingIcon:d.a,icon:f.a},props:{actions:{type:Array,required:!0}},data:function(){return{isLoading:!1}},methods:{onClickAction:function(t){this.isLoading=!0,m.a.$emit("postAction",t)},isActionDisabled:function(t){return void 0!==t.playable&&!t.playable}}},b=Object(c.a)(g,function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"btn-group"},[i("button",{directives:[{name:"tooltip",rawName:"v-tooltip"}],staticClass:"dropdown-new btn btn-default js-pipeline-dropdown-manual-actions",attrs:{disabled:t.isLoading,type:"button",title:"Manual job","data-toggle":"dropdown","data-placement":"top","aria-label":"Manual job"}},[i("icon",{staticClass:"icon-play",attrs:{name:"play"}}),t._v(" "),i("i",{staticClass:"fa fa-caret-down",attrs:{"aria-hidden":"true"}}),t._v(" "),t.isLoading?i("loading-icon"):t._e()],1),t._v(" "),i("ul",{staticClass:"dropdown-menu dropdown-menu-right"},t._l(t.actions,function(e,n){return i("li",{key:n},[i("button",{staticClass:"js-pipeline-action-link no-btn btn",class:{disabled:t.isActionDisabled(e)},attrs:{disabled:t.isActionDisabled(e),type:"button"},on:{click:function(i){t.onClickAction(e.path)}}},[t._v("\n        "+t._s(e.name)+"\n      ")])])}))])},[],!1,null,null,null).exports,_={directives:{tooltip:v.a},components:{icon:f.a},props:{artifacts:{type:Array,required:!0}}},C=Object(c.a)(_,function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"btn-group",attrs:{role:"group"}},[i("button",{directives:[{name:"tooltip",rawName:"v-tooltip"}],staticClass:"dropdown-toggle btn btn-default build-artifacts js-pipeline-dropdown-download",attrs:{title:"Artifacts","data-placement":"top","data-toggle":"dropdown","aria-label":"Artifacts"}},[i("icon",{attrs:{name:"download"}}),t._v(" "),i("i",{staticClass:"fa fa-caret-down",attrs:{"aria-hidden":"true"}})],1),t._v(" "),i("ul",{staticClass:"dropdown-menu dropdown-menu-right"},t._l(t.artifacts,function(e,n){return i("li",{key:n},[i("a",{attrs:{href:e.path,rel:"nofollow",download:""}},[t._v("\n        Download "+t._s(e.name)+" artifacts\n      ")])])}))])},[],!1,null,null,null).exports,w=i(188),y=i(245),j=i(88),S=i(230),k={components:{userAvatarLink:j.a},directives:{tooltip:v.a,popover:S.a},props:{pipeline:{type:Object,required:!0},autoDevopsHelpPath:{type:String,required:!0}},computed:{user:function(){return this.pipeline.user},popoverOptions:function(){return{html:!0,trigger:"focus",placement:"top",title:'<div class="autodevops-title">\n            This pipeline makes use of a predefined CI/CD configuration enabled by <b>Auto DevOps.</b>\n          </div>',content:'<a\n            class="autodevops-link"\n            href="'+this.autoDevopsHelpPath+'"\n            target="_blank"\n            rel="noopener noreferrer nofollow">\n            Learn more about Auto DevOps\n          </a>'}}}},P=Object(c.a)(k,function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"table-section section-15 d-none d-sm-none d-md-block pipeline-tags"},[i("a",{staticClass:"js-pipeline-url-link",attrs:{href:t.pipeline.path}},[i("span",{staticClass:"pipeline-id"},[t._v("#"+t._s(t.pipeline.id))])]),t._v(" "),i("span",[t._v("by")]),t._v(" "),t.user?i("user-avatar-link",{staticClass:"js-pipeline-url-user",attrs:{"link-href":t.pipeline.user.path,"img-src":t.pipeline.user.avatar_url,"tooltip-text":t.pipeline.user.name}}):t._e(),t._v(" "),t.user?t._e():i("span",{staticClass:"js-pipeline-url-api api"},[t._v("\n    API\n  ")]),t._v(" "),i("div",{staticClass:"label-container"},[t.pipeline.flags.latest?i("span",{directives:[{name:"tooltip",rawName:"v-tooltip"}],staticClass:"js-pipeline-url-latest badge badge-success",attrs:{title:"Latest pipeline for this branch"}},[t._v("\n      latest\n    ")]):t._e(),t._v(" "),t.pipeline.flags.yaml_errors?i("span",{directives:[{name:"tooltip",rawName:"v-tooltip"}],staticClass:"js-pipeline-url-yaml badge badge-danger",attrs:{title:t.pipeline.yaml_errors}},[t._v("\n      yaml invalid\n    ")]):t._e(),t._v(" "),t.pipeline.flags.failure_reason?i("span",{directives:[{name:"tooltip",rawName:"v-tooltip"}],staticClass:"js-pipeline-url-failure badge badge-danger",attrs:{title:t.pipeline.failure_reason}},[t._v("\n      error\n    ")]):t._e(),t._v(" "),t.pipeline.flags.auto_devops?i("a",{directives:[{name:"popover",rawName:"v-popover",value:t.popoverOptions,expression:"popoverOptions"}],staticClass:"js-pipeline-url-autodevops badge badge-info autodevops-badge",attrs:{tabindex:"0",role:"button"}},[t._v("\n      Auto DevOps\n    ")]):t._e(),t._v(" "),t.pipeline.flags.stuck?i("span",{staticClass:"js-pipeline-url-stuck badge badge-warning"},[t._v("\n      stuck\n    ")]):t._e()])],1)},[],!1,null,null,null).exports,q=i(277),D=i.n(q),T=(i(38),i(94)),A={directives:{tooltip:v.a},mixins:[T.a],props:{finishedTime:{type:String,required:!0},duration:{type:Number,required:!0}},data:function(){return{iconTimerSvg:D.a}},computed:{hasDuration:function(){return this.duration>0},hasFinishedTime:function(){return""!==this.finishedTime},durationFormated:function(){var t=new Date(1e3*this.duration),e=t.getUTCHours(),i=t.getUTCMinutes(),n=t.getSeconds();return e<10&&(e="0"+e),i<10&&(i="0"+i),n<10&&(n="0"+n),e+":"+i+":"+n}}},x=Object(c.a)(A,function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"table-section section-15 pipelines-time-ago"},[i("div",{staticClass:"table-mobile-header",attrs:{role:"rowheader"}},[t._v("\n    Duration\n  ")]),t._v(" "),i("div",{staticClass:"table-mobile-content"},[t.hasDuration?i("p",{staticClass:"duration"},[i("span",{domProps:{innerHTML:t._s(t.iconTimerSvg)}}),t._v("\n      "+t._s(t.durationFormated)+"\n    ")]):t._e(),t._v(" "),t.hasFinishedTime?i("p",{staticClass:"finished-at d-none d-sm-none d-md-block"},[i("i",{staticClass:"fa fa-calendar",attrs:{"aria-hidden":"true"}}),t._v(" "),i("time",{directives:[{name:"tooltip",rawName:"v-tooltip"}],attrs:{title:t.tooltipTitle(t.finishedTime),"data-placement":"top","data-container":"body"}},[t._v("\n        "+t._s(t.timeFormated(t.finishedTime))+"\n      ")])]):t._e()])])},[],!1,null,null,null).exports,O=i(223),L=i(109),$=i(122),E={components:{PipelinesActionsComponent:b,PipelinesArtifactsComponent:C,CommitComponent:O.a,PipelineStage:y.a,PipelineUrl:P,CiBadge:w.a,PipelinesTimeago:x,LoadingButton:L.a,Icon:f.a},props:{pipeline:{type:Object,required:!0},updateGraphDropdown:{type:Boolean,required:!1,default:!1},autoDevopsHelpPath:{type:String,required:!0},viewType:{type:String,required:!0},cancelingPipeline:{type:String,required:!1,default:null}},pipelinesTable:$.b,data:function(){return{isRetrying:!1}},computed:{commitAuthor:function(){var t=void 0;return this.pipeline&&this.pipeline.commit?(this.pipeline.commit.author?this.pipeline.commit.author.avatar_url?t=this.pipeline.commit.author:this.pipeline.commit.author_gravatar_url&&(t=Object.assign({},this.pipeline.commit.author,{avatar_url:this.pipeline.commit.author_gravatar_url})):t={avatar_url:this.pipeline.commit.author_gravatar_url,path:"mailto:"+this.pipeline.commit.author_email,username:this.pipeline.commit.author_name},t):null},commitTag:function(){if(this.pipeline.ref&&this.pipeline.ref.tag)return this.pipeline.ref.tag},commitRef:function(){var t=this;if(this.pipeline.ref)return Object.keys(this.pipeline.ref).reduce(function(e,i){return"path"===i?e.ref_url=t.pipeline.ref[i]:e[i]=t.pipeline.ref[i],e},{})},commitUrl:function(){if(this.pipeline.commit&&this.pipeline.commit.commit_path)return this.pipeline.commit.commit_path},commitShortSha:function(){if(this.pipeline.commit&&this.pipeline.commit.short_id)return this.pipeline.commit.short_id},commitTitle:function(){if(this.pipeline.commit&&this.pipeline.commit.title)return this.pipeline.commit.title},pipelineDuration:function(){return this.pipeline.details&&this.pipeline.details.duration?this.pipeline.details.duration:0},pipelineFinishedAt:function(){return this.pipeline.details&&this.pipeline.details.finished_at?this.pipeline.details.finished_at:""},pipelineStatus:function(){return this.pipeline.details&&this.pipeline.details.status?this.pipeline.details.status:{}},displayPipelineActions:function(){return this.pipeline.flags.retryable||this.pipeline.flags.cancelable||this.pipeline.details.manual_actions.length||this.pipeline.details.artifacts.length},isChildView:function(){return"child"===this.viewType},isCancelling:function(){return this.cancelingPipeline===this.pipeline.id}},methods:{handleCancelClick:function(){m.a.$emit("openConfirmationModal",{pipelineId:this.pipeline.id,endpoint:this.pipeline.cancel_path})},handleRetryClick:function(){this.isRetrying=!0,m.a.$emit("retryPipeline",this.pipeline.retry_path)}}},R={components:{PipelinesTableRowComponent:Object(c.a)(E,function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"commit gl-responsive-table-row"},[i("div",{staticClass:"table-section section-10 commit-link"},[i("div",{staticClass:"table-mobile-header",attrs:{role:"rowheader"}},[t._v("\n      Status\n    ")]),t._v(" "),i("div",{staticClass:"table-mobile-content"},[i("ci-badge",{attrs:{status:t.pipelineStatus,"show-text":!t.isChildView}})],1)]),t._v(" "),i("pipeline-url",{attrs:{pipeline:t.pipeline,"auto-devops-help-path":t.autoDevopsHelpPath}}),t._v(" "),i("div",{staticClass:"table-section section-20"},[i("div",{staticClass:"table-mobile-header",attrs:{role:"rowheader"}},[t._v("\n      Commit\n    ")]),t._v(" "),i("div",{staticClass:"table-mobile-content"},[i("commit-component",{attrs:{tag:t.commitTag,"commit-ref":t.commitRef,"commit-url":t.commitUrl,"short-sha":t.commitShortSha,title:t.commitTitle,author:t.commitAuthor,"show-branch":!t.isChildView}})],1)]),t._v(" "),i("div",{staticClass:"table-section section-wrap section-20 stage-cell"},[i("div",{staticClass:"table-mobile-header",attrs:{role:"rowheader"}},[t._v("\n      Stages\n    ")]),t._v(" "),i("div",{staticClass:"table-mobile-content"},[t.pipeline.details.stages.length>0?t._l(t.pipeline.details.stages,function(e,n){return i("div",{key:n,staticClass:"stage-container dropdown js-mini-pipeline-graph"},[i("pipeline-stage",{attrs:{type:t.$options.pipelinesTable,stage:e,"update-dropdown":t.updateGraphDropdown}})],1)}):t._e()],2)]),t._v(" "),i("pipelines-timeago",{attrs:{duration:t.pipelineDuration,"finished-time":t.pipelineFinishedAt}}),t._v(" "),t.displayPipelineActions?i("div",{staticClass:"table-section section-20 table-button-footer pipeline-actions"},[i("div",{staticClass:"btn-group table-action-buttons"},[t.pipeline.details.manual_actions.length?i("pipelines-actions-component",{attrs:{actions:t.pipeline.details.manual_actions}}):t._e(),t._v(" "),t.pipeline.details.artifacts.length?i("pipelines-artifacts-component",{staticClass:"d-none d-sm-none d-md-block",attrs:{artifacts:t.pipeline.details.artifacts}}):t._e(),t._v(" "),t.pipeline.flags.retryable?i("loading-button",{attrs:{loading:t.isRetrying,disabled:t.isRetrying,"container-class":"js-pipelines-retry-button btn btn-default btn-retry"},on:{click:t.handleRetryClick}},[i("icon",{attrs:{name:"repeat"}})],1):t._e(),t._v(" "),t.pipeline.flags.cancelable?i("loading-button",{attrs:{loading:t.isCancelling,disabled:t.isCancelling,"data-toggle":"modal","data-target":"#confirmation-modal","container-class":"js-pipelines-cancel-button btn btn-remove"},on:{click:t.handleCancelClick}},[i("icon",{attrs:{name:"close"}})],1):t._e()],1)]):t._e()],1)},[],!1,null,null,null).exports,Modal:h.a},props:{pipelines:{type:Array,required:!0},updateGraphDropdown:{type:Boolean,required:!1,default:!1},autoDevopsHelpPath:{type:String,required:!0},viewType:{type:String,required:!0}},data:function(){return{pipelineId:"",endpoint:"",cancelingPipeline:null}},computed:{modalTitle:function(){return Object(s.f)(Object(s.e)("Pipeline|Stop pipeline #%{pipelineId}?"),{pipelineId:""+this.pipelineId},!1)},modalText:function(){return Object(s.f)(Object(s.e)("Pipeline|You’re about to stop pipeline %{pipelineId}."),{pipelineId:"<strong>#"+this.pipelineId+"</strong>"},!1)}},created:function(){m.a.$on("openConfirmationModal",this.setModalData)},beforeDestroy:function(){m.a.$off("openConfirmationModal",this.setModalData)},methods:{setModalData:function(t){this.pipelineId=t.pipelineId,this.endpoint=t.endpoint},onSubmit:function(){m.a.$emit("postAction",this.endpoint),this.cancelingPipeline=this.pipelineId}}},I=Object(c.a)(R,function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"ci-table"},[t._m(0),t._v(" "),t._l(t.pipelines,function(e){return i("pipelines-table-row-component",{key:e.id,attrs:{pipeline:e,"update-graph-dropdown":t.updateGraphDropdown,"auto-devops-help-path":t.autoDevopsHelpPath,"view-type":t.viewType,"canceling-pipeline":t.cancelingPipeline}})}),t._v(" "),i("modal",{attrs:{id:"confirmation-modal","header-title-text":t.modalTitle,"footer-primary-button-text":t.s__("Pipeline|Stop pipeline"),"footer-primary-button-variant":"danger"},on:{submit:t.onSubmit}},[i("span",{domProps:{innerHTML:t._s(t.modalText)}})])],2)},[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"gl-responsive-table-row table-row-header",attrs:{role:"row"}},[e("div",{staticClass:"table-section section-10 js-pipeline-status pipeline-status",attrs:{role:"rowheader"}},[this._v("\n      Status\n    ")]),this._v(" "),e("div",{staticClass:"table-section section-15 js-pipeline-info pipeline-info",attrs:{role:"rowheader"}},[this._v("\n      Pipeline\n    ")]),this._v(" "),e("div",{staticClass:"table-section section-20 js-pipeline-commit pipeline-commit",attrs:{role:"rowheader"}},[this._v("\n      Commit\n    ")]),this._v(" "),e("div",{staticClass:"table-section section-20 js-pipeline-stages pipeline-stages",attrs:{role:"rowheader"}},[this._v("\n      Stages\n    ")])])}],!1,null,null,null).exports;e.a={components:{PipelinesTableComponent:I,SvgBlankState:u,EmptyState:l.a,LoadingIcon:d.a},data:function(){return{isLoading:!1,hasError:!1,isMakingRequest:!1,updateGraphDropdown:!1,hasMadeRequest:!1}},beforeMount:function(){var t=this;this.poll=new r.a({resource:this.service,method:"getPipelines",data:this.requestData?this.requestData:void 0,successCallback:this.successCallback,errorCallback:this.errorCallback,notificationCallback:this.setIsMakingRequest}),a.a.hidden()?this.fetchPipelines():(this.isLoading=!0,this.poll.makeRequest()),a.a.change(function(){a.a.hidden()?t.poll.stop():t.poll.restart()}),m.a.$on("postAction",this.postAction),m.a.$on("retryPipeline",this.postAction),m.a.$on("clickedDropdown",this.updateTable),m.a.$on("refreshPipelinesTable",this.fetchPipelines)},beforeDestroy:function(){m.a.$off("postAction",this.postAction),m.a.$off("retryPipeline",this.postAction),m.a.$off("clickedDropdown",this.updateTable),m.a.$off("refreshPipelinesTable",this.fetchPipelines)},destroyed:function(){this.poll.stop()},methods:{updateTable:function(){var t=this;return this.isMakingRequest&&this.service.cancelationSource.cancel($.a),this.poll.stop(),this.getPipelines().then(function(){return t.poll.restart()})},fetchPipelines:function(){this.isMakingRequest||(this.isLoading=!0,this.getPipelines())},getPipelines:function(){var t=this;return this.service.getPipelines(this.requestData).then(function(e){return t.successCallback(e)}).catch(function(e){return t.errorCallback(e)})},setCommonData:function(t){this.store.storePipelines(t),this.isLoading=!1,this.updateGraphDropdown=!0,this.hasMadeRequest=!0,this.hasError&&(this.hasError=!1)},errorCallback:function(t){this.hasMadeRequest=!0,this.isLoading=!1,t&&t.message&&t.message!==$.a&&(this.hasError=!0,this.updateGraphDropdown=!1)},setIsMakingRequest:function(t){this.isMakingRequest=t,t&&(this.updateGraphDropdown=!1)},postAction:function(t){var e=this;this.service.postAction(t).then(function(){return e.fetchPipelines()}).catch(function(){return Object(o.a)(Object(s.a)("An error occurred while making the request."))})}}}},277:function(t,e){t.exports='<svg xmlns="http://www.w3.org/2000/svg" width="40" height="40" viewBox="0 0 40 40"><g fill="#8F8F8F" fill-rule="evenodd"><path d="M29.513 10.134A15.922 15.922 0 0 0 23 7.28V6h2.993C26.55 6 27 5.552 27 5V2a1 1 0 0 0-1.007-1H14.007C13.45 1 13 1.448 13 2v3a1 1 0 0 0 1.007 1H17v1.28C9.597 8.686 4 15.19 4 23c0 8.837 7.163 16 16 16s16-7.163 16-16c0-3.461-1.099-6.665-2.967-9.283l1.327-1.58a2.498 2.498 0 0 0-.303-3.53 2.499 2.499 0 0 0-3.528.315l-1.016 1.212zM20 34c6.075 0 11-4.925 11-11s-4.925-11-11-11S9 16.925 9 23s4.925 11 11 11z"/><path d="M19 21h-4.002c-.552 0-.998.452-.998 1.01v1.98c0 .567.447 1.01.998 1.01h7.004c.274 0 .521-.111.701-.291a.979.979 0 0 0 .297-.704v-8.01c0-.54-.452-.995-1.01-.995h-1.98a.997.997 0 0 0-1.01.995V21z"/></g></svg>\n'},278:function(t,e,i){"use strict";var n=i(11),a=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}();var s=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.state={},this.state.pipelines=[],this.state.count={},this.state.pageInfo={}}return a(t,[{key:"storePipelines",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];this.state.pipelines=t}},{key:"storeCount",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.state.count=t}},{key:"storePagination",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=void 0;if(Object.keys(t).length){var i=Object(n.z)(t);e=Object(n.B)(i)}else e=t;this.state.pageInfo=e}}]),t}();e.a=s},279:function(t,e,i){"use strict";var n=i(5),a=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}();var s=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),-1===e.indexOf(".json")?this.endpoint=e+".json":this.endpoint=e}return a(t,[{key:"getPipelines",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.scope,i=t.page,a=n.a.CancelToken;return this.cancelationSource=a.source(),n.a.get(this.endpoint,{params:{scope:e,page:i},cancelToken:this.cancelationSource.token})}},{key:"postAction",value:function(t){return n.a.post(t+".json")}}]),t}();e.a=s},340:function(t,e,i){"use strict";var n=i(8),a=i(279),s=i(278),o={mixins:[i(273).a],props:{endpoint:{type:String,required:!0},helpPagePath:{type:String,required:!0},autoDevopsHelpPath:{type:String,required:!0},errorStateSvgPath:{type:String,required:!0},viewType:{type:String,required:!1,default:"child"}},data:function(){var t=new s.a;return{store:t,state:t.state}},computed:{shouldRenderTable:function(){return!this.isLoading&&this.state.pipelines.length>0&&!this.hasError},shouldRenderErrorState:function(){return this.hasError&&!this.isLoading}},created:function(){this.service=new a.a(this.endpoint)},methods:{successCallback:function(t){var e=t.data.pipelines||t.data;this.setCommonData(e);var i=new CustomEvent("update-pipelines-count",{detail:{pipelines:t.data}});this.$el.parentElement&&this.$el.parentElement.dispatchEvent(i)}}},r=i(2),l=Object(r.a)(o,function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"content-list pipelines"},[t.isLoading?i("loading-icon",{staticClass:"prepend-top-20",attrs:{label:t.s__("Pipelines|Loading Pipelines"),size:"3"}}):t.shouldRenderErrorState?i("svg-blank-state",{attrs:{"svg-path":t.errorStateSvgPath,message:t.s__("Pipelines|There was an error fetching the pipelines.\n    Try again in a few moments or contact your support team.")}}):t.shouldRenderTable?i("div",{staticClass:"table-holder"},[i("pipelines-table-component",{attrs:{pipelines:t.state.pipelines,"update-graph-dropdown":t.updateGraphDropdown,"auto-devops-help-path":t.autoDevopsHelpPath,"view-type":t.viewType}})],1):t._e()],1)},[],!1,null,null,null).exports,p=n.default.extend(l);window.gl=window.gl||{},window.gl.CommitPipelinesTable=p;e.a=function(){var t=document.querySelector("#commit-pipeline-table-view");if(t&&(t.addEventListener("update-pipelines-count",function(t){t.detail.pipelines&&t.detail.pipelines.count&&t.detail.pipelines.count.all&&(document.querySelector(".js-pipelines-mr-count").textContent=t.detail.pipelines.count.all)}),void 0===t.dataset.disableInitialization)){var e=new p({propsData:{endpoint:t.dataset.endpoint,helpPagePath:t.dataset.helpPagePath,emptyStateSvgPath:t.dataset.emptyStateSvgPath,errorStateSvgPath:t.dataset.errorStateSvgPath,autoDevopsHelpPath:t.dataset.helpAutoDevopsPath}}).$mount();t.appendChild(e.$el)}}},457:function(t,e,i){"use strict";var n=i(0),a=i.n(n),s=i(7),o=i(5),r=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}();var l=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.container=e.container||"",this.dropdownListSelector=".js-builds-dropdown-container",this.getBuildsList=this.getBuildsList.bind(this)}return r(t,[{key:"bindEvents",value:function(){a()(document).off("shown.bs.dropdown",this.container).on("shown.bs.dropdown",this.container,this.getBuildsList)}},{key:"stopDropdownClickPropagation",value:function(){a()(document).on("click",this.container+" .js-builds-dropdown-list a.mini-pipeline-graph-dropdown-item",function(t){t.stopPropagation()})}},{key:"renderBuildsList",value:function(t,e){t.parentElement.querySelector(this.dropdownListSelector+" .js-builds-dropdown-list ul").innerHTML=e}},{key:"getBuildsList",value:function(t){var e=this,i=t.relatedTarget,n=i.dataset.stageEndpoint;this.renderBuildsList(i,""),this.toggleLoading(i),o.a.get(n).then(function(t){var n=t.data;e.toggleLoading(i),e.renderBuildsList(i,n.html),e.stopDropdownClickPropagation()}).catch(function(){e.toggleLoading(i),a()(i).parent().hasClass("open")&&a()(i).dropdown("toggle"),Object(s.a)("An error occurred while fetching the builds.","alert")})}},{key:"toggleLoading",value:function(t){t.parentElement.querySelector(this.dropdownListSelector+" .js-builds-dropdown-loading").classList.toggle("hidden")}}]),t}();e.a=l},49:function(t,e,i){"use strict";var n=i(8);e.a=new n.default},88:function(t,e,i){"use strict";var n=i(82),a=i(12),s={name:"UserAvatarLink",components:{userAvatarImage:n.a},directives:{tooltip:a.a},props:{linkHref:{type:String,required:!1,default:""},imgSrc:{type:String,required:!1,default:""},imgAlt:{type:String,required:!1,default:""},imgCssClasses:{type:String,required:!1,default:""},imgSize:{type:Number,required:!1,default:20},tooltipText:{type:String,required:!1,default:""},tooltipPlacement:{type:String,required:!1,default:"top"},username:{type:String,required:!1,default:""}},computed:{shouldShowUsername:function(){return this.username.length>0},avatarTooltipText:function(){return this.shouldShowUsername?"":this.tooltipText}}},o=i(2),r=Object(o.a)(s,function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("a",{staticClass:"user-avatar-link",attrs:{href:t.linkHref}},[i("user-avatar-image",{attrs:{"img-src":t.imgSrc,"img-alt":t.imgAlt,"css-classes":t.imgCssClasses,size:t.imgSize,"tooltip-text":t.avatarTooltipText,"tooltip-placement":t.tooltipPlacement}}),t.shouldShowUsername?i("span",{directives:[{name:"tooltip",rawName:"v-tooltip"}],attrs:{title:t.tooltipText,"tooltip-placement":t.tooltipPlacement}},[t._v(t._s(t.username))]):t._e()],1)},[],!1,null,null,null);e.a=r.exports},95:function(t,e,i){"use strict";var n=i(0),a=i.n(n),s=["danger","primary","success","warning"],o=["sm","md","lg","xl"],r={name:"GlModal",props:{id:{type:String,required:!1,default:null},modalSize:{type:String,required:!1,default:"md",validator:function(t){return o.includes(t)}},headerTitleText:{type:String,required:!1,default:""},footerPrimaryButtonVariant:{type:String,required:!1,default:"primary",validator:function(t){return s.includes(t)}},footerPrimaryButtonText:{type:String,required:!1,default:""}},computed:{modalSizeClass:function(){return"md"===this.modalSize?"":"modal-"+this.modalSize}},mounted:function(){a()(this.$el).on("shown.bs.modal",this.opened).on("hidden.bs.modal",this.closed)},beforeDestroy:function(){a()(this.$el).off("shown.bs.modal",this.opened).off("hidden.bs.modal",this.closed)},methods:{emitCancel:function(t){this.$emit("cancel",t)},emitSubmit:function(t){this.$emit("submit",t)},opened:function(){this.$emit("open")},closed:function(){this.$emit("closed")}}},l=i(2),p=Object(l.a)(r,function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"modal fade",attrs:{id:t.id,tabindex:"-1",role:"dialog"}},[i("div",{staticClass:"modal-dialog",class:t.modalSizeClass,attrs:{role:"document"}},[i("div",{staticClass:"modal-content"},[i("div",{staticClass:"modal-header"},[t._t("header",[i("h4",{staticClass:"modal-title"},[t._t("title",[t._v("\n              "+t._s(t.headerTitleText)+"\n            ")])],2),t._v(" "),i("button",{staticClass:"close js-modal-close-action",attrs:{"aria-label":t.s__("Modal|Close"),type:"button","data-dismiss":"modal"},on:{click:function(e){t.emitCancel(e)}}},[i("span",{attrs:{"aria-hidden":"true"}},[t._v("×")])])])],2),t._v(" "),i("div",{staticClass:"modal-body"},[t._t("default")],2),t._v(" "),i("div",{staticClass:"modal-footer"},[t._t("footer",[i("button",{staticClass:"btn js-modal-cancel-action",attrs:{type:"button","data-dismiss":"modal"},on:{click:function(e){t.emitCancel(e)}}},[t._v("\n            "+t._s(t.s__("Modal|Cancel"))+"\n          ")]),t._v(" "),i("button",{staticClass:"btn js-modal-primary-action",class:"btn-"+t.footerPrimaryButtonVariant,attrs:{type:"button","data-dismiss":"modal"},on:{click:function(e){t.emitSubmit(e)}}},[t._v("\n            "+t._s(t.footerPrimaryButtonText)+"\n          ")])])],2)])])])},[],!1,null,null,null);e.a=p.exports}},[[1030,0,1,2,6]]]);
//# sourceMappingURL=pages.projects.commit.pipelines.5b4247a4.chunk.js.map