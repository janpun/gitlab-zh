{"version":3,"sources":["webpack:///./settings_panels.js","webpack:///./confirm_danger_modal.js","webpack:///./pages/projects/edit/index.js","webpack:///./pages/projects/shared/save_project_loader.js","webpack:///./project_edit.js","webpack:///./pages/projects/shared/project_avatar.js"],"names":["expandSection","$section","find","text","off","scrollTop","addClass","hasClass","one","removeClass","toggleSection","on","closeSection","initSettingsPanels","jquery__WEBPACK_IMPORTED_MODULE_0___default","each","i","elm","window","location","hash","$target","length","initConfirmDangerModal","document","e","preventDefault","$btn","target","$form","$input","val","modal","confirmTextMatch","$submit","disable","focus","Object","_lib_utils_common_utils__WEBPACK_IMPORTED_MODULE_1__","this","enable","submit","openConfirmDangerModal","closest","data","addEventListener","$formContainer","$loadingSpinner","$transferForm","$selectNamespace","jquery_default","hide","show","prop","trigger","settings_panels","bind","click","form","filename","replace","permissions","confirm_danger_modal"],"mappings":"+LAEA,SAASA,EAAcC,GACrBA,EAASC,KAAK,uBAAuBC,KAAK,YAC1CF,EAASC,KAAK,qBAAqBE,IAAI,wBAAwBC,UAAU,GACzEJ,EAASK,SAAS,YACbL,EAASM,SAAS,eACrBN,EAASK,SAAS,aACfE,IAAI,8BAA+B,kBAAMP,EAASQ,YAAY,eAcrE,SAASC,EAAcT,GACrBA,EAASQ,YAAY,cACjBR,EAASM,SAAS,YAZxB,SAAsBN,GACpBA,EAASC,KAAK,uBAAuBC,KAAK,UAC1CF,EAASC,KAAK,qBAAqBS,GAAG,uBAAwB,kBAAMX,EAAcC,KAClFA,EAASQ,YAAY,YAChBR,EAASM,SAAS,eACrBN,EAASK,SAAS,aACfE,IAAI,8BAA+B,kBAAMP,EAASQ,YAAY,eAOjEG,CAAaX,GAEbD,EAAcC,GAIH,SAASY,IAatB,GAZAC,IAAE,aAAaC,KAAK,SAACC,EAAGC,GACtB,IAAMhB,EAAWa,IAAEG,GACnBhB,EAASU,GAAG,sBAAuB,sBAAuB,kBAAMD,EAAcT,KAEzEA,EAASM,SAAS,aACrBN,EAASC,KAAK,qBAAqBS,GAAG,uBAAwB,WAC5DV,EAASQ,YAAY,cACrBT,EAAcC,OAKhBiB,OAAOC,SAASC,KAAM,CACxB,IAAMC,EAAUP,IAAEI,OAAOC,SAASC,MAC9BC,EAAQC,QAAUD,EAAQd,SAAS,aACrCP,EAAcqB,mGCrBL,SAASE,IACtBT,IAAEU,UAAUb,GAAG,QAAS,qBAAsB,SAACc,GAC7CA,EAAEC,iBACF,IAAMC,EAAOb,IAAEW,EAAEG,SA1BrB,SAAgCC,EAAO1B,GACrC,IAAM2B,EAAShB,IAAE,4BACjBgB,EAAOC,IAAI,IAEXjB,IAAE,oBAAoBX,KAAKA,GAAQ,IACnCW,IAAE,yBAAyBkB,MAAM,QAEjC,IAAMC,EAAmBnB,IAAE,4BAA4BX,OACjD+B,EAAUpB,IAAE,6BAClBoB,EAAQC,UACRL,EAAOM,QAEPtB,IAAE,4BAA4BV,IAAI,SAASO,GAAG,QAAS,WACjC0B,OAAAC,EAAA,EAAAD,CAAOvB,IAAEyB,MAAMR,SACfE,EAClBC,EAAQM,SAERN,EAAQC,YAGZrB,IAAE,6BAA6BV,IAAI,SAASO,GAAG,QAAS,kBAAMkB,EAAMY,WASlEC,CAFcf,EAAKgB,QAAQ,QACdhB,EAAKiB,KAAK,4HCxB3BpB,SAASqB,iBAAiB,mBAAoB,WCL/B,IACPC,EACAC,ECDAC,EACAC,EDDAH,EAAiBI,IAAE,2BACnBH,EAAkBG,IAAE,wBAG1BJ,EAAenC,GAAG,cAAe,WAC/BmC,EAAeK,OACfJ,EAAgBK,SCNZJ,EAAgBE,IAAE,8BAClBD,EAAmBD,EAAc9C,KAAK,mBAE3BS,GAAG,SAAU,WAC5BqC,EAAc9C,KAAK,WAAWmD,KAAK,YAAaJ,EAAiBlB,SAEnEkB,EAAiBK,QAAQ,UFEzBjB,OAAAkB,EAAA,EAAAlB,GGRAa,IAAE,oCAAoCM,KAAK,QAAS,WAElD,OADaN,IAAEX,MAAMI,QAAQ,QACjBzC,KAAK,4BAA4BuD,UAG/CP,IAAE,4BAA4BM,KAAK,SAAU,WAC3C,IAAME,EAAOR,IAAEX,MAAMI,QAAQ,QAEvBgB,EAAWT,IAAEX,MAAMR,MAAM6B,QAAQ,YAAa,IACpD,OAAOF,EAAKxD,KAAK,uBAAuBC,KAAKwD,KHC/CtB,OAAAwB,EAAA,QAAAxB,GACAA,OAAAyB,EAAA,EAAAzB","file":"pages.projects.edit.d54dfba0.chunk.js","sourcesContent":["import $ from 'jquery';\n\nfunction expandSection($section) {\n  $section.find('.js-settings-toggle').text('Collapse');\n  $section.find('.settings-content').off('scroll.expandSection').scrollTop(0);\n  $section.addClass('expanded');\n  if (!$section.hasClass('no-animate')) {\n    $section.addClass('animating')\n      .one('animationend.animateSection', () => $section.removeClass('animating'));\n  }\n}\n\nfunction closeSection($section) {\n  $section.find('.js-settings-toggle').text('Expand');\n  $section.find('.settings-content').on('scroll.expandSection', () => expandSection($section));\n  $section.removeClass('expanded');\n  if (!$section.hasClass('no-animate')) {\n    $section.addClass('animating')\n      .one('animationend.animateSection', () => $section.removeClass('animating'));\n  }\n}\n\nfunction toggleSection($section) {\n  $section.removeClass('no-animate');\n  if ($section.hasClass('expanded')) {\n    closeSection($section);\n  } else {\n    expandSection($section);\n  }\n}\n\nexport default function initSettingsPanels() {\n  $('.settings').each((i, elm) => {\n    const $section = $(elm);\n    $section.on('click.toggleSection', '.js-settings-toggle', () => toggleSection($section));\n\n    if (!$section.hasClass('expanded')) {\n      $section.find('.settings-content').on('scroll.expandSection', () => {\n        $section.removeClass('no-animate');\n        expandSection($section);\n      });\n    }\n  });\n\n  if (window.location.hash) {\n    const $target = $(window.location.hash);\n    if ($target.length && $target.hasClass('settings')) {\n      expandSection($target);\n    }\n  }\n}\n","import $ from 'jquery';\nimport { rstrip } from './lib/utils/common_utils';\n\nfunction openConfirmDangerModal($form, text) {\n  const $input = $('.js-confirm-danger-input');\n  $input.val('');\n\n  $('.js-confirm-text').text(text || '');\n  $('#modal-confirm-danger').modal('show');\n\n  const confirmTextMatch = $('.js-confirm-danger-match').text();\n  const $submit = $('.js-confirm-danger-submit');\n  $submit.disable();\n  $input.focus();\n\n  $('.js-confirm-danger-input').off('input').on('input', function handleInput() {\n    const confirmText = rstrip($(this).val());\n    if (confirmText === confirmTextMatch) {\n      $submit.enable();\n    } else {\n      $submit.disable();\n    }\n  });\n  $('.js-confirm-danger-submit').off('click').on('click', () => $form.submit());\n}\n\nexport default function initConfirmDangerModal() {\n  $(document).on('click', '.js-confirm-danger', (e) => {\n    e.preventDefault();\n    const $btn = $(e.target);\n    const $form = $btn.closest('form');\n    const text = $btn.data('confirmDangerMessage');\n    openConfirmDangerModal($form, text);\n  });\n}\n","import initSettingsPanels from '~/settings_panels';\nimport setupProjectEdit from '~/project_edit';\nimport initConfirmDangerModal from '~/confirm_danger_modal';\nimport initProjectLoadingSpinner from '../shared/save_project_loader';\nimport projectAvatar from '../shared/project_avatar';\nimport initProjectPermissionsSettings from '../shared/permissions';\n\ndocument.addEventListener('DOMContentLoaded', () => {\n  initProjectLoadingSpinner();\n  setupProjectEdit();\n  // Initialize expandable settings panels\n  initSettingsPanels();\n  projectAvatar();\n  initProjectPermissionsSettings();\n  initConfirmDangerModal();\n});\n","import $ from 'jquery';\n\nexport default function initProjectLoadingSpinner() {\n  const $formContainer = $('.project-edit-container');\n  const $loadingSpinner = $('.save-project-loader');\n\n  // show loading spinner when saving\n  $formContainer.on('ajax:before', () => {\n    $formContainer.hide();\n    $loadingSpinner.show();\n  });\n}\n","import $ from 'jquery';\n\nexport default function setupProjectEdit() {\n  const $transferForm = $('.js-project-transfer-form');\n  const $selectNamespace = $transferForm.find('select.select2');\n\n  $selectNamespace.on('change', () => {\n    $transferForm.find(':submit').prop('disabled', !$selectNamespace.val());\n  });\n  $selectNamespace.trigger('change');\n}\n","import $ from 'jquery';\n\nexport default function projectAvatar() {\n  $('.js-choose-project-avatar-button').bind('click', function onClickAvatar() {\n    const form = $(this).closest('form');\n    return form.find('.js-project-avatar-input').click();\n  });\n\n  $('.js-project-avatar-input').bind('change', function onClickAvatarInput() {\n    const form = $(this).closest('form');\n    // eslint-disable-next-line no-useless-escape\n    const filename = $(this).val().replace(/^.*[\\\\\\/]/, '');\n    return form.find('.js-avatar-filename').text(filename);\n  });\n}\n"],"sourceRoot":""}